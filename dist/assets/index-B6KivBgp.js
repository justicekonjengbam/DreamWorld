(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();function Ah(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var El={exports:{}},ei={},Cl={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function fp(){if(Kd)return Se;Kd=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function j(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,R={};function C(T,F,fe){this.props=T,this.context=F,this.refs=R,this.updater=fe||N}C.prototype.isReactComponent={},C.prototype.setState=function(T,F){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,F,"setState")},C.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function $(){}$.prototype=C.prototype;function U(T,F,fe){this.props=T,this.context=F,this.refs=R,this.updater=fe||N}var P=U.prototype=new $;P.constructor=U,b(P,C.prototype),P.isPureReactComponent=!0;var Q=Array.isArray,G=Object.prototype.hasOwnProperty,H={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function Ee(T,F,fe){var ee,ge={},ie=null,xe=null;if(F!=null)for(ee in F.ref!==void 0&&(xe=F.ref),F.key!==void 0&&(ie=""+F.key),F)G.call(F,ee)&&!oe.hasOwnProperty(ee)&&(ge[ee]=F[ee]);var ae=arguments.length-2;if(ae===1)ge.children=fe;else if(1<ae){for(var ye=Array(ae),Ae=0;Ae<ae;Ae++)ye[Ae]=arguments[Ae+2];ge.children=ye}if(T&&T.defaultProps)for(ee in ae=T.defaultProps,ae)ge[ee]===void 0&&(ge[ee]=ae[ee]);return{$$typeof:i,type:T,key:ie,ref:xe,props:ge,_owner:H.current}}function Re(T,F){return{$$typeof:i,type:T.type,key:F,ref:T.ref,props:T.props,_owner:T._owner}}function et(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function zt(T){var F={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(fe){return F[fe]})}var kt=/\/+/g;function Je(T,F){return typeof T=="object"&&T!==null&&T.key!=null?zt(""+T.key):F.toString(36)}function dt(T,F,fe,ee,ge){var ie=typeof T;(ie==="undefined"||ie==="boolean")&&(T=null);var xe=!1;if(T===null)xe=!0;else switch(ie){case"string":case"number":xe=!0;break;case"object":switch(T.$$typeof){case i:case r:xe=!0}}if(xe)return xe=T,ge=ge(xe),T=ee===""?"."+Je(xe,0):ee,Q(ge)?(fe="",T!=null&&(fe=T.replace(kt,"$&/")+"/"),dt(ge,F,fe,"",function(Ae){return Ae})):ge!=null&&(et(ge)&&(ge=Re(ge,fe+(!ge.key||xe&&xe.key===ge.key?"":(""+ge.key).replace(kt,"$&/")+"/")+T)),F.push(ge)),1;if(xe=0,ee=ee===""?".":ee+":",Q(T))for(var ae=0;ae<T.length;ae++){ie=T[ae];var ye=ee+Je(ie,ae);xe+=dt(ie,F,fe,ye,ge)}else if(ye=j(T),typeof ye=="function")for(T=ye.call(T),ae=0;!(ie=T.next()).done;)ie=ie.value,ye=ee+Je(ie,ae++),xe+=dt(ie,F,fe,ye,ge);else if(ie==="object")throw F=String(T),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return xe}function Et(T,F,fe){if(T==null)return T;var ee=[],ge=0;return dt(T,ee,"","",function(ie){return F.call(fe,ie,ge++)}),ee}function it(T){if(T._status===-1){var F=T._result;F=F(),F.then(function(fe){(T._status===0||T._status===-1)&&(T._status=1,T._result=fe)},function(fe){(T._status===0||T._status===-1)&&(T._status=2,T._result=fe)}),T._status===-1&&(T._status=0,T._result=F)}if(T._status===1)return T._result.default;throw T._result}var Ie={current:null},J={transition:null},le={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:J,ReactCurrentOwner:H};function z(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Et,forEach:function(T,F,fe){Et(T,function(){F.apply(this,arguments)},fe)},count:function(T){var F=0;return Et(T,function(){F++}),F},toArray:function(T){return Et(T,function(F){return F})||[]},only:function(T){if(!et(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Se.Component=C,Se.Fragment=n,Se.Profiler=c,Se.PureComponent=U,Se.StrictMode=o,Se.Suspense=p,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Se.act=z,Se.cloneElement=function(T,F,fe){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ee=b({},T.props),ge=T.key,ie=T.ref,xe=T._owner;if(F!=null){if(F.ref!==void 0&&(ie=F.ref,xe=H.current),F.key!==void 0&&(ge=""+F.key),T.type&&T.type.defaultProps)var ae=T.type.defaultProps;for(ye in F)G.call(F,ye)&&!oe.hasOwnProperty(ye)&&(ee[ye]=F[ye]===void 0&&ae!==void 0?ae[ye]:F[ye])}var ye=arguments.length-2;if(ye===1)ee.children=fe;else if(1<ye){ae=Array(ye);for(var Ae=0;Ae<ye;Ae++)ae[Ae]=arguments[Ae+2];ee.children=ae}return{$$typeof:i,type:T.type,key:ge,ref:ie,props:ee,_owner:xe}},Se.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:u,_context:T},T.Consumer=T},Se.createElement=Ee,Se.createFactory=function(T){var F=Ee.bind(null,T);return F.type=T,F},Se.createRef=function(){return{current:null}},Se.forwardRef=function(T){return{$$typeof:m,render:T}},Se.isValidElement=et,Se.lazy=function(T){return{$$typeof:w,_payload:{_status:-1,_result:T},_init:it}},Se.memo=function(T,F){return{$$typeof:g,type:T,compare:F===void 0?null:F}},Se.startTransition=function(T){var F=J.transition;J.transition={};try{T()}finally{J.transition=F}},Se.unstable_act=z,Se.useCallback=function(T,F){return Ie.current.useCallback(T,F)},Se.useContext=function(T){return Ie.current.useContext(T)},Se.useDebugValue=function(){},Se.useDeferredValue=function(T){return Ie.current.useDeferredValue(T)},Se.useEffect=function(T,F){return Ie.current.useEffect(T,F)},Se.useId=function(){return Ie.current.useId()},Se.useImperativeHandle=function(T,F,fe){return Ie.current.useImperativeHandle(T,F,fe)},Se.useInsertionEffect=function(T,F){return Ie.current.useInsertionEffect(T,F)},Se.useLayoutEffect=function(T,F){return Ie.current.useLayoutEffect(T,F)},Se.useMemo=function(T,F){return Ie.current.useMemo(T,F)},Se.useReducer=function(T,F,fe){return Ie.current.useReducer(T,F,fe)},Se.useRef=function(T){return Ie.current.useRef(T)},Se.useState=function(T){return Ie.current.useState(T)},Se.useSyncExternalStore=function(T,F,fe){return Ie.current.useSyncExternalStore(T,F,fe)},Se.useTransition=function(){return Ie.current.useTransition()},Se.version="18.3.1",Se}var Gd;function sc(){return Gd||(Gd=1,Cl.exports=fp()),Cl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function mp(){if(Jd)return ei;Jd=1;var i=sc(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,p,g){var w,x={},j=null,N=null;g!==void 0&&(j=""+g),p.key!==void 0&&(j=""+p.key),p.ref!==void 0&&(N=p.ref);for(w in p)o.call(p,w)&&!u.hasOwnProperty(w)&&(x[w]=p[w]);if(m&&m.defaultProps)for(w in p=m.defaultProps,p)x[w]===void 0&&(x[w]=p[w]);return{$$typeof:r,type:m,key:j,ref:N,props:x,_owner:c.current}}return ei.Fragment=n,ei.jsx=h,ei.jsxs=h,ei}var Qd;function pp(){return Qd||(Qd=1,El.exports=mp()),El.exports}var s=pp(),S=sc();const gp=Ah(S);var Ea={},Rl={exports:{}},Ot={},Tl={exports:{}},Al={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function vp(){return Yd||(Yd=1,(function(i){function r(J,le){var z=J.length;J.push(le);e:for(;0<z;){var T=z-1>>>1,F=J[T];if(0<c(F,le))J[T]=le,J[z]=F,z=T;else break e}}function n(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var le=J[0],z=J.pop();if(z!==le){J[0]=z;e:for(var T=0,F=J.length,fe=F>>>1;T<fe;){var ee=2*(T+1)-1,ge=J[ee],ie=ee+1,xe=J[ie];if(0>c(ge,z))ie<F&&0>c(xe,ge)?(J[T]=xe,J[ie]=z,T=ie):(J[T]=ge,J[ee]=z,T=ee);else if(ie<F&&0>c(xe,z))J[T]=xe,J[ie]=z,T=ie;else break e}}return le}function c(J,le){var z=J.sortIndex-le.sortIndex;return z!==0?z:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],w=1,x=null,j=3,N=!1,b=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(J){for(var le=n(g);le!==null;){if(le.callback===null)o(g);else if(le.startTime<=J)o(g),le.sortIndex=le.expirationTime,r(p,le);else break;le=n(g)}}function Q(J){if(R=!1,P(J),!b)if(n(p)!==null)b=!0,it(G);else{var le=n(g);le!==null&&Ie(Q,le.startTime-J)}}function G(J,le){b=!1,R&&(R=!1,$(Ee),Ee=-1),N=!0;var z=j;try{for(P(le),x=n(p);x!==null&&(!(x.expirationTime>le)||J&&!zt());){var T=x.callback;if(typeof T=="function"){x.callback=null,j=x.priorityLevel;var F=T(x.expirationTime<=le);le=i.unstable_now(),typeof F=="function"?x.callback=F:x===n(p)&&o(p),P(le)}else o(p);x=n(p)}if(x!==null)var fe=!0;else{var ee=n(g);ee!==null&&Ie(Q,ee.startTime-le),fe=!1}return fe}finally{x=null,j=z,N=!1}}var H=!1,oe=null,Ee=-1,Re=5,et=-1;function zt(){return!(i.unstable_now()-et<Re)}function kt(){if(oe!==null){var J=i.unstable_now();et=J;var le=!0;try{le=oe(!0,J)}finally{le?Je():(H=!1,oe=null)}}else H=!1}var Je;if(typeof U=="function")Je=function(){U(kt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Et=dt.port2;dt.port1.onmessage=kt,Je=function(){Et.postMessage(null)}}else Je=function(){C(kt,0)};function it(J){oe=J,H||(H=!0,Je())}function Ie(J,le){Ee=C(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){b||N||(b=!0,it(G))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(J){switch(j){case 1:case 2:case 3:var le=3;break;default:le=j}var z=j;j=le;try{return J()}finally{j=z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var z=j;j=J;try{return le()}finally{j=z}},i.unstable_scheduleCallback=function(J,le,z){var T=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?T+z:T):z=T,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,J={id:w++,callback:le,priorityLevel:J,startTime:z,expirationTime:F,sortIndex:-1},z>T?(J.sortIndex=z,r(g,J),n(p)===null&&J===n(g)&&(R?($(Ee),Ee=-1):R=!0,Ie(Q,z-T))):(J.sortIndex=F,r(p,J),b||N||(b=!0,it(G))),J},i.unstable_shouldYield=zt,i.unstable_wrapCallback=function(J){var le=j;return function(){var z=j;j=le;try{return J.apply(this,arguments)}finally{j=z}}}})(Al)),Al}var Xd;function yp(){return Xd||(Xd=1,Tl.exports=vp()),Tl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd;function wp(){if(Zd)return Ot;Zd=1;var i=sc(),r=yp();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(c[e]=t,e=0;e<t.length;e++)o.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function j(e){return p.call(x,e)?!0:p.call(w,e)?!1:g.test(e)?x[e]=!0:(w[e]=!0,!1)}function N(e,t,a,l){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,a,l){if(t===null||typeof t>"u"||N(e,t,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,a,l,d,f,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=v}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,U);C[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,U);C[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,U);C[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,t,a,l){var d=C.hasOwnProperty(t)?C[t]:null;(d!==null?d.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,a,d,l)&&(a=null),l||d===null?j(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):d.mustUseProperty?e[d.propertyName]=a===null?d.type===3?!1:"":a:(t=d.attributeName,l=d.attributeNamespace,a===null?e.removeAttribute(t):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,l?e.setAttributeNS(l,t,a):e.setAttribute(t,a))))}var Q=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),H=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),zt=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),Et=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,T;function F(e){if(T===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var fe=!1;function ee(e,t){if(!e||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var l=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){l=L}e.call(t.prototype)}else{try{throw Error()}catch(L){l=L}e()}}catch(L){if(L&&l&&typeof L.stack=="string"){for(var d=L.stack.split(`
`),f=l.stack.split(`
`),v=d.length-1,_=f.length-1;1<=v&&0<=_&&d[v]!==f[_];)_--;for(;1<=v&&0<=_;v--,_--)if(d[v]!==f[_]){if(v!==1||_!==1)do if(v--,_--,0>_||d[v]!==f[_]){var k=`
`+d[v].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=v&&0<=_);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?F(e):""}function ge(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case H:return"Portal";case Re:return"Profiler";case Ee:return"StrictMode";case Je:return"Suspense";case dt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zt:return(e.displayName||"Context")+".Consumer";case et:return(e._context.displayName||"Context")+".Provider";case kt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Et:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case it:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}function xe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(t);case 8:return t===Ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ae(e){var t=ye(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ct(e){e._valueTracker||(e._valueTracker=Ae(e))}function Pe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=ye(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function ht(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function A(e,t){var a=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function O(e,t){var a=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;a=ae(t.value!=null?t.value:a),e._wrapperState={initialChecked:l,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function K(e,t){t=t.checked,t!=null&&P(e,"checked",t,!1)}function we(e,t){K(e,t);var a=ae(t.value),l=t.type;if(a!=null)l==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?me(e,t.type,a):t.hasOwnProperty("defaultValue")&&me(e,t.type,ae(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _e(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function me(e,t,a){(t!=="number"||ht(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Me=Array.isArray;function $e(e,t,a,l){if(e=e.options,t){t={};for(var d=0;d<a.length;d++)t["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=t.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ae(a),t=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function at(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(n(92));if(Me(a)){if(1<a.length)throw Error(n(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:ae(a)}}function Dt(e,t){var a=ae(t.value),l=ae(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),l!=null&&(e.defaultValue=""+l)}function ps(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Or(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Or(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jr,on=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,l,d){MSApp.execUnsafeLocalFunction(function(){return e(t,a,l,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(e){gs.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$r[t]=$r[e]})});function Tn(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||$r.hasOwnProperty(e)&&$r[e]?(""+t).trim():t+"px"}function vt(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var l=a.indexOf("--")===0,d=Tn(a,t[a],l);a==="float"&&(a="cssFloat"),l?e.setProperty(a,d):e[a]=d}}var dr=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(e,t){if(t){if(dr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function vs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Le=null,Lr=null,Ur=null;function gi(e){if(e=Fs(e)){if(typeof Le!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Wi(t),Le(e.stateNode,e.type,t))}}function vi(e){Lr?Ur?Ur.push(e):Ur=[e]:Lr=e}function yi(){if(Lr){var e=Lr,t=Ur;if(Ur=Lr=null,gi(e),t)for(e=0;e<t.length;e++)gi(t[e])}}function wi(e,t){return e(t)}function xi(){}var ws=!1;function ji(e,t,a){if(ws)return e(t,a);ws=!0;try{return wi(e,t,a)}finally{ws=!1,(Lr!==null||Ur!==null)&&(xi(),yi())}}function ln(e,t){var a=e.stateNode;if(a===null)return null;var l=Wi(a);if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(n(231,t,typeof a));return a}var xs=!1;if(m)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){xs=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{xs=!1}function y(e,t,a,l,d,f,v,_,k){var L=Array.prototype.slice.call(arguments,3);try{t.apply(a,L)}catch(B){this.onError(B)}}var q=!1,be=null,yt=!1,qt=null,fr={onError:function(e){q=!0,be=e}};function jf(e,t,a,l,d,f,v,_,k){q=!1,be=null,y.apply(fr,arguments)}function _f(e,t,a,l,d,f,v,_,k){if(jf.apply(this,arguments),q){if(q){var L=be;q=!1,be=null}else throw Error(n(198));yt||(yt=!0,qt=L)}}function un(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function gc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vc(e){if(un(e)!==e)throw Error(n(188))}function bf(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(n(188));return t!==e?null:e}for(var a=e,l=t;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return vc(d),e;if(f===l)return vc(d),t;f=f.sibling}throw Error(n(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,_=d.child;_;){if(_===a){v=!0,a=d,l=f;break}if(_===l){v=!0,l=d,a=f;break}_=_.sibling}if(!v){for(_=f.child;_;){if(_===a){v=!0,a=f,l=d;break}if(_===l){v=!0,l=f,a=d;break}_=_.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==l)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?e:t}function yc(e){return e=bf(e),e!==null?wc(e):null}function wc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wc(e);if(t!==null)return t;e=e.sibling}return null}var xc=r.unstable_scheduleCallback,jc=r.unstable_cancelCallback,Sf=r.unstable_shouldYield,Nf=r.unstable_requestPaint,Qe=r.unstable_now,kf=r.unstable_getCurrentPriorityLevel,Ha=r.unstable_ImmediatePriority,_c=r.unstable_UserBlockingPriority,_i=r.unstable_NormalPriority,Ef=r.unstable_LowPriority,bc=r.unstable_IdlePriority,bi=null,mr=null;function Cf(e){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(bi,e,void 0,(e.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:Af,Rf=Math.log,Tf=Math.LN2;function Af(e){return e>>>=0,e===0?32:31-(Rf(e)/Tf|0)|0}var Si=64,Ni=4194304;function js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ki(e,t){var a=e.pendingLanes;if(a===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,v=a&268435455;if(v!==0){var _=v&~d;_!==0?l=js(_):(f&=v,f!==0&&(l=js(f)))}else v=a&~d,v!==0?l=js(v):f!==0&&(l=js(f));if(l===0)return 0;if(t!==0&&t!==l&&(t&d)===0&&(d=l&-l,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((l&4)!==0&&(l|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)a=31-er(t),d=1<<a,l|=e[a],t&=~d;return l}function Pf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function If(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var v=31-er(f),_=1<<v,k=d[v];k===-1?((_&a)===0||(_&l)!==0)&&(d[v]=Pf(_,t)):k<=t&&(e.expiredLanes|=_),f&=~_}}function Ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sc(){var e=Si;return Si<<=1,(Si&4194240)===0&&(Si=64),e}function Ga(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _s(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-er(t),e[t]=a}function Of(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<a;){var d=31-er(a),f=1<<d;t[d]=0,l[d]=-1,e[d]=-1,a&=~f}}function Ja(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-er(a),d=1<<l;d&t|e[l]&t&&(e[l]|=t),a&=~d}}var Te=0;function Nc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var kc,Qa,Ec,Cc,Rc,Ya=!1,Ei=[],Fr=null,Mr=null,Br=null,bs=new Map,Ss=new Map,Wr=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tc(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function Ns(e,t,a,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},t!==null&&(t=Fs(t),t!==null&&Qa(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function $f(e,t,a,l,d){switch(t){case"focusin":return Fr=Ns(Fr,e,t,a,l,d),!0;case"dragenter":return Mr=Ns(Mr,e,t,a,l,d),!0;case"mouseover":return Br=Ns(Br,e,t,a,l,d),!0;case"pointerover":var f=d.pointerId;return bs.set(f,Ns(bs.get(f)||null,e,t,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ss.set(f,Ns(Ss.get(f)||null,e,t,a,l,d)),!0}return!1}function Ac(e){var t=dn(e.target);if(t!==null){var a=un(t);if(a!==null){if(t=a.tag,t===13){if(t=gc(a),t!==null){e.blockedOn=t,Rc(e.priority,function(){Ec(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Za(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ys=l,a.target.dispatchEvent(l),ys=null}else return t=Fs(a),t!==null&&Qa(t),e.blockedOn=a,!1;t.shift()}return!0}function Pc(e,t,a){Ci(e)&&a.delete(t)}function Lf(){Ya=!1,Fr!==null&&Ci(Fr)&&(Fr=null),Mr!==null&&Ci(Mr)&&(Mr=null),Br!==null&&Ci(Br)&&(Br=null),bs.forEach(Pc),Ss.forEach(Pc)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,Ya||(Ya=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lf)))}function Es(e){function t(d){return ks(d,e)}if(0<Ei.length){ks(Ei[0],e);for(var a=1;a<Ei.length;a++){var l=Ei[a];l.blockedOn===e&&(l.blockedOn=null)}}for(Fr!==null&&ks(Fr,e),Mr!==null&&ks(Mr,e),Br!==null&&ks(Br,e),bs.forEach(t),Ss.forEach(t),a=0;a<Wr.length;a++)l=Wr[a],l.blockedOn===e&&(l.blockedOn=null);for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Ac(a),a.blockedOn===null&&Wr.shift()}var Pn=Q.ReactCurrentBatchConfig,Ri=!0;function Uf(e,t,a,l){var d=Te,f=Pn.transition;Pn.transition=null;try{Te=1,Xa(e,t,a,l)}finally{Te=d,Pn.transition=f}}function Ff(e,t,a,l){var d=Te,f=Pn.transition;Pn.transition=null;try{Te=4,Xa(e,t,a,l)}finally{Te=d,Pn.transition=f}}function Xa(e,t,a,l){if(Ri){var d=Za(e,t,a,l);if(d===null)vo(e,t,l,Ti,a),Tc(e,l);else if($f(d,e,t,a,l))l.stopPropagation();else if(Tc(e,l),t&4&&-1<Df.indexOf(e)){for(;d!==null;){var f=Fs(d);if(f!==null&&kc(f),f=Za(e,t,a,l),f===null&&vo(e,t,l,Ti,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else vo(e,t,l,null,a)}}var Ti=null;function Za(e,t,a,l){if(Ti=null,e=An(l),e=dn(e),e!==null)if(t=un(e),t===null)e=null;else if(a=t.tag,a===13){if(e=gc(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ti=e,null}function Ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kf()){case Ha:return 1;case _c:return 4;case _i:case Ef:return 16;case bc:return 536870912;default:return 16}default:return 16}}var zr=null,eo=null,Ai=null;function Oc(){if(Ai)return Ai;var e,t=eo,a=t.length,l,d="value"in zr?zr.value:zr.textContent,f=d.length;for(e=0;e<a&&t[e]===d[e];e++);var v=a-e;for(l=1;l<=v&&t[a-l]===d[f-l];l++);return Ai=d.slice(e,1<l?1-l:void 0)}function Pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Dc(){return!1}function $t(e){function t(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Dc,this.isPropagationStopped=Dc,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),t}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=$t(In),Cs=z({},In,{view:0,detail:0}),Mf=$t(Cs),ro,no,Rs,Oi=z({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(ro=e.screenX-Rs.screenX,no=e.screenY-Rs.screenY):no=ro=0,Rs=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:no}}),$c=$t(Oi),Bf=z({},Oi,{dataTransfer:0}),Wf=$t(Bf),zf=z({},Cs,{relatedTarget:0}),so=$t(zf),qf=z({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=$t(qf),Hf=z({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kf=$t(Hf),Gf=z({},In,{data:0}),Lc=$t(Gf),Jf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yf[e])?!!t[e]:!1}function io(){return Xf}var Zf=z({},Cs,{key:function(e){if(e.key){var t=Jf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?Pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),em=$t(Zf),tm=z({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=$t(tm),rm=z({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),nm=$t(rm),sm=z({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),im=$t(sm),am=z({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),om=$t(am),lm=[9,13,27,32],ao=m&&"CompositionEvent"in window,Ts=null;m&&"documentMode"in document&&(Ts=document.documentMode);var cm=m&&"TextEvent"in window&&!Ts,Fc=m&&(!ao||Ts&&8<Ts&&11>=Ts),Mc=" ",Bc=!1;function Wc(e,t){switch(e){case"keyup":return lm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function um(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(Bc=!0,Mc);case"textInput":return e=t.data,e===Mc&&Bc?null:e;default:return null}}function dm(e,t){if(On)return e==="compositionend"||!ao&&Wc(e,t)?(e=Oc(),Ai=eo=zr=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fc&&t.locale!=="ko"?null:t.data;default:return null}}var hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hm[e.type]:t==="textarea"}function Vc(e,t,a,l){vi(l),t=Fi(t,"onChange"),0<t.length&&(a=new to("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var As=null,Ps=null;function fm(e){cu(e,0)}function Di(e){var t=Fn(e);if(Pe(t))return e}function mm(e,t){if(e==="change")return t}var Hc=!1;if(m){var oo;if(m){var lo="oninput"in document;if(!lo){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),lo=typeof Kc.oninput=="function"}oo=lo}else oo=!1;Hc=oo&&(!document.documentMode||9<document.documentMode)}function Gc(){As&&(As.detachEvent("onpropertychange",Jc),Ps=As=null)}function Jc(e){if(e.propertyName==="value"&&Di(Ps)){var t=[];Vc(t,Ps,e,An(e)),ji(fm,t)}}function pm(e,t,a){e==="focusin"?(Gc(),As=t,Ps=a,As.attachEvent("onpropertychange",Jc)):e==="focusout"&&Gc()}function gm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(Ps)}function vm(e,t){if(e==="click")return Di(t)}function ym(e,t){if(e==="input"||e==="change")return Di(t)}function wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:wm;function Is(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!p.call(t,d)||!tr(e[d],t[d]))return!1}return!0}function Qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,t){var a=Qc(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qc(a)}}function Xc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zc(){for(var e=window,t=ht();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ht(e.document)}return t}function co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xm(e){var t=Zc(),a=e.focusedElem,l=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Xc(a.ownerDocument.documentElement,a)){if(l!==null&&co(a)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=a.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=Yc(a,f);var v=Yc(a,l);d&&v&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jm=m&&"documentMode"in document&&11>=document.documentMode,Dn=null,uo=null,Os=null,ho=!1;function eu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ho||Dn==null||Dn!==ht(l)||(l=Dn,"selectionStart"in l&&co(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Os&&Is(Os,l)||(Os=l,l=Fi(uo,"onSelect"),0<l.length&&(t=new to("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Dn)))}function $i(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $n={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},fo={},tu={};m&&(tu=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Li(e){if(fo[e])return fo[e];if(!$n[e])return e;var t=$n[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in tu)return fo[e]=t[a];return e}var ru=Li("animationend"),nu=Li("animationiteration"),su=Li("animationstart"),iu=Li("transitionend"),au=new Map,ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){au.set(e,t),u(t,[e])}for(var mo=0;mo<ou.length;mo++){var po=ou[mo],_m=po.toLowerCase(),bm=po[0].toUpperCase()+po.slice(1);qr(_m,"on"+bm)}qr(ru,"onAnimationEnd"),qr(nu,"onAnimationIteration"),qr(su,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(iu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function lu(e,t,a){var l=e.type||"unknown-event";e.currentTarget=a,_f(l,t,void 0,e),e.currentTarget=null}function cu(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],d=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var v=l.length-1;0<=v;v--){var _=l[v],k=_.instance,L=_.currentTarget;if(_=_.listener,k!==f&&d.isPropagationStopped())break e;lu(d,_,L),f=k}else for(v=0;v<l.length;v++){if(_=l[v],k=_.instance,L=_.currentTarget,_=_.listener,k!==f&&d.isPropagationStopped())break e;lu(d,_,L),f=k}}}if(yt)throw e=qt,yt=!1,qt=null,e}function Ue(e,t){var a=t[bo];a===void 0&&(a=t[bo]=new Set);var l=e+"__bubble";a.has(l)||(uu(t,e,2,!1),a.add(l))}function go(e,t,a){var l=0;t&&(l|=4),uu(a,e,l,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function $s(e){if(!e[Ui]){e[Ui]=!0,o.forEach(function(a){a!=="selectionchange"&&(Sm.has(a)||go(a,!1,e),go(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ui]||(t[Ui]=!0,go("selectionchange",!1,t))}}function uu(e,t,a,l){switch(Ic(t)){case 1:var d=Uf;break;case 4:d=Ff;break;default:d=Xa}a=d.bind(null,t,a,e),d=void 0,!xs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,a,{capture:!0,passive:d}):e.addEventListener(t,a,!0):d!==void 0?e.addEventListener(t,a,{passive:d}):e.addEventListener(t,a,!1)}function vo(e,t,a,l,d){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var _=l.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(v===4)for(v=l.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;v=v.return}for(;_!==null;){if(v=dn(_),v===null)return;if(k=v.tag,k===5||k===6){l=f=v;continue e}_=_.parentNode}}l=l.return}ji(function(){var L=f,B=An(a),W=[];e:{var M=au.get(e);if(M!==void 0){var Y=to,Z=e;switch(e){case"keypress":if(Pi(a)===0)break e;case"keydown":case"keyup":Y=em;break;case"focusin":Z="focus",Y=so;break;case"focusout":Z="blur",Y=so;break;case"beforeblur":case"afterblur":Y=so;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=nm;break;case ru:case nu:case su:Y=Vf;break;case iu:Y=im;break;case"scroll":Y=Mf;break;case"wheel":Y=om;break;case"copy":case"cut":case"paste":Y=Kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Uc}var te=(t&4)!==0,Ye=!te&&e==="scroll",I=te?M!==null?M+"Capture":null:M;te=[];for(var E=L,D;E!==null;){D=E;var V=D.stateNode;if(D.tag===5&&V!==null&&(D=V,I!==null&&(V=ln(E,I),V!=null&&te.push(Ls(E,V,D)))),Ye)break;E=E.return}0<te.length&&(M=new Y(M,Z,null,a,B),W.push({event:M,listeners:te}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",M&&a!==ys&&(Z=a.relatedTarget||a.fromElement)&&(dn(Z)||Z[_r]))break e;if((Y||M)&&(M=B.window===B?B:(M=B.ownerDocument)?M.defaultView||M.parentWindow:window,Y?(Z=a.relatedTarget||a.toElement,Y=L,Z=Z?dn(Z):null,Z!==null&&(Ye=un(Z),Z!==Ye||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Y=null,Z=L),Y!==Z)){if(te=$c,V="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(te=Uc,V="onPointerLeave",I="onPointerEnter",E="pointer"),Ye=Y==null?M:Fn(Y),D=Z==null?M:Fn(Z),M=new te(V,E+"leave",Y,a,B),M.target=Ye,M.relatedTarget=D,V=null,dn(B)===L&&(te=new te(I,E+"enter",Z,a,B),te.target=D,te.relatedTarget=Ye,V=te),Ye=V,Y&&Z)t:{for(te=Y,I=Z,E=0,D=te;D;D=Ln(D))E++;for(D=0,V=I;V;V=Ln(V))D++;for(;0<E-D;)te=Ln(te),E--;for(;0<D-E;)I=Ln(I),D--;for(;E--;){if(te===I||I!==null&&te===I.alternate)break t;te=Ln(te),I=Ln(I)}te=null}else te=null;Y!==null&&du(W,M,Y,te,!1),Z!==null&&Ye!==null&&du(W,Ye,Z,te,!0)}}e:{if(M=L?Fn(L):window,Y=M.nodeName&&M.nodeName.toLowerCase(),Y==="select"||Y==="input"&&M.type==="file")var ne=mm;else if(qc(M))if(Hc)ne=ym;else{ne=gm;var ce=pm}else(Y=M.nodeName)&&Y.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(ne=vm);if(ne&&(ne=ne(e,L))){Vc(W,ne,a,B);break e}ce&&ce(e,M,L),e==="focusout"&&(ce=M._wrapperState)&&ce.controlled&&M.type==="number"&&me(M,"number",M.value)}switch(ce=L?Fn(L):window,e){case"focusin":(qc(ce)||ce.contentEditable==="true")&&(Dn=ce,uo=L,Os=null);break;case"focusout":Os=uo=Dn=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,eu(W,a,B);break;case"selectionchange":if(jm)break;case"keydown":case"keyup":eu(W,a,B)}var ue;if(ao)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else On?Wc(e,a)&&(pe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(Fc&&a.locale!=="ko"&&(On||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&On&&(ue=Oc()):(zr=B,eo="value"in zr?zr.value:zr.textContent,On=!0)),ce=Fi(L,pe),0<ce.length&&(pe=new Lc(pe,e,null,a,B),W.push({event:pe,listeners:ce}),ue?pe.data=ue:(ue=zc(a),ue!==null&&(pe.data=ue)))),(ue=cm?um(e,a):dm(e,a))&&(L=Fi(L,"onBeforeInput"),0<L.length&&(B=new Lc("onBeforeInput","beforeinput",null,a,B),W.push({event:B,listeners:L}),B.data=ue))}cu(W,t)})}function Ls(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Fi(e,t){for(var a=t+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=ln(e,a),f!=null&&l.unshift(Ls(e,f,d)),f=ln(e,t),f!=null&&l.push(Ls(e,f,d))),e=e.return}return l}function Ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function du(e,t,a,l,d){for(var f=t._reactName,v=[];a!==null&&a!==l;){var _=a,k=_.alternate,L=_.stateNode;if(k!==null&&k===l)break;_.tag===5&&L!==null&&(_=L,d?(k=ln(a,f),k!=null&&v.unshift(Ls(a,k,_))):d||(k=ln(a,f),k!=null&&v.push(Ls(a,k,_)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var Nm=/\r\n?/g,km=/\u0000|\uFFFD/g;function hu(e){return(typeof e=="string"?e:""+e).replace(Nm,`
`).replace(km,"")}function Mi(e,t,a){if(t=hu(t),hu(e)!==t&&a)throw Error(n(425))}function Bi(){}var yo=null,wo=null;function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jo=typeof setTimeout=="function"?setTimeout:void 0,Em=typeof clearTimeout=="function"?clearTimeout:void 0,fu=typeof Promise=="function"?Promise:void 0,Cm=typeof queueMicrotask=="function"?queueMicrotask:typeof fu<"u"?function(e){return fu.resolve(null).then(e).catch(Rm)}:jo;function Rm(e){setTimeout(function(){throw e})}function _o(e,t){var a=t,l=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(l===0){e.removeChild(d),Es(t);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=d}while(a);Es(t)}function Vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var Un=Math.random().toString(36).slice(2),pr="__reactFiber$"+Un,Us="__reactProps$"+Un,_r="__reactContainer$"+Un,bo="__reactEvents$"+Un,Tm="__reactListeners$"+Un,Am="__reactHandles$"+Un;function dn(e){var t=e[pr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[_r]||a[pr]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=mu(e);e!==null;){if(a=e[pr])return a;e=mu(e)}return t}e=a,a=e.parentNode}return null}function Fs(e){return e=e[pr]||e[_r],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Wi(e){return e[Us]||null}var So=[],Mn=-1;function Hr(e){return{current:e}}function Fe(e){0>Mn||(e.current=So[Mn],So[Mn]=null,Mn--)}function Oe(e,t){Mn++,So[Mn]=e.current,e.current=t}var Kr={},wt=Hr(Kr),Rt=Hr(!1),hn=Kr;function Bn(e,t){var a=e.type.contextTypes;if(!a)return Kr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in a)d[f]=t[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Tt(e){return e=e.childContextTypes,e!=null}function zi(){Fe(Rt),Fe(wt)}function pu(e,t,a){if(wt.current!==Kr)throw Error(n(168));Oe(wt,t),Oe(Rt,a)}function gu(e,t,a){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var d in l)if(!(d in t))throw Error(n(108,xe(e)||"Unknown",d));return z({},a,l)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,hn=wt.current,Oe(wt,e),Oe(Rt,Rt.current),!0}function vu(e,t,a){var l=e.stateNode;if(!l)throw Error(n(169));a?(e=gu(e,t,hn),l.__reactInternalMemoizedMergedChildContext=e,Fe(Rt),Fe(wt),Oe(wt,e)):Fe(Rt),Oe(Rt,a)}var br=null,Vi=!1,No=!1;function yu(e){br===null?br=[e]:br.push(e)}function Pm(e){Vi=!0,yu(e)}function Gr(){if(!No&&br!==null){No=!0;var e=0,t=Te;try{var a=br;for(Te=1;e<a.length;e++){var l=a[e];do l=l(!0);while(l!==null)}br=null,Vi=!1}catch(d){throw br!==null&&(br=br.slice(e+1)),xc(Ha,Gr),d}finally{Te=t,No=!1}}return null}var Wn=[],zn=0,Hi=null,Ki=0,Vt=[],Ht=0,fn=null,Sr=1,Nr="";function mn(e,t){Wn[zn++]=Ki,Wn[zn++]=Hi,Hi=e,Ki=t}function wu(e,t,a){Vt[Ht++]=Sr,Vt[Ht++]=Nr,Vt[Ht++]=fn,fn=e;var l=Sr;e=Nr;var d=32-er(l)-1;l&=~(1<<d),a+=1;var f=32-er(t)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Sr=1<<32-er(t)+d|a<<d|l,Nr=f+e}else Sr=1<<f|a<<d|l,Nr=e}function ko(e){e.return!==null&&(mn(e,1),wu(e,1,0))}function Eo(e){for(;e===Hi;)Hi=Wn[--zn],Wn[zn]=null,Ki=Wn[--zn],Wn[zn]=null;for(;e===fn;)fn=Vt[--Ht],Vt[Ht]=null,Nr=Vt[--Ht],Vt[Ht]=null,Sr=Vt[--Ht],Vt[Ht]=null}var Lt=null,Ut=null,Be=!1,rr=null;function xu(e,t){var a=Qt(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function ju(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Ut=Vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=fn!==null?{id:Sr,overflow:Nr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Qt(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,Lt=e,Ut=null,!0):!1;default:return!1}}function Co(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ro(e){if(Be){var t=Ut;if(t){var a=t;if(!ju(e,t)){if(Co(e))throw Error(n(418));t=Vr(a.nextSibling);var l=Lt;t&&ju(e,t)?xu(l,a):(e.flags=e.flags&-4097|2,Be=!1,Lt=e)}}else{if(Co(e))throw Error(n(418));e.flags=e.flags&-4097|2,Be=!1,Lt=e}}}function _u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function Gi(e){if(e!==Lt)return!1;if(!Be)return _u(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xo(e.type,e.memoizedProps)),t&&(t=Ut)){if(Co(e))throw bu(),Error(n(418));for(;t;)xu(e,t),t=Vr(t.nextSibling)}if(_u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Ut=Vr(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Lt?Vr(e.stateNode.nextSibling):null;return!0}function bu(){for(var e=Ut;e;)e=Vr(e.nextSibling)}function qn(){Ut=Lt=null,Be=!1}function To(e){rr===null?rr=[e]:rr.push(e)}var Im=Q.ReactCurrentBatchConfig;function Ms(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var l=a.stateNode}if(!l)throw Error(n(147,e));var d=l,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(v){var _=d.refs;v===null?delete _[f]:_[f]=v},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Su(e){var t=e._init;return t(e._payload)}function Nu(e){function t(I,E){if(e){var D=I.deletions;D===null?(I.deletions=[E],I.flags|=16):D.push(E)}}function a(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function l(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function d(I,E){return I=rn(I,E),I.index=0,I.sibling=null,I}function f(I,E,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<E?(I.flags|=2,E):D):(I.flags|=2,E)):(I.flags|=1048576,E)}function v(I){return e&&I.alternate===null&&(I.flags|=2),I}function _(I,E,D,V){return E===null||E.tag!==6?(E=jl(D,I.mode,V),E.return=I,E):(E=d(E,D),E.return=I,E)}function k(I,E,D,V){var ne=D.type;return ne===oe?B(I,E,D.props.children,V,D.key):E!==null&&(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===it&&Su(ne)===E.type)?(V=d(E,D.props),V.ref=Ms(I,E,D),V.return=I,V):(V=wa(D.type,D.key,D.props,null,I.mode,V),V.ref=Ms(I,E,D),V.return=I,V)}function L(I,E,D,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=_l(D,I.mode,V),E.return=I,E):(E=d(E,D.children||[]),E.return=I,E)}function B(I,E,D,V,ne){return E===null||E.tag!==7?(E=_n(D,I.mode,V,ne),E.return=I,E):(E=d(E,D),E.return=I,E)}function W(I,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return E=jl(""+E,I.mode,D),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case G:return D=wa(E.type,E.key,E.props,null,I.mode,D),D.ref=Ms(I,null,E),D.return=I,D;case H:return E=_l(E,I.mode,D),E.return=I,E;case it:var V=E._init;return W(I,V(E._payload),D)}if(Me(E)||le(E))return E=_n(E,I.mode,D,null),E.return=I,E;Ji(I,E)}return null}function M(I,E,D,V){var ne=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ne!==null?null:_(I,E,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return D.key===ne?k(I,E,D,V):null;case H:return D.key===ne?L(I,E,D,V):null;case it:return ne=D._init,M(I,E,ne(D._payload),V)}if(Me(D)||le(D))return ne!==null?null:B(I,E,D,V,null);Ji(I,D)}return null}function Y(I,E,D,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number")return I=I.get(D)||null,_(E,I,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return I=I.get(V.key===null?D:V.key)||null,k(E,I,V,ne);case H:return I=I.get(V.key===null?D:V.key)||null,L(E,I,V,ne);case it:var ce=V._init;return Y(I,E,D,ce(V._payload),ne)}if(Me(V)||le(V))return I=I.get(D)||null,B(E,I,V,ne,null);Ji(E,V)}return null}function Z(I,E,D,V){for(var ne=null,ce=null,ue=E,pe=E=0,ct=null;ue!==null&&pe<D.length;pe++){ue.index>pe?(ct=ue,ue=null):ct=ue.sibling;var Ce=M(I,ue,D[pe],V);if(Ce===null){ue===null&&(ue=ct);break}e&&ue&&Ce.alternate===null&&t(I,ue),E=f(Ce,E,pe),ce===null?ne=Ce:ce.sibling=Ce,ce=Ce,ue=ct}if(pe===D.length)return a(I,ue),Be&&mn(I,pe),ne;if(ue===null){for(;pe<D.length;pe++)ue=W(I,D[pe],V),ue!==null&&(E=f(ue,E,pe),ce===null?ne=ue:ce.sibling=ue,ce=ue);return Be&&mn(I,pe),ne}for(ue=l(I,ue);pe<D.length;pe++)ct=Y(ue,I,pe,D[pe],V),ct!==null&&(e&&ct.alternate!==null&&ue.delete(ct.key===null?pe:ct.key),E=f(ct,E,pe),ce===null?ne=ct:ce.sibling=ct,ce=ct);return e&&ue.forEach(function(nn){return t(I,nn)}),Be&&mn(I,pe),ne}function te(I,E,D,V){var ne=le(D);if(typeof ne!="function")throw Error(n(150));if(D=ne.call(D),D==null)throw Error(n(151));for(var ce=ne=null,ue=E,pe=E=0,ct=null,Ce=D.next();ue!==null&&!Ce.done;pe++,Ce=D.next()){ue.index>pe?(ct=ue,ue=null):ct=ue.sibling;var nn=M(I,ue,Ce.value,V);if(nn===null){ue===null&&(ue=ct);break}e&&ue&&nn.alternate===null&&t(I,ue),E=f(nn,E,pe),ce===null?ne=nn:ce.sibling=nn,ce=nn,ue=ct}if(Ce.done)return a(I,ue),Be&&mn(I,pe),ne;if(ue===null){for(;!Ce.done;pe++,Ce=D.next())Ce=W(I,Ce.value,V),Ce!==null&&(E=f(Ce,E,pe),ce===null?ne=Ce:ce.sibling=Ce,ce=Ce);return Be&&mn(I,pe),ne}for(ue=l(I,ue);!Ce.done;pe++,Ce=D.next())Ce=Y(ue,I,pe,Ce.value,V),Ce!==null&&(e&&Ce.alternate!==null&&ue.delete(Ce.key===null?pe:Ce.key),E=f(Ce,E,pe),ce===null?ne=Ce:ce.sibling=Ce,ce=Ce);return e&&ue.forEach(function(hp){return t(I,hp)}),Be&&mn(I,pe),ne}function Ye(I,E,D,V){if(typeof D=="object"&&D!==null&&D.type===oe&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case G:e:{for(var ne=D.key,ce=E;ce!==null;){if(ce.key===ne){if(ne=D.type,ne===oe){if(ce.tag===7){a(I,ce.sibling),E=d(ce,D.props.children),E.return=I,I=E;break e}}else if(ce.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===it&&Su(ne)===ce.type){a(I,ce.sibling),E=d(ce,D.props),E.ref=Ms(I,ce,D),E.return=I,I=E;break e}a(I,ce);break}else t(I,ce);ce=ce.sibling}D.type===oe?(E=_n(D.props.children,I.mode,V,D.key),E.return=I,I=E):(V=wa(D.type,D.key,D.props,null,I.mode,V),V.ref=Ms(I,E,D),V.return=I,I=V)}return v(I);case H:e:{for(ce=D.key;E!==null;){if(E.key===ce)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){a(I,E.sibling),E=d(E,D.children||[]),E.return=I,I=E;break e}else{a(I,E);break}else t(I,E);E=E.sibling}E=_l(D,I.mode,V),E.return=I,I=E}return v(I);case it:return ce=D._init,Ye(I,E,ce(D._payload),V)}if(Me(D))return Z(I,E,D,V);if(le(D))return te(I,E,D,V);Ji(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,E!==null&&E.tag===6?(a(I,E.sibling),E=d(E,D),E.return=I,I=E):(a(I,E),E=jl(D,I.mode,V),E.return=I,I=E),v(I)):a(I,E)}return Ye}var Vn=Nu(!0),ku=Nu(!1),Qi=Hr(null),Yi=null,Hn=null,Ao=null;function Po(){Ao=Hn=Yi=null}function Io(e){var t=Qi.current;Fe(Qi),e._currentValue=t}function Oo(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Kn(e,t){Yi=e,Ao=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(At=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(Yi===null)throw Error(n(308));Hn=e,Yi.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var pn=null;function Do(e){pn===null?pn=[e]:pn.push(e)}function Eu(e,t,a,l){var d=t.interleaved;return d===null?(a.next=a,Do(t)):(a.next=d.next,d.next=a),t.interleaved=a,kr(e,l)}function kr(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Jr=!1;function $o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,kr(e,a)}return d=l.interleaved,d===null?(t.next=t,Do(l)):(t.next=d.next,d.next=t),l.interleaved=t,kr(e,a)}function Xi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ja(e,a)}}function Ru(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=t:f=f.next=t}else d=f=t;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Zi(e,t,a,l){var d=e.updateQueue;Jr=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var k=_,L=k.next;k.next=null,v===null?f=L:v.next=L,v=k;var B=e.alternate;B!==null&&(B=B.updateQueue,_=B.lastBaseUpdate,_!==v&&(_===null?B.firstBaseUpdate=L:_.next=L,B.lastBaseUpdate=k))}if(f!==null){var W=d.baseState;v=0,B=L=k=null,_=f;do{var M=_.lane,Y=_.eventTime;if((l&M)===M){B!==null&&(B=B.next={eventTime:Y,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Z=e,te=_;switch(M=t,Y=a,te.tag){case 1:if(Z=te.payload,typeof Z=="function"){W=Z.call(Y,W,M);break e}W=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=te.payload,M=typeof Z=="function"?Z.call(Y,W,M):Z,M==null)break e;W=z({},W,M);break e;case 2:Jr=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,M=d.effects,M===null?d.effects=[_]:M.push(_))}else Y={eventTime:Y,lane:M,tag:_.tag,payload:_.payload,callback:_.callback,next:null},B===null?(L=B=Y,k=W):B=B.next=Y,v|=M;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;M=_,_=M.next,M.next=null,d.lastBaseUpdate=M,d.shared.pending=null}}while(!0);if(B===null&&(k=W),d.baseState=k,d.firstBaseUpdate=L,d.lastBaseUpdate=B,t=d.shared.interleaved,t!==null){d=t;do v|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);yn|=v,e.lanes=v,e.memoizedState=W}}function Tu(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],d=l.callback;if(d!==null){if(l.callback=null,l=a,typeof d!="function")throw Error(n(191,d));d.call(l)}}}var Bs={},gr=Hr(Bs),Ws=Hr(Bs),zs=Hr(Bs);function gn(e){if(e===Bs)throw Error(n(174));return e}function Lo(e,t){switch(Oe(zs,t),Oe(Ws,e),Oe(gr,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rn(t,e)}Fe(gr),Oe(gr,t)}function Gn(){Fe(gr),Fe(Ws),Fe(zs)}function Au(e){gn(zs.current);var t=gn(gr.current),a=Rn(t,e.type);t!==a&&(Oe(Ws,e),Oe(gr,a))}function Uo(e){Ws.current===e&&(Fe(gr),Fe(Ws))}var ze=Hr(0);function ea(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=[];function Mo(){for(var e=0;e<Fo.length;e++)Fo[e]._workInProgressVersionPrimary=null;Fo.length=0}var ta=Q.ReactCurrentDispatcher,Bo=Q.ReactCurrentBatchConfig,vn=0,qe=null,tt=null,ot=null,ra=!1,qs=!1,Vs=0,Om=0;function xt(){throw Error(n(321))}function Wo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!tr(e[a],t[a]))return!1;return!0}function zo(e,t,a,l,d,f){if(vn=f,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=e===null||e.memoizedState===null?Um:Fm,e=a(l,d),qs){f=0;do{if(qs=!1,Vs=0,25<=f)throw Error(n(301));f+=1,ot=tt=null,t.updateQueue=null,ta.current=Mm,e=a(l,d)}while(qs)}if(ta.current=ia,t=tt!==null&&tt.next!==null,vn=0,ot=tt=qe=null,ra=!1,t)throw Error(n(300));return e}function qo(){var e=Vs!==0;return Vs=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?qe.memoizedState=ot=e:ot=ot.next=e,ot}function Gt(){if(tt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=ot===null?qe.memoizedState:ot.next;if(t!==null)ot=t,tt=e;else{if(e===null)throw Error(n(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?qe.memoizedState=ot=e:ot=ot.next=e}return ot}function Hs(e,t){return typeof t=="function"?t(e):t}function Vo(e){var t=Gt(),a=t.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var l=tt,d=l.baseQueue,f=a.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}l.baseQueue=d=f,a.pending=null}if(d!==null){f=d.next,l=l.baseState;var _=v=null,k=null,L=f;do{var B=L.lane;if((vn&B)===B)k!==null&&(k=k.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),l=L.hasEagerState?L.eagerState:e(l,L.action);else{var W={lane:B,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};k===null?(_=k=W,v=l):k=k.next=W,qe.lanes|=B,yn|=B}L=L.next}while(L!==null&&L!==f);k===null?v=l:k.next=_,tr(l,t.memoizedState)||(At=!0),t.memoizedState=l,t.baseState=v,t.baseQueue=k,a.lastRenderedState=l}if(e=a.interleaved,e!==null){d=e;do f=d.lane,qe.lanes|=f,yn|=f,d=d.next;while(d!==e)}else d===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Ho(e){var t=Gt(),a=t.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var l=a.dispatch,d=a.pending,f=t.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);tr(f,t.memoizedState)||(At=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,l]}function Pu(){}function Iu(e,t){var a=qe,l=Gt(),d=t(),f=!tr(l.memoizedState,d);if(f&&(l.memoizedState=d,At=!0),l=l.queue,Ko($u.bind(null,a,l,e),[e]),l.getSnapshot!==t||f||ot!==null&&ot.memoizedState.tag&1){if(a.flags|=2048,Ks(9,Du.bind(null,a,l,d,t),void 0,null),lt===null)throw Error(n(349));(vn&30)!==0||Ou(a,t,d)}return d}function Ou(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Du(e,t,a,l){t.value=a,t.getSnapshot=l,Lu(t)&&Uu(e)}function $u(e,t,a){return a(function(){Lu(t)&&Uu(e)})}function Lu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!tr(e,a)}catch{return!0}}function Uu(e){var t=kr(e,1);t!==null&&ar(t,e,1,-1)}function Fu(e){var t=vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t.queue=e,e=e.dispatch=Lm.bind(null,qe,e),[t.memoizedState,e]}function Ks(e,t,a,l){return e={tag:e,create:t,destroy:a,deps:l,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e)),e}function Mu(){return Gt().memoizedState}function na(e,t,a,l){var d=vr();qe.flags|=e,d.memoizedState=Ks(1|t,a,void 0,l===void 0?null:l)}function sa(e,t,a,l){var d=Gt();l=l===void 0?null:l;var f=void 0;if(tt!==null){var v=tt.memoizedState;if(f=v.destroy,l!==null&&Wo(l,v.deps)){d.memoizedState=Ks(t,a,f,l);return}}qe.flags|=e,d.memoizedState=Ks(1|t,a,f,l)}function Bu(e,t){return na(8390656,8,e,t)}function Ko(e,t){return sa(2048,8,e,t)}function Wu(e,t){return sa(4,2,e,t)}function zu(e,t){return sa(4,4,e,t)}function qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vu(e,t,a){return a=a!=null?a.concat([e]):null,sa(4,4,qu.bind(null,t,e),a)}function Go(){}function Hu(e,t){var a=Gt();t=t===void 0?null:t;var l=a.memoizedState;return l!==null&&t!==null&&Wo(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Ku(e,t){var a=Gt();t=t===void 0?null:t;var l=a.memoizedState;return l!==null&&t!==null&&Wo(t,l[1])?l[0]:(e=e(),a.memoizedState=[e,t],e)}function Gu(e,t,a){return(vn&21)===0?(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=a):(tr(a,t)||(a=Sc(),qe.lanes|=a,yn|=a,e.baseState=!0),t)}function Dm(e,t){var a=Te;Te=a!==0&&4>a?a:4,e(!0);var l=Bo.transition;Bo.transition={};try{e(!1),t()}finally{Te=a,Bo.transition=l}}function Ju(){return Gt().memoizedState}function $m(e,t,a){var l=en(e);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(e))Yu(t,a);else if(a=Eu(e,t,a,l),a!==null){var d=St();ar(a,e,l,d),Xu(a,t,l)}}function Lm(e,t,a){var l=en(e),d={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Yu(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,_=f(v,a);if(d.hasEagerState=!0,d.eagerState=_,tr(_,v)){var k=t.interleaved;k===null?(d.next=d,Do(t)):(d.next=k.next,k.next=d),t.interleaved=d;return}}catch{}finally{}a=Eu(e,t,d,l),a!==null&&(d=St(),ar(a,e,l,d),Xu(a,t,l))}}function Qu(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Yu(e,t){qs=ra=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Xu(e,t,a){if((a&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ja(e,a)}}var ia={readContext:Kt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Um={readContext:Kt,useCallback:function(e,t){return vr().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Bu,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,na(4194308,4,qu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return na(4194308,4,e,t)},useInsertionEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var a=vr();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var l=vr();return t=a!==void 0?a(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=$m.bind(null,qe,e),[l.memoizedState,e]},useRef:function(e){var t=vr();return e={current:e},t.memoizedState=e},useState:Fu,useDebugValue:Go,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Fu(!1),t=e[0];return e=Dm.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var l=qe,d=vr();if(Be){if(a===void 0)throw Error(n(407));a=a()}else{if(a=t(),lt===null)throw Error(n(349));(vn&30)!==0||Ou(l,t,a)}d.memoizedState=a;var f={value:a,getSnapshot:t};return d.queue=f,Bu($u.bind(null,l,f,e),[e]),l.flags|=2048,Ks(9,Du.bind(null,l,f,a,t),void 0,null),a},useId:function(){var e=vr(),t=lt.identifierPrefix;if(Be){var a=Nr,l=Sr;a=(l&~(1<<32-er(l)-1)).toString(32)+a,t=":"+t+"R"+a,a=Vs++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Om++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fm={readContext:Kt,useCallback:Hu,useContext:Kt,useEffect:Ko,useImperativeHandle:Vu,useInsertionEffect:Wu,useLayoutEffect:zu,useMemo:Ku,useReducer:Vo,useRef:Mu,useState:function(){return Vo(Hs)},useDebugValue:Go,useDeferredValue:function(e){var t=Gt();return Gu(t,tt.memoizedState,e)},useTransition:function(){var e=Vo(Hs)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Iu,useId:Ju,unstable_isNewReconciler:!1},Mm={readContext:Kt,useCallback:Hu,useContext:Kt,useEffect:Ko,useImperativeHandle:Vu,useInsertionEffect:Wu,useLayoutEffect:zu,useMemo:Ku,useReducer:Ho,useRef:Mu,useState:function(){return Ho(Hs)},useDebugValue:Go,useDeferredValue:function(e){var t=Gt();return tt===null?t.memoizedState=e:Gu(t,tt.memoizedState,e)},useTransition:function(){var e=Ho(Hs)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Iu,useId:Ju,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=z({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Jo(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:z({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var aa={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var l=St(),d=en(e),f=Er(l,d);f.payload=t,a!=null&&(f.callback=a),t=Qr(e,f,d),t!==null&&(ar(t,e,d,l),Xi(t,e,d))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=St(),d=en(e),f=Er(l,d);f.tag=1,f.payload=t,a!=null&&(f.callback=a),t=Qr(e,f,d),t!==null&&(ar(t,e,d,l),Xi(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=St(),l=en(e),d=Er(a,l);d.tag=2,t!=null&&(d.callback=t),t=Qr(e,d,l),t!==null&&(ar(t,e,l,a),Xi(t,e,l))}};function Zu(e,t,a,l,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):t.prototype&&t.prototype.isPureReactComponent?!Is(a,l)||!Is(d,f):!0}function ed(e,t,a){var l=!1,d=Kr,f=t.contextType;return typeof f=="object"&&f!==null?f=Kt(f):(d=Tt(t)?hn:wt.current,l=t.contextTypes,f=(l=l!=null)?Bn(e,d):Kr),t=new t(a,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function td(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function Qo(e,t,a,l){var d=e.stateNode;d.props=a,d.state=e.memoizedState,d.refs={},$o(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=Kt(f):(f=Tt(t)?hn:wt.current,d.context=Bn(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Jo(e,t,f,a),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&aa.enqueueReplaceState(d,d.state,null),Zi(e,a,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Jn(e,t){try{var a="",l=t;do a+=ge(l),l=l.return;while(l);var d=a}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Yo(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function Xo(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Bm=typeof WeakMap=="function"?WeakMap:Map;function rd(e,t,a){a=Er(-1,a),a.tag=3,a.payload={element:null};var l=t.value;return a.callback=function(){fa||(fa=!0,fl=l),Xo(e,t)},a}function nd(e,t,a){a=Er(-1,a),a.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=t.value;a.payload=function(){return l(d)},a.callback=function(){Xo(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){Xo(e,t),typeof l!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),a}function sd(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Bm;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(a)||(d.add(a),e=tp.bind(null,e,t,a),t.then(e,e))}function id(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ad(e,t,a,l,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=Er(-1,1),t.tag=2,Qr(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Wm=Q.ReactCurrentOwner,At=!1;function bt(e,t,a,l){t.child=e===null?ku(t,null,a,l):Vn(t,e.child,a,l)}function od(e,t,a,l,d){a=a.render;var f=t.ref;return Kn(t,d),l=zo(e,t,a,l,f,d),a=qo(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Cr(e,t,d)):(Be&&a&&ko(t),t.flags|=1,bt(e,t,l,d),t.child)}function ld(e,t,a,l,d){if(e===null){var f=a.type;return typeof f=="function"&&!xl(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=f,cd(e,t,f,l,d)):(e=wa(a.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Is,a(v,l)&&e.ref===t.ref)return Cr(e,t,d)}return t.flags|=1,e=rn(f,l),e.ref=t.ref,e.return=t,t.child=e}function cd(e,t,a,l,d){if(e!==null){var f=e.memoizedProps;if(Is(f,l)&&e.ref===t.ref)if(At=!1,t.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(At=!0);else return t.lanes=e.lanes,Cr(e,t,d)}return Zo(e,t,a,l,d)}function ud(e,t,a){var l=t.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Yn,Ft),Ft|=a;else{if((a&1073741824)===0)return e=f!==null?f.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Yn,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:a,Oe(Yn,Ft),Ft|=l}else f!==null?(l=f.baseLanes|a,t.memoizedState=null):l=a,Oe(Yn,Ft),Ft|=l;return bt(e,t,d,a),t.child}function dd(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Zo(e,t,a,l,d){var f=Tt(a)?hn:wt.current;return f=Bn(t,f),Kn(t,d),a=zo(e,t,a,l,f,d),l=qo(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Cr(e,t,d)):(Be&&l&&ko(t),t.flags|=1,bt(e,t,a,d),t.child)}function hd(e,t,a,l,d){if(Tt(a)){var f=!0;qi(t)}else f=!1;if(Kn(t,d),t.stateNode===null)la(e,t),ed(t,a,l),Qo(t,a,l,d),l=!0;else if(e===null){var v=t.stateNode,_=t.memoizedProps;v.props=_;var k=v.context,L=a.contextType;typeof L=="object"&&L!==null?L=Kt(L):(L=Tt(a)?hn:wt.current,L=Bn(t,L));var B=a.getDerivedStateFromProps,W=typeof B=="function"||typeof v.getSnapshotBeforeUpdate=="function";W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==l||k!==L)&&td(t,v,l,L),Jr=!1;var M=t.memoizedState;v.state=M,Zi(t,l,v,d),k=t.memoizedState,_!==l||M!==k||Rt.current||Jr?(typeof B=="function"&&(Jo(t,a,B,l),k=t.memoizedState),(_=Jr||Zu(t,a,_,l,M,k,L))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=k),v.props=l,v.state=k,v.context=L,l=_):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{v=t.stateNode,Cu(e,t),_=t.memoizedProps,L=t.type===t.elementType?_:nr(t.type,_),v.props=L,W=t.pendingProps,M=v.context,k=a.contextType,typeof k=="object"&&k!==null?k=Kt(k):(k=Tt(a)?hn:wt.current,k=Bn(t,k));var Y=a.getDerivedStateFromProps;(B=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==W||M!==k)&&td(t,v,l,k),Jr=!1,M=t.memoizedState,v.state=M,Zi(t,l,v,d);var Z=t.memoizedState;_!==W||M!==Z||Rt.current||Jr?(typeof Y=="function"&&(Jo(t,a,Y,l),Z=t.memoizedState),(L=Jr||Zu(t,a,L,l,M,Z,k)||!1)?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,Z,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,Z,k)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Z),v.props=l,v.state=Z,v.context=k,l=L):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),l=!1)}return el(e,t,a,l,f,d)}function el(e,t,a,l,d,f){dd(e,t);var v=(t.flags&128)!==0;if(!l&&!v)return d&&vu(t,a,!1),Cr(e,t,f);l=t.stateNode,Wm.current=t;var _=v&&typeof a.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&v?(t.child=Vn(t,e.child,null,f),t.child=Vn(t,null,_,f)):bt(e,t,_,f),t.memoizedState=l.state,d&&vu(t,a,!0),t.child}function fd(e){var t=e.stateNode;t.pendingContext?pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pu(e,t.context,!1),Lo(e,t.containerInfo)}function md(e,t,a,l,d){return qn(),To(d),t.flags|=256,bt(e,t,a,l),t.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function pd(e,t,a){var l=t.pendingProps,d=ze.current,f=!1,v=(t.flags&128)!==0,_;if((_=v)||(_=e!==null&&e.memoizedState===null?!1:(d&2)!==0),_?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Oe(ze,d&1),e===null)return Ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=l.children,e=l.fallback,f?(l=t.mode,f=t.child,v={mode:"hidden",children:v},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=v):f=xa(v,l,0,null),e=_n(e,l,a,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=rl(a),t.memoizedState=tl,e):nl(t,v));if(d=e.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return zm(e,t,v,l,_,d,a);if(f){f=l.fallback,v=t.mode,d=e.child,_=d.sibling;var k={mode:"hidden",children:l.children};return(v&1)===0&&t.child!==d?(l=t.child,l.childLanes=0,l.pendingProps=k,t.deletions=null):(l=rn(d,k),l.subtreeFlags=d.subtreeFlags&14680064),_!==null?f=rn(_,f):(f=_n(f,v,a,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,l=f,f=t.child,v=e.child.memoizedState,v=v===null?rl(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=e.childLanes&~a,t.memoizedState=tl,l}return f=e.child,e=f.sibling,l=rn(f,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=a),l.return=t,l.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=l,t.memoizedState=null,l}function nl(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,a,l){return l!==null&&To(l),Vn(t,e.child,null,a),e=nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zm(e,t,a,l,d,f,v){if(a)return t.flags&256?(t.flags&=-257,l=Yo(Error(n(422))),oa(e,t,v,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=l.fallback,d=t.mode,l=xa({mode:"visible",children:l.children},d,0,null),f=_n(f,d,v,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,(t.mode&1)!==0&&Vn(t,e.child,null,v),t.child.memoizedState=rl(v),t.memoizedState=tl,f);if((t.mode&1)===0)return oa(e,t,v,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var _=l.dgst;return l=_,f=Error(n(419)),l=Yo(f,l,void 0),oa(e,t,v,l)}if(_=(v&e.childLanes)!==0,At||_){if(l=lt,l!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|v))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,kr(e,d),ar(l,e,d,-1))}return wl(),l=Yo(Error(n(421))),oa(e,t,v,l)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=rp.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,Ut=Vr(d.nextSibling),Lt=t,Be=!0,rr=null,e!==null&&(Vt[Ht++]=Sr,Vt[Ht++]=Nr,Vt[Ht++]=fn,Sr=e.id,Nr=e.overflow,fn=t),t=nl(t,l.children),t.flags|=4096,t)}function gd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Oo(e.return,t,a)}function sl(e,t,a,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function vd(e,t,a){var l=t.pendingProps,d=l.revealOrder,f=l.tail;if(bt(e,t,l.children,a),l=ze.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gd(e,a,t);else if(e.tag===19)gd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Oe(ze,l),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(a=t.child,d=null;a!==null;)e=a.alternate,e!==null&&ea(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=t.child,t.child=null):(d=a.sibling,a.sibling=null),sl(t,!1,d,a,f);break;case"backwards":for(a=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&ea(e)===null){t.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}sl(t,!0,a,null,f);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,a=rn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=rn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function qm(e,t,a){switch(t.tag){case 3:fd(t),qn();break;case 5:Au(t);break;case 1:Tt(t.type)&&qi(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,d=t.memoizedProps.value;Oe(Qi,l._currentValue),l._currentValue=d;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Oe(ze,ze.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?pd(e,t,a):(Oe(ze,ze.current&1),e=Cr(e,t,a),e!==null?e.sibling:null);Oe(ze,ze.current&1);break;case 19:if(l=(a&t.childLanes)!==0,(e.flags&128)!==0){if(l)return vd(e,t,a);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Oe(ze,ze.current),l)break;return null;case 22:case 23:return t.lanes=0,ud(e,t,a)}return Cr(e,t,a)}var yd,il,wd,xd;yd=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},il=function(){},wd=function(e,t,a,l){var d=e.memoizedProps;if(d!==l){e=t.stateNode,gn(gr.current);var f=null;switch(a){case"input":d=A(e,d),l=A(e,l),f=[];break;case"select":d=z({},d,{value:void 0}),l=z({},l,{value:void 0}),f=[];break;case"textarea":d=at(e,d),l=at(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Bi)}hr(a,l);var v;a=null;for(L in d)if(!l.hasOwnProperty(L)&&d.hasOwnProperty(L)&&d[L]!=null)if(L==="style"){var _=d[L];for(v in _)_.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(c.hasOwnProperty(L)?f||(f=[]):(f=f||[]).push(L,null));for(L in l){var k=l[L];if(_=d!=null?d[L]:void 0,l.hasOwnProperty(L)&&k!==_&&(k!=null||_!=null))if(L==="style")if(_){for(v in _)!_.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in k)k.hasOwnProperty(v)&&_[v]!==k[v]&&(a||(a={}),a[v]=k[v])}else a||(f||(f=[]),f.push(L,a)),a=k;else L==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,_=_?_.__html:void 0,k!=null&&_!==k&&(f=f||[]).push(L,k)):L==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push(L,""+k):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(c.hasOwnProperty(L)?(k!=null&&L==="onScroll"&&Ue("scroll",e),f||_===k||(f=[])):(f=f||[]).push(L,k))}a&&(f=f||[]).push("style",a);var L=f;(t.updateQueue=L)&&(t.flags|=4)}},xd=function(e,t,a,l){a!==l&&(t.flags|=4)};function Gs(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Vm(e,t,a){var l=t.pendingProps;switch(Eo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Tt(t.type)&&zi(),jt(t),null;case 3:return l=t.stateNode,Gn(),Fe(Rt),Fe(wt),Mo(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rr!==null&&(gl(rr),rr=null))),il(e,t),jt(t),null;case 5:Uo(t);var d=gn(zs.current);if(a=t.type,e!==null&&t.stateNode!=null)wd(e,t,a,l,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(n(166));return jt(t),null}if(e=gn(gr.current),Gi(t)){l=t.stateNode,a=t.type;var f=t.memoizedProps;switch(l[pr]=t,l[Us]=f,e=(t.mode&1)!==0,a){case"dialog":Ue("cancel",l),Ue("close",l);break;case"iframe":case"object":case"embed":Ue("load",l);break;case"video":case"audio":for(d=0;d<Ds.length;d++)Ue(Ds[d],l);break;case"source":Ue("error",l);break;case"img":case"image":case"link":Ue("error",l),Ue("load",l);break;case"details":Ue("toggle",l);break;case"input":O(l,f),Ue("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},Ue("invalid",l);break;case"textarea":re(l,f),Ue("invalid",l)}hr(a,f),d=null;for(var v in f)if(f.hasOwnProperty(v)){var _=f[v];v==="children"?typeof _=="string"?l.textContent!==_&&(f.suppressHydrationWarning!==!0&&Mi(l.textContent,_,e),d=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&Mi(l.textContent,_,e),d=["children",""+_]):c.hasOwnProperty(v)&&_!=null&&v==="onScroll"&&Ue("scroll",l)}switch(a){case"input":Ct(l),_e(l,f,!0);break;case"textarea":Ct(l),ps(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Bi)}l=d,t.updateQueue=l,l!==null&&(t.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Or(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(a,{is:l.is}):(e=v.createElement(a),a==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,a),e[pr]=t,e[Us]=l,yd(e,t,!1,!1),t.stateNode=e;e:{switch(v=vs(a,l),a){case"dialog":Ue("cancel",e),Ue("close",e),d=l;break;case"iframe":case"object":case"embed":Ue("load",e),d=l;break;case"video":case"audio":for(d=0;d<Ds.length;d++)Ue(Ds[d],e);d=l;break;case"source":Ue("error",e),d=l;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),d=l;break;case"details":Ue("toggle",e),d=l;break;case"input":O(e,l),d=A(e,l),Ue("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=z({},l,{value:void 0}),Ue("invalid",e);break;case"textarea":re(e,l),d=at(e,l),Ue("invalid",e);break;default:d=l}hr(a,d),_=d;for(f in _)if(_.hasOwnProperty(f)){var k=_[f];f==="style"?vt(e,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&on(e,k)):f==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&Dr(e,k):typeof k=="number"&&Dr(e,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(c.hasOwnProperty(f)?k!=null&&f==="onScroll"&&Ue("scroll",e):k!=null&&P(e,f,k,v))}switch(a){case"input":Ct(e),_e(e,l,!1);break;case"textarea":Ct(e),ps(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ae(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?$e(e,!!l.multiple,f,!1):l.defaultValue!=null&&$e(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Bi)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)xd(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(n(166));if(a=gn(zs.current),gn(gr.current),Gi(t)){if(l=t.stateNode,a=t.memoizedProps,l[pr]=t,(f=l.nodeValue!==a)&&(e=Lt,e!==null))switch(e.tag){case 3:Mi(l.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mi(l.nodeValue,a,(e.mode&1)!==0)}f&&(t.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[pr]=t,t.stateNode=l}return jt(t),null;case 13:if(Fe(ze),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)bu(),qn(),t.flags|=98560,f=!1;else if(f=Gi(t),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[pr]=t}else qn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;jt(t),f=!1}else rr!==null&&(gl(rr),rr=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ze.current&1)!==0?rt===0&&(rt=3):wl())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return Gn(),il(e,t),e===null&&$s(t.stateNode.containerInfo),jt(t),null;case 10:return Io(t.type._context),jt(t),null;case 17:return Tt(t.type)&&zi(),jt(t),null;case 19:if(Fe(ze),f=t.memoizedState,f===null)return jt(t),null;if(l=(t.flags&128)!==0,v=f.rendering,v===null)if(l)Gs(f,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=ea(e),v!==null){for(t.flags|=128,Gs(f,!1),l=v.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=a,a=t.child;a!==null;)f=a,e=l,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,e=v.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Oe(ze,ze.current&1|2),t.child}e=e.sibling}f.tail!==null&&Qe()>Xn&&(t.flags|=128,l=!0,Gs(f,!1),t.lanes=4194304)}else{if(!l)if(e=ea(v),e!==null){if(t.flags|=128,l=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Gs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Be)return jt(t),null}else 2*Qe()-f.renderingStartTime>Xn&&a!==1073741824&&(t.flags|=128,l=!0,Gs(f,!1),t.lanes=4194304);f.isBackwards?(v.sibling=t.child,t.child=v):(a=f.last,a!==null?a.sibling=v:t.child=v,f.last=v)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Qe(),t.sibling=null,a=ze.current,Oe(ze,l?a&1|2:a&1),t):(jt(t),null);case 22:case 23:return yl(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(Ft&1073741824)!==0&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Hm(e,t){switch(Eo(t),t.tag){case 1:return Tt(t.type)&&zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gn(),Fe(Rt),Fe(wt),Mo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Uo(t),null;case 13:if(Fe(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(ze),null;case 4:return Gn(),null;case 10:return Io(t.type._context),null;case 22:case 23:return yl(),null;case 24:return null;default:return null}}var ca=!1,_t=!1,Km=typeof WeakSet=="function"?WeakSet:Set,X=null;function Qn(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){Ke(e,t,l)}else a.current=null}function al(e,t,a){try{a()}catch(l){Ke(e,t,l)}}var jd=!1;function Gm(e,t){if(yo=Ri,e=Zc(),co(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,_=-1,k=-1,L=0,B=0,W=e,M=null;t:for(;;){for(var Y;W!==a||d!==0&&W.nodeType!==3||(_=v+d),W!==f||l!==0&&W.nodeType!==3||(k=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Y=W.firstChild)!==null;)M=W,W=Y;for(;;){if(W===e)break t;if(M===a&&++L===d&&(_=v),M===f&&++B===l&&(k=v),(Y=W.nextSibling)!==null)break;W=M,M=W.parentNode}W=Y}a=_===-1||k===-1?null:{start:_,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(wo={focusedElem:e,selectionRange:a},Ri=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var te=Z.memoizedProps,Ye=Z.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?te:nr(t.type,te),Ye);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(V){Ke(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Z=jd,jd=!1,Z}function Js(e,t,a){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&al(t,a,f)}d=d.next}while(d!==l)}}function ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var l=a.create;a.destroy=l()}a=a.next}while(a!==t)}}function ol(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function _d(e){var t=e.alternate;t!==null&&(e.alternate=null,_d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pr],delete t[Us],delete t[bo],delete t[Tm],delete t[Am])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bd(e){return e.tag===5||e.tag===3||e.tag===4}function Sd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ll(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Bi));else if(l!==4&&(e=e.child,e!==null))for(ll(e,t,a),e=e.sibling;e!==null;)ll(e,t,a),e=e.sibling}function cl(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(cl(e,t,a),e=e.sibling;e!==null;)cl(e,t,a),e=e.sibling}var ft=null,sr=!1;function Yr(e,t,a){for(a=a.child;a!==null;)Nd(e,t,a),a=a.sibling}function Nd(e,t,a){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(bi,a)}catch{}switch(a.tag){case 5:_t||Qn(a,t);case 6:var l=ft,d=sr;ft=null,Yr(e,t,a),ft=l,sr=d,ft!==null&&(sr?(e=ft,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):ft.removeChild(a.stateNode));break;case 18:ft!==null&&(sr?(e=ft,a=a.stateNode,e.nodeType===8?_o(e.parentNode,a):e.nodeType===1&&_o(e,a),Es(e)):_o(ft,a.stateNode));break;case 4:l=ft,d=sr,ft=a.stateNode.containerInfo,sr=!0,Yr(e,t,a),ft=l,sr=d;break;case 0:case 11:case 14:case 15:if(!_t&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,v=f.destroy;f=f.tag,v!==void 0&&((f&2)!==0||(f&4)!==0)&&al(a,t,v),d=d.next}while(d!==l)}Yr(e,t,a);break;case 1:if(!_t&&(Qn(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(_){Ke(a,t,_)}Yr(e,t,a);break;case 21:Yr(e,t,a);break;case 22:a.mode&1?(_t=(l=_t)||a.memoizedState!==null,Yr(e,t,a),_t=l):Yr(e,t,a);break;default:Yr(e,t,a)}}function kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Km),t.forEach(function(l){var d=np.bind(null,e,l);a.has(l)||(a.add(l),l.then(d,d))})}}function ir(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];try{var f=e,v=t,_=v;e:for(;_!==null;){switch(_.tag){case 5:ft=_.stateNode,sr=!1;break e;case 3:ft=_.stateNode.containerInfo,sr=!0;break e;case 4:ft=_.stateNode.containerInfo,sr=!0;break e}_=_.return}if(ft===null)throw Error(n(160));Nd(f,v,d),ft=null,sr=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(L){Ke(d,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ed(t,e),t=t.sibling}function Ed(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ir(t,e),yr(e),l&4){try{Js(3,e,e.return),ua(3,e)}catch(te){Ke(e,e.return,te)}try{Js(5,e,e.return)}catch(te){Ke(e,e.return,te)}}break;case 1:ir(t,e),yr(e),l&512&&a!==null&&Qn(a,a.return);break;case 5:if(ir(t,e),yr(e),l&512&&a!==null&&Qn(a,a.return),e.flags&32){var d=e.stateNode;try{Dr(d,"")}catch(te){Ke(e,e.return,te)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,v=a!==null?a.memoizedProps:f,_=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&K(d,f),vs(_,v);var L=vs(_,f);for(v=0;v<k.length;v+=2){var B=k[v],W=k[v+1];B==="style"?vt(d,W):B==="dangerouslySetInnerHTML"?on(d,W):B==="children"?Dr(d,W):P(d,B,W,L)}switch(_){case"input":we(d,f);break;case"textarea":Dt(d,f);break;case"select":var M=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?$e(d,!!f.multiple,Y,!1):M!==!!f.multiple&&(f.defaultValue!=null?$e(d,!!f.multiple,f.defaultValue,!0):$e(d,!!f.multiple,f.multiple?[]:"",!1))}d[Us]=f}catch(te){Ke(e,e.return,te)}}break;case 6:if(ir(t,e),yr(e),l&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(te){Ke(e,e.return,te)}}break;case 3:if(ir(t,e),yr(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(te){Ke(e,e.return,te)}break;case 4:ir(t,e),yr(e);break;case 13:ir(t,e),yr(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(hl=Qe())),l&4&&kd(e);break;case 22:if(B=a!==null&&a.memoizedState!==null,e.mode&1?(_t=(L=_t)||B,ir(t,e),_t=L):ir(t,e),yr(e),l&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!B&&(e.mode&1)!==0)for(X=e,B=e.child;B!==null;){for(W=X=B;X!==null;){switch(M=X,Y=M.child,M.tag){case 0:case 11:case 14:case 15:Js(4,M,M.return);break;case 1:Qn(M,M.return);var Z=M.stateNode;if(typeof Z.componentWillUnmount=="function"){l=M,a=M.return;try{t=l,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(te){Ke(l,a,te)}}break;case 5:Qn(M,M.return);break;case 22:if(M.memoizedState!==null){Td(W);continue}}Y!==null?(Y.return=M,X=Y):Td(W)}B=B.sibling}e:for(B=null,W=e;;){if(W.tag===5){if(B===null){B=W;try{d=W.stateNode,L?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=W.stateNode,k=W.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,_.style.display=Tn("display",v))}catch(te){Ke(e,e.return,te)}}}else if(W.tag===6){if(B===null)try{W.stateNode.nodeValue=L?"":W.memoizedProps}catch(te){Ke(e,e.return,te)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;B===W&&(B=null),W=W.return}B===W&&(B=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:ir(t,e),yr(e),l&4&&kd(e);break;case 21:break;default:ir(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(bd(a)){var l=a;break e}a=a.return}throw Error(n(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Dr(d,""),l.flags&=-33);var f=Sd(e);cl(e,f,d);break;case 3:case 4:var v=l.stateNode.containerInfo,_=Sd(e);ll(e,_,v);break;default:throw Error(n(161))}}catch(k){Ke(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jm(e,t,a){X=e,Cd(e)}function Cd(e,t,a){for(var l=(e.mode&1)!==0;X!==null;){var d=X,f=d.child;if(d.tag===22&&l){var v=d.memoizedState!==null||ca;if(!v){var _=d.alternate,k=_!==null&&_.memoizedState!==null||_t;_=ca;var L=_t;if(ca=v,(_t=k)&&!L)for(X=d;X!==null;)v=X,k=v.child,v.tag===22&&v.memoizedState!==null?Ad(d):k!==null?(k.return=v,X=k):Ad(d);for(;f!==null;)X=f,Cd(f),f=f.sibling;X=d,ca=_,_t=L}Rd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,X=f):Rd(e)}}function Rd(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:_t||ua(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!_t)if(a===null)l.componentDidMount();else{var d=t.elementType===t.type?a.memoizedProps:nr(t.type,a.memoizedProps);l.componentDidUpdate(d,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Tu(t,f,l);break;case 3:var v=t.updateQueue;if(v!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}Tu(t,v,a)}break;case 5:var _=t.stateNode;if(a===null&&t.flags&4){a=_;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var B=L.memoizedState;if(B!==null){var W=B.dehydrated;W!==null&&Es(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_t||t.flags&512&&ol(t)}catch(M){Ke(t,t.return,M)}}if(t===e){X=null;break}if(a=t.sibling,a!==null){a.return=t.return,X=a;break}X=t.return}}function Td(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}function Ad(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{ua(4,t)}catch(k){Ke(t,a,k)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var d=t.return;try{l.componentDidMount()}catch(k){Ke(t,d,k)}}var f=t.return;try{ol(t)}catch(k){Ke(t,f,k)}break;case 5:var v=t.return;try{ol(t)}catch(k){Ke(t,v,k)}}}catch(k){Ke(t,t.return,k)}if(t===e){X=null;break}var _=t.sibling;if(_!==null){_.return=t.return,X=_;break}X=t.return}}var Qm=Math.ceil,da=Q.ReactCurrentDispatcher,ul=Q.ReactCurrentOwner,Jt=Q.ReactCurrentBatchConfig,ke=0,lt=null,Xe=null,mt=0,Ft=0,Yn=Hr(0),rt=0,Qs=null,yn=0,ha=0,dl=0,Ys=null,Pt=null,hl=0,Xn=1/0,Rr=null,fa=!1,fl=null,Xr=null,ma=!1,Zr=null,pa=0,Xs=0,ml=null,ga=-1,va=0;function St(){return(ke&6)!==0?Qe():ga!==-1?ga:ga=Qe()}function en(e){return(e.mode&1)===0?1:(ke&2)!==0&&mt!==0?mt&-mt:Im.transition!==null?(va===0&&(va=Sc()),va):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Ic(e.type)),e)}function ar(e,t,a,l){if(50<Xs)throw Xs=0,ml=null,Error(n(185));_s(e,a,l),((ke&2)===0||e!==lt)&&(e===lt&&((ke&2)===0&&(ha|=a),rt===4&&tn(e,mt)),It(e,l),a===1&&ke===0&&(t.mode&1)===0&&(Xn=Qe()+500,Vi&&Gr()))}function It(e,t){var a=e.callbackNode;If(e,t);var l=ki(e,e===lt?mt:0);if(l===0)a!==null&&jc(a),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(a!=null&&jc(a),t===1)e.tag===0?Pm(Id.bind(null,e)):yu(Id.bind(null,e)),Cm(function(){(ke&6)===0&&Gr()}),a=null;else{switch(Nc(l)){case 1:a=Ha;break;case 4:a=_c;break;case 16:a=_i;break;case 536870912:a=bc;break;default:a=_i}a=Bd(a,Pd.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function Pd(e,t){if(ga=-1,va=0,(ke&6)!==0)throw Error(n(327));var a=e.callbackNode;if(Zn()&&e.callbackNode!==a)return null;var l=ki(e,e===lt?mt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=ya(e,l);else{t=l;var d=ke;ke|=2;var f=Dd();(lt!==e||mt!==t)&&(Rr=null,Xn=Qe()+500,xn(e,t));do try{Zm();break}catch(_){Od(e,_)}while(!0);Po(),da.current=f,ke=d,Xe!==null?t=0:(lt=null,mt=0,t=rt)}if(t!==0){if(t===2&&(d=Ka(e),d!==0&&(l=d,t=pl(e,d))),t===1)throw a=Qs,xn(e,0),tn(e,l),It(e,Qe()),a;if(t===6)tn(e,l);else{if(d=e.current.alternate,(l&30)===0&&!Ym(d)&&(t=ya(e,l),t===2&&(f=Ka(e),f!==0&&(l=f,t=pl(e,f))),t===1))throw a=Qs,xn(e,0),tn(e,l),It(e,Qe()),a;switch(e.finishedWork=d,e.finishedLanes=l,t){case 0:case 1:throw Error(n(345));case 2:jn(e,Pt,Rr);break;case 3:if(tn(e,l),(l&130023424)===l&&(t=hl+500-Qe(),10<t)){if(ki(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){St(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=jo(jn.bind(null,e,Pt,Rr),t);break}jn(e,Pt,Rr);break;case 4:if(tn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,d=-1;0<l;){var v=31-er(l);f=1<<v,v=t[v],v>d&&(d=v),l&=~f}if(l=d,l=Qe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Qm(l/1960))-l,10<l){e.timeoutHandle=jo(jn.bind(null,e,Pt,Rr),l);break}jn(e,Pt,Rr);break;case 5:jn(e,Pt,Rr);break;default:throw Error(n(329))}}}return It(e,Qe()),e.callbackNode===a?Pd.bind(null,e):null}function pl(e,t){var a=Ys;return e.current.memoizedState.isDehydrated&&(xn(e,t).flags|=256),e=ya(e,t),e!==2&&(t=Pt,Pt=a,t!==null&&gl(t)),e}function gl(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function Ym(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!tr(f(),d))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~dl,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-er(t),l=1<<a;e[a]=-1,t&=~l}}function Id(e){if((ke&6)!==0)throw Error(n(327));Zn();var t=ki(e,0);if((t&1)===0)return It(e,Qe()),null;var a=ya(e,t);if(e.tag!==0&&a===2){var l=Ka(e);l!==0&&(t=l,a=pl(e,l))}if(a===1)throw a=Qs,xn(e,0),tn(e,t),It(e,Qe()),a;if(a===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,Pt,Rr),It(e,Qe()),null}function vl(e,t){var a=ke;ke|=1;try{return e(t)}finally{ke=a,ke===0&&(Xn=Qe()+500,Vi&&Gr())}}function wn(e){Zr!==null&&Zr.tag===0&&(ke&6)===0&&Zn();var t=ke;ke|=1;var a=Jt.transition,l=Te;try{if(Jt.transition=null,Te=1,e)return e()}finally{Te=l,Jt.transition=a,ke=t,(ke&6)===0&&Gr()}}function yl(){Ft=Yn.current,Fe(Yn)}function xn(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Em(a)),Xe!==null)for(a=Xe.return;a!==null;){var l=a;switch(Eo(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&zi();break;case 3:Gn(),Fe(Rt),Fe(wt),Mo();break;case 5:Uo(l);break;case 4:Gn();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:Io(l.type._context);break;case 22:case 23:yl()}a=a.return}if(lt=e,Xe=e=rn(e.current,null),mt=Ft=t,rt=0,Qs=null,dl=ha=yn=0,Pt=Ys=null,pn!==null){for(t=0;t<pn.length;t++)if(a=pn[t],l=a.interleaved,l!==null){a.interleaved=null;var d=l.next,f=a.pending;if(f!==null){var v=f.next;f.next=d,l.next=v}a.pending=l}pn=null}return e}function Od(e,t){do{var a=Xe;try{if(Po(),ta.current=ia,ra){for(var l=qe.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}ra=!1}if(vn=0,ot=tt=qe=null,qs=!1,Vs=0,ul.current=null,a===null||a.return===null){rt=1,Qs=t,Xe=null;break}e:{var f=e,v=a.return,_=a,k=t;if(t=mt,_.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var L=k,B=_,W=B.tag;if((B.mode&1)===0&&(W===0||W===11||W===15)){var M=B.alternate;M?(B.updateQueue=M.updateQueue,B.memoizedState=M.memoizedState,B.lanes=M.lanes):(B.updateQueue=null,B.memoizedState=null)}var Y=id(v);if(Y!==null){Y.flags&=-257,ad(Y,v,_,f,t),Y.mode&1&&sd(f,L,t),t=Y,k=L;var Z=t.updateQueue;if(Z===null){var te=new Set;te.add(k),t.updateQueue=te}else Z.add(k);break e}else{if((t&1)===0){sd(f,L,t),wl();break e}k=Error(n(426))}}else if(Be&&_.mode&1){var Ye=id(v);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),ad(Ye,v,_,f,t),To(Jn(k,_));break e}}f=k=Jn(k,_),rt!==4&&(rt=2),Ys===null?Ys=[f]:Ys.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var I=rd(f,k,t);Ru(f,I);break e;case 1:_=k;var E=f.type,D=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Xr===null||!Xr.has(D)))){f.flags|=65536,t&=-t,f.lanes|=t;var V=nd(f,_,t);Ru(f,V);break e}}f=f.return}while(f!==null)}Ld(a)}catch(ne){t=ne,Xe===a&&a!==null&&(Xe=a=a.return);continue}break}while(!0)}function Dd(){var e=da.current;return da.current=ia,e===null?ia:e}function wl(){(rt===0||rt===3||rt===2)&&(rt=4),lt===null||(yn&268435455)===0&&(ha&268435455)===0||tn(lt,mt)}function ya(e,t){var a=ke;ke|=2;var l=Dd();(lt!==e||mt!==t)&&(Rr=null,xn(e,t));do try{Xm();break}catch(d){Od(e,d)}while(!0);if(Po(),ke=a,da.current=l,Xe!==null)throw Error(n(261));return lt=null,mt=0,rt}function Xm(){for(;Xe!==null;)$d(Xe)}function Zm(){for(;Xe!==null&&!Sf();)$d(Xe)}function $d(e){var t=Md(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Ld(e):Xe=t,ul.current=null}function Ld(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=Vm(a,t,Ft),a!==null){Xe=a;return}}else{if(a=Hm(a,t),a!==null){a.flags&=32767,Xe=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Xe=null;return}}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);rt===0&&(rt=5)}function jn(e,t,a){var l=Te,d=Jt.transition;try{Jt.transition=null,Te=1,ep(e,t,a,l)}finally{Jt.transition=d,Te=l}return null}function ep(e,t,a,l){do Zn();while(Zr!==null);if((ke&6)!==0)throw Error(n(327));a=e.finishedWork;var d=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=a.lanes|a.childLanes;if(Of(e,f),e===lt&&(Xe=lt=null,mt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ma||(ma=!0,Bd(_i,function(){return Zn(),null})),f=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||f){f=Jt.transition,Jt.transition=null;var v=Te;Te=1;var _=ke;ke|=4,ul.current=null,Gm(e,a),Ed(a,e),xm(wo),Ri=!!yo,wo=yo=null,e.current=a,Jm(a),Nf(),ke=_,Te=v,Jt.transition=f}else e.current=a;if(ma&&(ma=!1,Zr=e,pa=d),f=e.pendingLanes,f===0&&(Xr=null),Cf(a.stateNode),It(e,Qe()),t!==null)for(l=e.onRecoverableError,a=0;a<t.length;a++)d=t[a],l(d.value,{componentStack:d.stack,digest:d.digest});if(fa)throw fa=!1,e=fl,fl=null,e;return(pa&1)!==0&&e.tag!==0&&Zn(),f=e.pendingLanes,(f&1)!==0?e===ml?Xs++:(Xs=0,ml=e):Xs=0,Gr(),null}function Zn(){if(Zr!==null){var e=Nc(pa),t=Jt.transition,a=Te;try{if(Jt.transition=null,Te=16>e?16:e,Zr===null)var l=!1;else{if(e=Zr,Zr=null,pa=0,(ke&6)!==0)throw Error(n(331));var d=ke;for(ke|=4,X=e.current;X!==null;){var f=X,v=f.child;if((X.flags&16)!==0){var _=f.deletions;if(_!==null){for(var k=0;k<_.length;k++){var L=_[k];for(X=L;X!==null;){var B=X;switch(B.tag){case 0:case 11:case 15:Js(8,B,f)}var W=B.child;if(W!==null)W.return=B,X=W;else for(;X!==null;){B=X;var M=B.sibling,Y=B.return;if(_d(B),B===L){X=null;break}if(M!==null){M.return=Y,X=M;break}X=Y}}}var Z=f.alternate;if(Z!==null){var te=Z.child;if(te!==null){Z.child=null;do{var Ye=te.sibling;te.sibling=null,te=Ye}while(te!==null)}}X=f}}if((f.subtreeFlags&2064)!==0&&v!==null)v.return=f,X=v;else e:for(;X!==null;){if(f=X,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Js(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,X=I;break e}X=f.return}}var E=e.current;for(X=E;X!==null;){v=X;var D=v.child;if((v.subtreeFlags&2064)!==0&&D!==null)D.return=v,X=D;else e:for(v=E;X!==null;){if(_=X,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:ua(9,_)}}catch(ne){Ke(_,_.return,ne)}if(_===v){X=null;break e}var V=_.sibling;if(V!==null){V.return=_.return,X=V;break e}X=_.return}}if(ke=d,Gr(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(bi,e)}catch{}l=!0}return l}finally{Te=a,Jt.transition=t}}return!1}function Ud(e,t,a){t=Jn(a,t),t=rd(e,t,1),e=Qr(e,t,1),t=St(),e!==null&&(_s(e,1,t),It(e,t))}function Ke(e,t,a){if(e.tag===3)Ud(e,e,a);else for(;t!==null;){if(t.tag===3){Ud(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){e=Jn(a,e),e=nd(t,e,1),t=Qr(t,e,1),e=St(),t!==null&&(_s(t,1,e),It(t,e));break}}t=t.return}}function tp(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&a,lt===e&&(mt&a)===a&&(rt===4||rt===3&&(mt&130023424)===mt&&500>Qe()-hl?xn(e,0):dl|=a),It(e,t)}function Fd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ni,Ni<<=1,(Ni&130023424)===0&&(Ni=4194304)));var a=St();e=kr(e,t),e!==null&&(_s(e,t,a),It(e,a))}function rp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Fd(e,a)}function np(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(t),Fd(e,a)}var Md;Md=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)At=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return At=!1,qm(e,t,a);At=(e.flags&131072)!==0}else At=!1,Be&&(t.flags&1048576)!==0&&wu(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;la(e,t),e=t.pendingProps;var d=Bn(t,wt.current);Kn(t,a),d=zo(null,t,l,e,d,a);var f=qo();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(l)?(f=!0,qi(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,$o(t),d.updater=aa,t.stateNode=d,d._reactInternals=t,Qo(t,l,e,a),t=el(null,t,l,!0,f,a)):(t.tag=0,Be&&f&&ko(t),bt(null,t,d,a),t=t.child),t;case 16:l=t.elementType;e:{switch(la(e,t),e=t.pendingProps,d=l._init,l=d(l._payload),t.type=l,d=t.tag=ip(l),e=nr(l,e),d){case 0:t=Zo(null,t,l,e,a);break e;case 1:t=hd(null,t,l,e,a);break e;case 11:t=od(null,t,l,e,a);break e;case 14:t=ld(null,t,l,nr(l.type,e),a);break e}throw Error(n(306,l,""))}return t;case 0:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:nr(l,d),Zo(e,t,l,d,a);case 1:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:nr(l,d),hd(e,t,l,d,a);case 3:e:{if(fd(t),e===null)throw Error(n(387));l=t.pendingProps,f=t.memoizedState,d=f.element,Cu(e,t),Zi(t,l,null,a);var v=t.memoizedState;if(l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=Jn(Error(n(423)),t),t=md(e,t,l,a,d);break e}else if(l!==d){d=Jn(Error(n(424)),t),t=md(e,t,l,a,d);break e}else for(Ut=Vr(t.stateNode.containerInfo.firstChild),Lt=t,Be=!0,rr=null,a=ku(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qn(),l===d){t=Cr(e,t,a);break e}bt(e,t,l,a)}t=t.child}return t;case 5:return Au(t),e===null&&Ro(t),l=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,v=d.children,xo(l,d)?v=null:f!==null&&xo(l,f)&&(t.flags|=32),dd(e,t),bt(e,t,v,a),t.child;case 6:return e===null&&Ro(t),null;case 13:return pd(e,t,a);case 4:return Lo(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Vn(t,null,l,a):bt(e,t,l,a),t.child;case 11:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:nr(l,d),od(e,t,l,d,a);case 7:return bt(e,t,t.pendingProps,a),t.child;case 8:return bt(e,t,t.pendingProps.children,a),t.child;case 12:return bt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(l=t.type._context,d=t.pendingProps,f=t.memoizedProps,v=d.value,Oe(Qi,l._currentValue),l._currentValue=v,f!==null)if(tr(f.value,v)){if(f.children===d.children&&!Rt.current){t=Cr(e,t,a);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var _=f.dependencies;if(_!==null){v=f.child;for(var k=_.firstContext;k!==null;){if(k.context===l){if(f.tag===1){k=Er(-1,a&-a),k.tag=2;var L=f.updateQueue;if(L!==null){L=L.shared;var B=L.pending;B===null?k.next=k:(k.next=B.next,B.next=k),L.pending=k}}f.lanes|=a,k=f.alternate,k!==null&&(k.lanes|=a),Oo(f.return,a,t),_.lanes|=a;break}k=k.next}}else if(f.tag===10)v=f.type===t.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(n(341));v.lanes|=a,_=v.alternate,_!==null&&(_.lanes|=a),Oo(v,a,t),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}bt(e,t,d.children,a),t=t.child}return t;case 9:return d=t.type,l=t.pendingProps.children,Kn(t,a),d=Kt(d),l=l(d),t.flags|=1,bt(e,t,l,a),t.child;case 14:return l=t.type,d=nr(l,t.pendingProps),d=nr(l.type,d),ld(e,t,l,d,a);case 15:return cd(e,t,t.type,t.pendingProps,a);case 17:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:nr(l,d),la(e,t),t.tag=1,Tt(l)?(e=!0,qi(t)):e=!1,Kn(t,a),ed(t,l,d),Qo(t,l,d,a),el(null,t,l,!0,e,a);case 19:return vd(e,t,a);case 22:return ud(e,t,a)}throw Error(n(156,t.tag))};function Bd(e,t){return xc(e,t)}function sp(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,a,l){return new sp(e,t,a,l)}function xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ip(e){if(typeof e=="function")return xl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kt)return 11;if(e===Et)return 14}return 2}function rn(e,t){var a=e.alternate;return a===null?(a=Qt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function wa(e,t,a,l,d,f){var v=2;if(l=e,typeof e=="function")xl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case oe:return _n(a.children,d,f,t);case Ee:v=8,d|=8;break;case Re:return e=Qt(12,a,t,d|2),e.elementType=Re,e.lanes=f,e;case Je:return e=Qt(13,a,t,d),e.elementType=Je,e.lanes=f,e;case dt:return e=Qt(19,a,t,d),e.elementType=dt,e.lanes=f,e;case Ie:return xa(a,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:v=10;break e;case zt:v=9;break e;case kt:v=11;break e;case Et:v=14;break e;case it:v=16,l=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Qt(v,a,t,d),t.elementType=e,t.type=l,t.lanes=f,t}function _n(e,t,a,l){return e=Qt(7,e,l,t),e.lanes=a,e}function xa(e,t,a,l){return e=Qt(22,e,l,t),e.elementType=Ie,e.lanes=a,e.stateNode={isHidden:!1},e}function jl(e,t,a){return e=Qt(6,e,null,t),e.lanes=a,e}function _l(e,t,a){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ap(e,t,a,l,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bl(e,t,a,l,d,f,v,_,k){return e=new ap(e,t,a,_,k),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Qt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},$o(f),e}function op(e,t,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:l==null?null:""+l,children:e,containerInfo:t,implementation:a}}function Wd(e){if(!e)return Kr;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var a=e.type;if(Tt(a))return gu(e,a,t)}return t}function zd(e,t,a,l,d,f,v,_,k){return e=bl(a,l,!0,e,d,f,v,_,k),e.context=Wd(null),a=e.current,l=St(),d=en(a),f=Er(l,d),f.callback=t??null,Qr(a,f,d),e.current.lanes=d,_s(e,d,l),It(e,l),e}function ja(e,t,a,l){var d=t.current,f=St(),v=en(d);return a=Wd(a),t.context===null?t.context=a:t.pendingContext=a,t=Er(f,v),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=Qr(d,t,v),e!==null&&(ar(e,d,v,f),Xi(e,d,v)),v}function _a(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Sl(e,t){qd(e,t),(e=e.alternate)&&qd(e,t)}function lp(){return null}var Vd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nl(e){this._internalRoot=e}ba.prototype.render=Nl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));ja(e,t,null,null)},ba.prototype.unmount=Nl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){ja(null,e,null,null)}),t[_r]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Wr.length&&t!==0&&t<Wr[a].priority;a++);Wr.splice(a,0,e),a===0&&Ac(e)}};function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hd(){}function cp(e,t,a,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var L=_a(v);f.call(L)}}var v=zd(t,l,e,0,null,!1,!1,"",Hd);return e._reactRootContainer=v,e[_r]=v.current,$s(e.nodeType===8?e.parentNode:e),wn(),v}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var _=l;l=function(){var L=_a(k);_.call(L)}}var k=bl(e,0,!1,null,null,!1,!1,"",Hd);return e._reactRootContainer=k,e[_r]=k.current,$s(e.nodeType===8?e.parentNode:e),wn(function(){ja(t,k,a,l)}),k}function Na(e,t,a,l,d){var f=a._reactRootContainer;if(f){var v=f;if(typeof d=="function"){var _=d;d=function(){var k=_a(v);_.call(k)}}ja(t,v,e,d)}else v=cp(a,t,e,d,l);return _a(v)}kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=js(t.pendingLanes);a!==0&&(Ja(t,a|1),It(t,Qe()),(ke&6)===0&&(Xn=Qe()+500,Gr()))}break;case 13:wn(function(){var l=kr(e,1);if(l!==null){var d=St();ar(l,e,1,d)}}),Sl(e,1)}},Qa=function(e){if(e.tag===13){var t=kr(e,134217728);if(t!==null){var a=St();ar(t,e,134217728,a)}Sl(e,134217728)}},Ec=function(e){if(e.tag===13){var t=en(e),a=kr(e,t);if(a!==null){var l=St();ar(a,e,t,l)}Sl(e,t)}},Cc=function(){return Te},Rc=function(e,t){var a=Te;try{return Te=e,t()}finally{Te=a}},Le=function(e,t,a){switch(t){case"input":if(we(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var d=Wi(l);if(!d)throw Error(n(90));Pe(l),we(l,d)}}}break;case"textarea":Dt(e,a);break;case"select":t=a.value,t!=null&&$e(e,!!a.multiple,t,!1)}},wi=vl,xi=wn;var up={usingClientEntryPoint:!1,Events:[Fs,Fn,Wi,vi,yi,vl]},Zs={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dp={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yc(e),e===null?null:e.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||lp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{bi=ka.inject(dp),mr=ka}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=up,Ot.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kl(t))throw Error(n(200));return op(e,t,null,a)},Ot.createRoot=function(e,t){if(!kl(e))throw Error(n(299));var a=!1,l="",d=Vd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=bl(e,1,!1,null,null,a,!1,l,d),e[_r]=t.current,$s(e.nodeType===8?e.parentNode:e),new Nl(t)},Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=yc(t),e=e===null?null:e.stateNode,e},Ot.flushSync=function(e){return wn(e)},Ot.hydrate=function(e,t,a){if(!Sa(t))throw Error(n(200));return Na(null,e,t,!0,a)},Ot.hydrateRoot=function(e,t,a){if(!kl(e))throw Error(n(405));var l=a!=null&&a.hydratedSources||null,d=!1,f="",v=Vd;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),t=zd(t,null,e,1,a??null,d,!1,f,v),e[_r]=t.current,$s(e),l)for(e=0;e<l.length;e++)a=l[e],d=a._getVersion,d=d(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,d]:t.mutableSourceEagerHydrationData.push(a,d);return new ba(t)},Ot.render=function(e,t,a){if(!Sa(t))throw Error(n(200));return Na(null,e,t,!1,a)},Ot.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(n(40));return e._reactRootContainer?(wn(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[_r]=null})}),!0):!1},Ot.unstable_batchedUpdates=vl,Ot.unstable_renderSubtreeIntoContainer=function(e,t,a,l){if(!Sa(a))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Na(e,t,a,!1,l)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var eh;function Ph(){if(eh)return Rl.exports;eh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Rl.exports=wp(),Rl.exports}var th;function xp(){if(th)return Ea;th=1;var i=Ph();return Ea.createRoot=i.createRoot,Ea.hydrateRoot=i.hydrateRoot,Ea}var jp=xp();const _p=Ah(jp);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rh="popstate";function bp(i={}){function r(o,c){let{pathname:u,search:h,hash:m}=o.location;return ql("",{pathname:u,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){return typeof c=="string"?c:ii(c)}return Np(r,n,null,i)}function He(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Xt(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Sp(){return Math.random().toString(36).substring(2,10)}function nh(i,r){return{usr:i.state,key:i.key,idx:r}}function ql(i,r,n=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof r=="string"?hs(r):r,state:n,key:r&&r.key||o||Sp()}}function ii({pathname:i="/",search:r="",hash:n=""}){return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function hs(i){let r={};if(i){let n=i.indexOf("#");n>=0&&(r.hash=i.substring(n),i=i.substring(0,n));let o=i.indexOf("?");o>=0&&(r.search=i.substring(o),i=i.substring(0,o)),i&&(r.pathname=i)}return r}function Np(i,r,n,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,h=c.history,m="POP",p=null,g=w();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function w(){return(h.state||{idx:null}).idx}function x(){m="POP";let C=w(),$=C==null?null:C-g;g=C,p&&p({action:m,location:R.location,delta:$})}function j(C,$){m="PUSH";let U=ql(R.location,C,$);g=w()+1;let P=nh(U,g),Q=R.createHref(U);try{h.pushState(P,"",Q)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;c.location.assign(Q)}u&&p&&p({action:m,location:R.location,delta:1})}function N(C,$){m="REPLACE";let U=ql(R.location,C,$);g=w();let P=nh(U,g),Q=R.createHref(U);h.replaceState(P,"",Q),u&&p&&p({action:m,location:R.location,delta:0})}function b(C){return kp(C)}let R={get action(){return m},get location(){return i(c,h)},listen(C){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(rh,x),p=C,()=>{c.removeEventListener(rh,x),p=null}},createHref(C){return r(c,C)},createURL:b,encodeLocation(C){let $=b(C);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:j,replace:N,go(C){return h.go(C)}};return R}function kp(i,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),He(n,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:ii(i);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function Ih(i,r,n="/"){return Ep(i,r,n,!1)}function Ep(i,r,n,o){let c=typeof r=="string"?hs(r):r,u=Pr(c.pathname||"/",n);if(u==null)return null;let h=Oh(i);Cp(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Fp(u);m=Lp(h[p],g,o)}return m}function Oh(i,r=[],n=[],o="",c=!1){let u=(h,m,p=c,g)=>{let w={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(o)&&p)return;He(w.relativePath.startsWith(o),`Absolute route path "${w.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(o.length)}let x=Ar([o,w.relativePath]),j=n.concat(w);h.children&&h.children.length>0&&(He(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Oh(h.children,r,j,x,p)),!(h.path==null&&!h.index)&&r.push({path:x,score:Dp(x,h.index),routesMeta:j})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of Dh(h.path))u(h,m,!0,g)}),r}function Dh(i){let r=i.split("/");if(r.length===0)return[];let[n,...o]=r,c=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let h=Dh(o.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),c&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Cp(i){i.sort((r,n)=>r.score!==n.score?n.score-r.score:$p(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var Rp=/^:[\w-]+$/,Tp=3,Ap=2,Pp=1,Ip=10,Op=-2,sh=i=>i==="*";function Dp(i,r){let n=i.split("/"),o=n.length;return n.some(sh)&&(o+=Op),r&&(o+=Ap),n.filter(c=>!sh(c)).reduce((c,u)=>c+(Rp.test(u)?Tp:u===""?Pp:Ip),o)}function $p(i,r){return i.length===r.length&&i.slice(0,-1).every((o,c)=>o===r[c])?i[i.length-1]-r[r.length-1]:0}function Lp(i,r,n=!1){let{routesMeta:o}=i,c={},u="/",h=[];for(let m=0;m<o.length;++m){let p=o[m],g=m===o.length-1,w=u==="/"?r:r.slice(u.length)||"/",x=$a({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},w),j=p.route;if(!x&&g&&n&&!o[o.length-1].route.index&&(x=$a({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!x)return null;Object.assign(c,x.params),h.push({params:c,pathname:Ar([u,x.pathname]),pathnameBase:zp(Ar([u,x.pathnameBase])),route:j}),x.pathnameBase!=="/"&&(u=Ar([u,x.pathnameBase]))}return h}function $a(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=Up(i.path,i.caseSensitive,i.end),c=r.match(n);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:o.reduce((g,{paramName:w,isOptional:x},j)=>{if(w==="*"){let b=m[j]||"";h=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const N=m[j];return x&&!N?g[w]=void 0:g[w]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Up(i,r=!1,n=!0){Xt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(o.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(o.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),o]}function Fp(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Xt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),i}}function Pr(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}var $h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mp=i=>$h.test(i);function Bp(i,r="/"){let{pathname:n,search:o="",hash:c=""}=typeof i=="string"?hs(i):i,u;if(n)if(Mp(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Xt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=ih(n.substring(1),"/"):u=ih(n,r)}else u=r;return{pathname:u,search:qp(o),hash:Vp(c)}}function ih(i,r){let n=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Pl(i,r,n,o){return`Cannot include a '${i}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wp(i){return i.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Lh(i){let r=Wp(i);return r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase)}function Uh(i,r,n,o=!1){let c;typeof i=="string"?c=hs(i):(c={...i},He(!c.pathname||!c.pathname.includes("?"),Pl("?","pathname","search",c)),He(!c.pathname||!c.pathname.includes("#"),Pl("#","pathname","hash",c)),He(!c.search||!c.search.includes("#"),Pl("#","search","hash",c)));let u=i===""||c.pathname==="",h=u?"/":c.pathname,m;if(h==null)m=n;else{let x=r.length-1;if(!o&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),x-=1;c.pathname=j.join("/")}m=x>=0?r[x]:"/"}let p=Bp(c,m),g=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||w)&&(p.pathname+="/"),p}var Ar=i=>i.join("/").replace(/\/\/+/g,"/"),zp=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qp=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Vp=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Hp=class{constructor(i,r,n,o=!1){this.status=i,this.statusText=r||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Kp(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Gp(i){return i.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Fh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mh(i,r){let n=i;if(typeof n!="string"||!$h.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let o=n,c=!1;if(Fh)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Pr(h.pathname,r);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:c=!0}catch{Xt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:c,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bh=["POST","PUT","PATCH","DELETE"];new Set(Bh);var Jp=["GET",...Bh];new Set(Jp);var fs=S.createContext(null);fs.displayName="DataRouter";var Ma=S.createContext(null);Ma.displayName="DataRouterState";var Qp=S.createContext(!1),Wh=S.createContext({isTransitioning:!1});Wh.displayName="ViewTransition";var Yp=S.createContext(new Map);Yp.displayName="Fetchers";var Xp=S.createContext(null);Xp.displayName="Await";var Zt=S.createContext(null);Zt.displayName="Navigation";var hi=S.createContext(null);hi.displayName="Location";var xr=S.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var ic=S.createContext(null);ic.displayName="RouteError";var zh="REACT_ROUTER_ERROR",Zp="REDIRECT",eg="ROUTE_ERROR_RESPONSE";function tg(i){if(i.startsWith(`${zh}:${Zp}:{`))try{let r=JSON.parse(i.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function rg(i){if(i.startsWith(`${zh}:${eg}:{`))try{let r=JSON.parse(i.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new Hp(r.status,r.statusText,r.data)}catch{}}function ng(i,{relative:r}={}){He(fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=S.useContext(Zt),{hash:c,pathname:u,search:h}=mi(i,{relative:r}),m=u;return n!=="/"&&(m=u==="/"?n:Ar([n,u])),o.createHref({pathname:m,search:h,hash:c})}function fi(){return S.useContext(hi)!=null}function ur(){return He(fi(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(hi).location}var qh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vh(i){S.useContext(Zt).static||S.useLayoutEffect(i)}function ms(){let{isDataRoute:i}=S.useContext(xr);return i?gg():sg()}function sg(){He(fi(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext(fs),{basename:r,navigator:n}=S.useContext(Zt),{matches:o}=S.useContext(xr),{pathname:c}=ur(),u=JSON.stringify(Lh(o)),h=S.useRef(!1);return Vh(()=>{h.current=!0}),S.useCallback((p,g={})=>{if(Xt(h.current,qh),!h.current)return;if(typeof p=="number"){n.go(p);return}let w=Uh(p,JSON.parse(u),c,g.relative==="path");i==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Ar([r,w.pathname])),(g.replace?n.replace:n.push)(w,g.state,g)},[r,n,u,c,i])}S.createContext(null);function ac(){let{matches:i}=S.useContext(xr),r=i[i.length-1];return r?r.params:{}}function mi(i,{relative:r}={}){let{matches:n}=S.useContext(xr),{pathname:o}=ur(),c=JSON.stringify(Lh(n));return S.useMemo(()=>Uh(i,JSON.parse(c),o,r==="path"),[i,c,o,r])}function ig(i,r){return Hh(i,r)}function Hh(i,r,n,o,c){var U;He(fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=S.useContext(Zt),{matches:h}=S.useContext(xr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",w=m?m.pathnameBase:"/",x=m&&m.route;{let P=x&&x.path||"";Gh(g,!x||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let j=ur(),N;if(r){let P=typeof r=="string"?hs(r):r;He(w==="/"||((U=P.pathname)==null?void 0:U.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${P.pathname}" was given in the \`location\` prop.`),N=P}else N=j;let b=N.pathname||"/",R=b;if(w!=="/"){let P=w.replace(/^\//,"").split("/");R="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=Ih(i,{pathname:R});Xt(x||C!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Xt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=ug(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},p,P.params),pathname:Ar([w,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?w:Ar([w,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),h,n,o,c);return r&&$?S.createElement(hi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},$):$}function ag(){let i=pg(),r=Kp(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:u},"ErrorBoundary")," or"," ",S.createElement("code",{style:u},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},r),n?S.createElement("pre",{style:c},n):null,h)}var og=S.createElement(ag,null),Kh=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){this.props.onError?this.props.onError(i,r):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=rg(i.digest);n&&(i=n)}let r=i!==void 0?S.createElement(xr.Provider,{value:this.props.routeContext},S.createElement(ic.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?S.createElement(lg,{error:i},r):r}};Kh.contextType=Qp;var Il=new WeakMap;function lg({children:i,error:r}){let{basename:n}=S.useContext(Zt);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let o=tg(r.digest);if(o){let c=Il.get(r);if(c)throw c;let u=Mh(o.location,n);if(Fh&&!Il.get(r))if(u.isExternal||o.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:o.replace}));throw Il.set(r,h),h}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function cg({routeContext:i,match:r,children:n}){let o=S.useContext(fs);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(xr.Provider,{value:i},n)}function ug(i,r=[],n=null,o=null,c=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let w=u.findIndex(x=>x.route.id&&(h==null?void 0:h[x.route.id])!==void 0);He(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,w+1))}let m=!1,p=-1;if(n)for(let w=0;w<u.length;w++){let x=u[w];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=w),x.route.id){let{loaderData:j,errors:N}=n,b=x.route.loader&&!j.hasOwnProperty(x.route.id)&&(!N||N[x.route.id]===void 0);if(x.route.lazy||b){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&o?(w,x)=>{var j,N;o(w,{location:n.location,params:((N=(j=n.matches)==null?void 0:j[0])==null?void 0:N.params)??{},unstable_pattern:Gp(n.matches),errorInfo:x})}:void 0;return u.reduceRight((w,x,j)=>{let N,b=!1,R=null,C=null;n&&(N=h&&x.route.id?h[x.route.id]:void 0,R=x.route.errorElement||og,m&&(p<0&&j===0?(Gh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):p===j&&(b=!0,C=x.route.hydrateFallbackElement||null)));let $=r.concat(u.slice(0,j+1)),U=()=>{let P;return N?P=R:b?P=C:x.route.Component?P=S.createElement(x.route.Component,null):x.route.element?P=x.route.element:P=w,S.createElement(cg,{match:x,routeContext:{outlet:w,matches:$,isDataRoute:n!=null},children:P})};return n&&(x.route.ErrorBoundary||x.route.errorElement||j===0)?S.createElement(Kh,{location:n.location,revalidation:n.revalidation,component:R,error:N,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):U()},null)}function oc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dg(i){let r=S.useContext(fs);return He(r,oc(i)),r}function hg(i){let r=S.useContext(Ma);return He(r,oc(i)),r}function fg(i){let r=S.useContext(xr);return He(r,oc(i)),r}function lc(i){let r=fg(i),n=r.matches[r.matches.length-1];return He(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function mg(){return lc("useRouteId")}function pg(){var o;let i=S.useContext(ic),r=hg("useRouteError"),n=lc("useRouteError");return i!==void 0?i:(o=r.errors)==null?void 0:o[n]}function gg(){let{router:i}=dg("useNavigate"),r=lc("useNavigate"),n=S.useRef(!1);return Vh(()=>{n.current=!0}),S.useCallback(async(c,u={})=>{Xt(n.current,qh),n.current&&(typeof c=="number"?await i.navigate(c):await i.navigate(c,{fromRouteId:r,...u}))},[i,r])}var ah={};function Gh(i,r,n){!r&&!ah[i]&&(ah[i]=!0,Xt(!1,n))}S.memo(vg);function vg({routes:i,future:r,state:n,onError:o}){return Hh(i,void 0,n,o,r)}function nt(i){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yg({basename:i="/",children:r=null,location:n,navigationType:o="POP",navigator:c,static:u=!1,unstable_useTransitions:h}){He(!fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=S.useMemo(()=>({basename:m,navigator:c,static:u,unstable_useTransitions:h,future:{}}),[m,c,u,h]);typeof n=="string"&&(n=hs(n));let{pathname:g="/",search:w="",hash:x="",state:j=null,key:N="default"}=n,b=S.useMemo(()=>{let R=Pr(g,m);return R==null?null:{location:{pathname:R,search:w,hash:x,state:j,key:N},navigationType:o}},[m,g,w,x,j,N,o]);return Xt(b!=null,`<Router basename="${m}"> is not able to match the URL "${g}${w}${x}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(Zt.Provider,{value:p},S.createElement(hi.Provider,{children:r,value:b}))}function wg({children:i,location:r}){return ig(Vl(i),r)}function Vl(i,r=[]){let n=[];return S.Children.forEach(i,(o,c)=>{if(!S.isValidElement(o))return;let u=[...r,c];if(o.type===S.Fragment){n.push.apply(n,Vl(o.props.children,u));return}He(o.type===nt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Vl(o.props.children,u)),n.push(h)}),n}var Oa="get",Da="application/x-www-form-urlencoded";function Ba(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function xg(i){return Ba(i)&&i.tagName.toLowerCase()==="button"}function jg(i){return Ba(i)&&i.tagName.toLowerCase()==="form"}function _g(i){return Ba(i)&&i.tagName.toLowerCase()==="input"}function bg(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Sg(i,r){return i.button===0&&(!r||r==="_self")&&!bg(i)}function Hl(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((r,n)=>{let o=i[n];return r.concat(Array.isArray(o)?o.map(c=>[n,c]):[[n,o]])},[]))}function Ng(i,r){let n=Hl(i);return r&&r.forEach((o,c)=>{n.has(c)||r.getAll(c).forEach(u=>{n.append(c,u)})}),n}var Ca=null;function kg(){if(Ca===null)try{new FormData(document.createElement("form"),0),Ca=!1}catch{Ca=!0}return Ca}var Eg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ol(i){return i!=null&&!Eg.has(i)?(Xt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Da}"`),null):i}function Cg(i,r){let n,o,c,u,h;if(jg(i)){let m=i.getAttribute("action");o=m?Pr(m,r):null,n=i.getAttribute("method")||Oa,c=Ol(i.getAttribute("enctype"))||Da,u=new FormData(i)}else if(xg(i)||_g(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(o=p?Pr(p,r):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Oa,c=Ol(i.getAttribute("formenctype"))||Ol(m.getAttribute("enctype"))||Da,u=new FormData(m,i),!kg()){let{name:g,type:w,value:x}=i;if(w==="image"){let j=g?`${g}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else g&&u.append(g,x)}}else{if(Ba(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oa,o=null,c=Da,h=i}return u&&c==="text/plain"&&(h=u,u=void 0),{action:o,method:n.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cc(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Rg(i,r,n,o){let c=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${o}`:c.pathname=`${c.pathname}.${o}`:c.pathname==="/"?c.pathname=`_root.${o}`:r&&Pr(c.pathname,r)==="/"?c.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${o}`,c}async function Tg(i,r){if(i.id in r)return r[i.id];try{let n=await import(i.module);return r[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ag(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Pg(i,r,n){let o=await Promise.all(i.map(async c=>{let u=r.routes[c.route.id];if(u){let h=await Tg(u,n);return h.links?h.links():[]}return[]}));return $g(o.flat(1).filter(Ag).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function oh(i,r,n,o,c,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var w;return n[g].pathname!==p.pathname||((w=n[g].route.path)==null?void 0:w.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?r.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?r.filter((p,g)=>{var x;let w=o.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let j=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function Ig(i,r,{includeHydrateFallback:n}={}){return Og(i.map(o=>{let c=r.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function Og(i){return[...new Set(i)]}function Dg(i){let r={},n=Object.keys(i).sort();for(let o of n)r[o]=i[o];return r}function $g(i,r){let n=new Set;return new Set(r),i.reduce((o,c)=>{let u=JSON.stringify(Dg(c));return n.has(u)||(n.add(u),o.push({key:u,link:c})),o},[])}function Jh(){let i=S.useContext(fs);return cc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Lg(){let i=S.useContext(Ma);return cc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var uc=S.createContext(void 0);uc.displayName="FrameworkContext";function Qh(){let i=S.useContext(uc);return cc(i,"You must render this element inside a <HydratedRouter> element"),i}function Ug(i,r){let n=S.useContext(uc),[o,c]=S.useState(!1),[u,h]=S.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:w,onTouchStart:x}=r,j=S.useRef(null);S.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let R=$=>{$.forEach(U=>{h(U.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return j.current&&C.observe(j.current),()=>{C.disconnect()}}},[i]),S.useEffect(()=>{if(o){let R=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(R)}}},[o]);let N=()=>{c(!0)},b=()=>{c(!1),h(!1)};return n?i!=="intent"?[u,j,{}]:[u,j,{onFocus:ti(m,N),onBlur:ti(p,b),onMouseEnter:ti(g,N),onMouseLeave:ti(w,b),onTouchStart:ti(x,N)}]:[!1,j,{}]}function ti(i,r){return n=>{i&&i(n),n.defaultPrevented||r(n)}}function Fg({page:i,...r}){let{router:n}=Jh(),o=S.useMemo(()=>Ih(n.routes,i,n.basename),[n.routes,i,n.basename]);return o?S.createElement(Bg,{page:i,matches:o,...r}):null}function Mg(i){let{manifest:r,routeModules:n}=Qh(),[o,c]=S.useState([]);return S.useEffect(()=>{let u=!1;return Pg(i,r,n).then(h=>{u||c(h)}),()=>{u=!0}},[i,r,n]),o}function Bg({page:i,matches:r,...n}){let o=ur(),{future:c,manifest:u,routeModules:h}=Qh(),{basename:m}=Jh(),{loaderData:p,matches:g}=Lg(),w=S.useMemo(()=>oh(i,r,g,u,o,"data"),[i,r,g,u,o]),x=S.useMemo(()=>oh(i,r,g,u,o,"assets"),[i,r,g,u,o]),j=S.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let R=new Set,C=!1;if(r.forEach(U=>{var Q;let P=u.routes[U.route.id];!P||!P.hasLoader||(!w.some(G=>G.route.id===U.route.id)&&U.route.id in p&&((Q=h[U.route.id])!=null&&Q.shouldRevalidate)||P.hasClientLoader?C=!0:R.add(U.route.id))}),R.size===0)return[];let $=Rg(i,m,c.unstable_trailingSlashAwareDataRequests,"data");return C&&R.size>0&&$.searchParams.set("_routes",r.filter(U=>R.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[m,c.unstable_trailingSlashAwareDataRequests,p,o,u,w,r,i,h]),N=S.useMemo(()=>Ig(x,u),[x,u]),b=Mg(x);return S.createElement(S.Fragment,null,j.map(R=>S.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),N.map(R=>S.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),b.map(({key:R,link:C})=>S.createElement("link",{key:R,nonce:n.nonce,...C})))}function Wg(...i){return r=>{i.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var zg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zg&&(window.__reactRouterVersion="7.12.0")}catch{}function qg({basename:i,children:r,unstable_useTransitions:n,window:o}){let c=S.useRef();c.current==null&&(c.current=bp({window:o,v5Compat:!0}));let u=c.current,[h,m]=S.useState({action:u.action,location:u.location}),p=S.useCallback(g=>{n===!1?m(g):S.startTransition(()=>m(g))},[n]);return S.useLayoutEffect(()=>u.listen(p),[u,p]),S.createElement(yg,{basename:i,children:r,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var Yh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=S.forwardRef(function({onClick:r,discover:n="render",prefetch:o="none",relative:c,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:j,...N},b){let{basename:R,unstable_useTransitions:C}=S.useContext(Zt),$=typeof g=="string"&&Yh.test(g),U=Mh(g,R);g=U.to;let P=ng(g,{relative:c}),[Q,G,H]=Ug(o,N),oe=Gg(g,{replace:h,state:m,target:p,preventScrollReset:w,relative:c,viewTransition:x,unstable_defaultShouldRevalidate:j,unstable_useTransitions:C});function Ee(et){r&&r(et),et.defaultPrevented||oe(et)}let Re=S.createElement("a",{...N,...H,href:U.absoluteURL||P,onClick:U.isExternal||u?r:Ee,ref:Wg(b,G),target:p,"data-discover":!$&&n==="render"?"true":void 0});return Q&&!$?S.createElement(S.Fragment,null,Re,S.createElement(Fg,{page:P})):Re});je.displayName="Link";var Vg=S.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:o="",end:c=!1,style:u,to:h,viewTransition:m,children:p,...g},w){let x=mi(h,{relative:g.relative}),j=ur(),N=S.useContext(Ma),{navigator:b,basename:R}=S.useContext(Zt),C=N!=null&&ev(x)&&m===!0,$=b.encodeLocation?b.encodeLocation(x).pathname:x.pathname,U=j.pathname,P=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(U=U.toLowerCase(),P=P?P.toLowerCase():null,$=$.toLowerCase()),P&&R&&(P=Pr(P,R)||P);const Q=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let G=U===$||!c&&U.startsWith($)&&U.charAt(Q)==="/",H=P!=null&&(P===$||!c&&P.startsWith($)&&P.charAt($.length)==="/"),oe={isActive:G,isPending:H,isTransitioning:C},Ee=G?r:void 0,Re;typeof o=="function"?Re=o(oe):Re=[o,G?"active":null,H?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let et=typeof u=="function"?u(oe):u;return S.createElement(je,{...g,"aria-current":Ee,className:Re,ref:w,style:et,to:h,viewTransition:m},typeof p=="function"?p(oe):p)});Vg.displayName="NavLink";var Hg=S.forwardRef(({discover:i="render",fetcherKey:r,navigate:n,reloadDocument:o,replace:c,state:u,method:h=Oa,action:m,onSubmit:p,relative:g,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:j,...N},b)=>{let{unstable_useTransitions:R}=S.useContext(Zt),C=Xg(),$=Zg(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",P=typeof m=="string"&&Yh.test(m),Q=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let H=G.nativeEvent.submitter,oe=(H==null?void 0:H.getAttribute("formmethod"))||h,Ee=()=>C(H||G.currentTarget,{fetcherKey:r,method:oe,navigate:n,replace:c,state:u,relative:g,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:j});R&&n!==!1?S.startTransition(()=>Ee()):Ee()};return S.createElement("form",{ref:b,method:U,action:$,onSubmit:o?p:Q,...N,"data-discover":!P&&i==="render"?"true":void 0})});Hg.displayName="Form";function Kg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xh(i){let r=S.useContext(fs);return He(r,Kg(i)),r}function Gg(i,{target:r,replace:n,state:o,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=ms(),w=ur(),x=mi(i,{relative:u});return S.useCallback(j=>{if(Sg(j,r)){j.preventDefault();let N=n!==void 0?n:ii(w)===ii(x),b=()=>g(i,{replace:N,state:o,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?S.startTransition(()=>b()):b()}},[w,g,x,n,o,r,i,c,u,h,m,p])}function Jg(i){Xt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=S.useRef(Hl(i)),n=S.useRef(!1),o=ur(),c=S.useMemo(()=>Ng(o.search,n.current?null:r.current),[o.search]),u=ms(),h=S.useCallback((m,p)=>{const g=Hl(typeof m=="function"?m(new URLSearchParams(c)):m);n.current=!0,u("?"+g,p)},[u,c]);return[c,h]}var Qg=0,Yg=()=>`__${String(++Qg)}__`;function Xg(){let{router:i}=Xh("useSubmit"),{basename:r}=S.useContext(Zt),n=mg(),o=i.fetch,c=i.navigate;return S.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:w,body:x}=Cg(u,r);if(h.navigate===!1){let j=h.fetcherKey||Yg();await o(j,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:x,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await c(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:x,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[o,c,r,n])}function Zg(i,{relative:r}={}){let{basename:n}=S.useContext(Zt),o=S.useContext(xr);He(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...mi(i||".",{relative:r})},h=ur();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(w=>w==="")){m.delete("index"),p.filter(x=>x).forEach(x=>m.append("index",x));let w=m.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ar([n,u.pathname])),ii(u)}function ev(i,{relative:r}={}){let n=S.useContext(Wh);He(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Xh("useViewTransitionState"),c=mi(i,{relative:r});if(!n.isTransitioning)return!1;let u=Pr(n.currentLocation.pathname,o)||n.currentLocation.pathname,h=Pr(n.nextLocation.pathname,o)||n.nextLocation.pathname;return $a(c.pathname,h)!=null||$a(c.pathname,u)!=null}var Ra=Ph();const Zh=S.createContext();function tv({children:i}){const[r,n]=S.useState(!1);return s.jsx(Zh.Provider,{value:{isSoundMuted:r,setIsSoundMuted:n},children:i})}function ef(){return S.useContext(Zh)}const rv=[{to:"/",label:"Home",exact:!0},{to:"/about",label:"Story"},{to:"/creator",label:"Creator"},{to:"/roles",label:"Roles"},{to:"/characters",label:"Dreamers"},{to:"/quests",label:"Quests"},{to:"/events",label:"Events"},{to:"/join",label:"Join"},{to:"/funders",label:"Support"},{to:"/thanks",label:"Sponsors"}],nv=[{to:"/academy",label:"Home",exact:!0},{to:"/academy/students",label:"Students"},{to:"/academy/enroll",label:"Enroll"}];function sv(){const i=ur(),[r,n]=S.useState(!1),o=i.pathname.startsWith("/academy"),c=o?nv:rv,u=(m,p)=>p?i.pathname===m?"active":"":i.pathname.startsWith(m)?"active":"",h=()=>n(!1);return s.jsx("nav",{className:`navbar ${o?"navbar-academy":""}`,children:s.jsxs("div",{className:"navbar-container",children:[s.jsxs(je,{to:"/",className:"navbar-logo",onClick:h,children:[s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"logo-image"}),s.jsx("span",{className:"logo-text",children:"DreamWorld"})]}),s.jsxs("button",{className:`hamburger ${r?"active":""}`,onClick:()=>n(!r),"aria-label":"Toggle menu",children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]}),s.jsxs("ul",{className:"navbar-menu",children:[c.map(({to:m,label:p,exact:g})=>s.jsx("li",{children:s.jsx(je,{to:m,className:u(m,g),children:p})},m+p)),o?s.jsx("li",{children:s.jsx(je,{to:"/",className:"cross-link",children:" DreamWorld"})}):s.jsx("li",{children:s.jsx(je,{to:"/academy",className:"cross-link",children:" Academy"})})]}),s.jsxs("div",{className:`navbar-drawer ${r?"open":""}`,children:[s.jsx("ul",{className:"drawer-links",children:c.map(({to:m,label:p,exact:g})=>s.jsx("li",{children:s.jsx(je,{to:m,className:u(m,g),onClick:h,children:p})},m+p))}),s.jsx("div",{className:"drawer-cross-link",children:o?s.jsx(je,{to:"/",onClick:h,children:" Back to DreamWorld"}):s.jsx(je,{to:"/academy",onClick:h,children:" Explore Academy"})})]}),r&&s.jsx("div",{className:"overlay",onClick:h})]})})}function iv(){return s.jsx("footer",{className:"footer",children:s.jsx("div",{className:"footer-content",children:s.jsx("div",{className:"footer-bottom",children:s.jsxs("p",{children:[" 2026 DreamWorld. Built with  by ",s.jsx("a",{href:"/creator",children:"Justice"})]})})})})}function av({shouldStart:i}){const r=S.useRef(null),n=S.useRef(null),[o,c]=S.useState(!1),{isSoundMuted:u,setIsSoundMuted:h}=ef();S.useEffect(()=>{const g=r.current,w=n.current,x=()=>{w.loop=!0,w.play().then(()=>{c(!0)})};return g.addEventListener("ended",x),i&&g.play().then(()=>{c(!0)}),()=>{g.removeEventListener("ended",x)}},[i]),S.useEffect(()=>{const g=r.current,w=n.current;g.muted=u,w.muted=u},[u]);const m=()=>{const g=r.current,w=n.current;o?(g.pause(),w.pause(),c(!1)):(g.currentTime>0&&g.currentTime<g.duration?g.play():(w.loop=!0,w.play()),c(!0))},p=()=>{h(!u)};return s.jsxs(s.Fragment,{children:[s.jsx("audio",{ref:r,src:"/Music1.mp3",preload:"auto"}),s.jsx("audio",{ref:n,src:"/Music2.mp3",preload:"auto"}),s.jsxs("div",{className:"audio-controls",children:[s.jsx("button",{onClick:m,className:"audio-btn","aria-label":o?"Pause music":"Play music",children:o?"":""}),s.jsx("button",{onClick:p,className:"audio-btn","aria-label":u?"Unmute all sounds":"Mute all sounds",children:u?"":""})]})]})}function ov({onEnter:i}){const[r,n]=S.useState(!0),[o,c]=S.useState(!1),u=()=>{i(),c(!0),setTimeout(()=>{n(!1)},800)};return r?s.jsxs("div",{className:`welcome-overlay ${o?"exiting":""}`,children:[s.jsxs("div",{className:"welcome-content",children:[s.jsx("img",{src:"/logo.png",alt:"DreamWorld",className:"welcome-logo"}),s.jsx("h1",{children:"Welcome to DreamWorld"}),s.jsx("p",{children:"Where nature, technology, and wonder unite"}),s.jsx("button",{onClick:u,className:"enter-btn",children:" Enter DreamWorld "}),s.jsx("p",{className:"welcome-note",children:"Click to enable music and experience"})]}),o&&s.jsx("div",{className:"magic-particles",children:[...Array(20)].map((h,m)=>s.jsx("div",{className:"magic-particle"},m))})]}):null}function lv(){return s.jsxs("div",{className:"particles-wrapper",children:[s.jsx("div",{className:"particle p1"}),s.jsx("div",{className:"particle p2"}),s.jsx("div",{className:"particle p3"}),s.jsx("div",{className:"particle p4"}),s.jsx("div",{className:"particle p5"}),s.jsx("div",{className:"particle p6"}),s.jsx("div",{className:"particle p7"}),s.jsx("div",{className:"particle p8"}),s.jsx("div",{className:"particle p9"}),s.jsx("div",{className:"particle p10"}),s.jsx("div",{className:"particle p11"}),s.jsx("div",{className:"particle p12"}),s.jsx("div",{className:"particle p13"}),s.jsx("div",{className:"particle p14"}),s.jsx("div",{className:"particle p15"}),s.jsx("div",{className:"particle p16"}),s.jsx("div",{className:"particle p17"}),s.jsx("div",{className:"particle p18"}),s.jsx("div",{className:"particle p19"}),s.jsx("div",{className:"particle p20"}),s.jsx("div",{className:"particle p21"}),s.jsx("div",{className:"particle p22"}),s.jsx("div",{className:"particle p23"}),s.jsx("div",{className:"particle p24"}),s.jsx("div",{className:"particle p25"}),s.jsx("div",{className:"particle p26"}),s.jsx("div",{className:"particle p27"}),s.jsx("div",{className:"particle p28"}),s.jsx("div",{className:"particle p29"}),s.jsx("div",{className:"particle p30"}),s.jsx("div",{className:"particle p31"}),s.jsx("div",{className:"particle p32"}),s.jsx("div",{className:"particle p33"}),s.jsx("div",{className:"particle p34"}),s.jsx("div",{className:"particle p35"}),s.jsx("div",{className:"particle p36"}),s.jsx("div",{className:"particle p37"}),s.jsx("div",{className:"particle p38"}),s.jsx("div",{className:"particle p39"}),s.jsx("div",{className:"particle p40"})]})}function Wa(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(n[o[c]]=i[o[c]]);return n}function cv(i,r,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(w){try{g(o.next(w))}catch(x){h(x)}}function p(w){try{g(o.throw(w))}catch(x){h(x)}}function g(w){w.done?u(w.value):c(w.value).then(m,p)}g((o=o.apply(i,r||[])).next())})}const uv=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);class dc extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class dv extends dc{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class lh extends dc{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class ch extends dc{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Kl;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Kl||(Kl={}));class hv{constructor(r,{headers:n={},customFetch:o,region:c=Kl.Any}={}){this.url=r,this.headers=n,this.region=c,this.fetch=uv(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return cv(this,arguments,void 0,function*(n,o={}){var c;let u,h;try{const{headers:m,method:p,body:g,signal:w,timeout:x}=o;let j={},{region:N}=o;N||(N=this.region);const b=new URL(`${this.url}/${n}`);N&&N!=="any"&&(j["x-region"]=N,b.searchParams.set("forceFunctionRegion",N));let R;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",R=g):typeof g=="string"?(j["Content-Type"]="text/plain",R=g):typeof FormData<"u"&&g instanceof FormData?R=g:(j["Content-Type"]="application/json",R=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?R=JSON.stringify(g):R=g;let C=w;x&&(h=new AbortController,u=setTimeout(()=>h.abort(),x),w?(C=h.signal,w.addEventListener("abort",()=>h.abort())):C=h.signal);const $=yield this.fetch(b.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),m),body:R,signal:C}).catch(G=>{throw new dv(G)}),U=$.headers.get("x-relay-error");if(U&&U==="true")throw new lh($);if(!$.ok)throw new ch($);let P=((c=$.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Q;return P==="application/json"?Q=yield $.json():P==="application/octet-stream"||P==="application/pdf"?Q=yield $.blob():P==="text/event-stream"?Q=$:P==="multipart/form-data"?Q=yield $.formData():Q=yield $.text(),{data:Q,error:null,response:$}}catch(m){return{data:null,error:m,response:m instanceof ch||m instanceof lh?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var fv=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},mv=class{constructor(i){var r,n;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(n=i.isMaybeSingle)!==null&&n!==void 0?n:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,m=null,p=null,g=u.status,w=u.statusText;if(u.ok){var x,j;if(n.method!=="HEAD"){var N;const $=await u.text();$===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((N=n.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?m=$:m=JSON.parse($))}const R=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),C=(j=u.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");R&&C&&C.length>1&&(p=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var b;const R=await u.text();try{h=JSON.parse(R),Array.isArray(h)&&u.status===404&&(m=[],h=null,g=200,w="OK")}catch{u.status===404&&R===""?(g=204,w="No Content"):h={message:R}}if(h&&n.isMaybeSingle&&(!(h==null||(b=h.details)===null||b===void 0)&&b.includes("0 rows"))&&(h=null,g=200,w="OK"),h&&n.shouldThrowOnError)throw new fv(h)}return{error:h,data:m,count:p,status:g,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var h;let m="";const p=u==null?void 0:u.cause;if(p){var g,w,x,j;const b=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",R=(w=p==null?void 0:p.code)!==null&&w!==void 0?w:"";m=`${(x=u==null?void 0:u.name)!==null&&x!==void 0?x:"FetchError"}: ${u==null?void 0:u.message}`,m+=`

Caused by: ${(j=p==null?void 0:p.name)!==null&&j!==void 0?j:"Error"}: ${b}`,R&&(m+=` (${R})`),p!=null&&p.stack&&(m+=`
${p.stack}`)}else{var N;m=(N=u==null?void 0:u.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,r)}returns(){return this}overrideTypes(){return this}},pv=class extends mv{select(i){let r=!1;const n=(i??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${i}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,r,{foreignTable:n,referencedTable:o=n}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var h;const m=[i?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const uh=new RegExp("[,()]");var os=class extends pv{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}regexMatch(i,r){return this.url.searchParams.append(i,`match.${r}`),this}regexIMatch(i,r){return this.url.searchParams.append(i,`imatch.${r}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}isDistinct(i,r){return this.url.searchParams.append(i,`isdistinct.${r}`),this}in(i,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&uh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${n})`),this}notIn(i,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&uh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`not.in.(${n})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:n,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(i,`${c}fts${u}.${r}`),this}match(i){return Object.entries(i).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(i,r,n){return this.url.searchParams.append(i,`not.${r}.${n}`),this}or(i,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,r,n){return this.url.searchParams.append(i,`${r}.${n}`),this}},gv=class{constructor(i,{headers:r={},schema:n,fetch:o}){this.url=i,this.headers=new Headers(r),this.schema=n,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,r){const{head:n=!1,count:o}=r??{},c=n?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",h),o&&p.append("Prefer",`count=${o}`),new os({method:c,url:m,headers:p,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:n=!0}={}){var o;const c="POST",{url:u,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),n||h.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new os({method:c,url:u,headers:h,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:c=!0}={}){var u;const h="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&m.searchParams.set("on_conflict",r),o&&p.append("Prefer",`count=${o}`),c||p.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(g.length>0){const w=[...new Set(g)].map(x=>`"${x}"`);m.searchParams.set("columns",w.join(","))}}return new os({method:h,url:m,headers:p,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:r}={}){var n;const o="PATCH",{url:c,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new os({method:o,url:c,headers:u,schema:this.schema,body:i,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:i}={}){var r;const n="DELETE",{url:o,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new os({method:n,url:o,headers:c,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},vv=class tf{constructor(r,{headers:n={},schema:o,fetch:c}={}){this.url=r,this.headers=new Headers(n),this.schemaName=o,this.fetch=c}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new gv(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new tf(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:o=!1,get:c=!1,count:u}={}){var h;let m;const p=new URL(`${this.url}/rpc/${r}`);let g;const w=N=>N!==null&&typeof N=="object"&&(!Array.isArray(N)||N.some(w)),x=o&&Object.values(n).some(w);x?(m="POST",g=n):o||c?(m=o?"HEAD":"GET",Object.entries(n).filter(([N,b])=>b!==void 0).map(([N,b])=>[N,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([N,b])=>{p.searchParams.append(N,b)})):(m="POST",g=n);const j=new Headers(this.headers);return x?j.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&j.set("Prefer",`count=${u}`),new os({method:m,url:p,headers:j,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class yv{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const o=n.versions;if(o&&o.node){const c=o.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const wv="2.91.1",xv=`realtime-js/${wv}`,jv="1.0.0",rf="2.0.0",dh=rf,Gl=1e4,_v=1e3,bv=100;var sn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(sn||(sn={}));var st;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(st||(st={}));var cr;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(cr||(cr={}));var Jl;(function(i){i.websocket="websocket"})(Jl||(Jl={}));var kn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(kn||(kn={}));class Sv{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const c=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(r){var n,o;const c=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,n,o){var c,u;const h=r.topic,m=(c=r.ref)!==null&&c!==void 0?c:"",p=(u=r.join_ref)!==null&&u!==void 0?u:"",g=r.payload.event,w=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},x=Object.keys(w).length===0?"":JSON.stringify(w);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+h.length+g.length+x.length,N=new ArrayBuffer(this.HEADER_LENGTH+j);let b=new DataView(N),R=0;b.setUint8(R++,this.KINDS.userBroadcastPush),b.setUint8(R++,p.length),b.setUint8(R++,m.length),b.setUint8(R++,h.length),b.setUint8(R++,g.length),b.setUint8(R++,x.length),b.setUint8(R++,n),Array.from(p,$=>b.setUint8(R++,$.charCodeAt(0))),Array.from(m,$=>b.setUint8(R++,$.charCodeAt(0))),Array.from(h,$=>b.setUint8(R++,$.charCodeAt(0))),Array.from(g,$=>b.setUint8(R++,$.charCodeAt(0))),Array.from(x,$=>b.setUint8(R++,$.charCodeAt(0)));var C=new Uint8Array(N.byteLength+o.byteLength);return C.set(new Uint8Array(N),0),C.set(new Uint8Array(o),N.byteLength),C.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[c,u,h,m,p]=o;return n({join_ref:c,ref:u,topic:h,event:m,payload:p})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),c=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,c)}}_decodeUserBroadcast(r,n,o){const c=n.getUint8(1),u=n.getUint8(2),h=n.getUint8(3),m=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=o.decode(r.slice(p,p+c));p=p+c;const w=o.decode(r.slice(p,p+u));p=p+u;const x=o.decode(r.slice(p,p+h));p=p+h;const j=r.slice(p,r.byteLength),N=m===this.JSON_ENCODING?JSON.parse(o.decode(j)):j,b={type:this.BROADCAST_EVENT,event:w,payload:N};return h>0&&(b.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class nf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(De||(De={}));const hh=(i,r,n={})=>{var o;const c=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,h)=>(u[h]=Nv(h,i,r,c),u),{}):{}},Nv=(i,r,n,o)=>{const c=r.find(m=>m.name===i),u=c==null?void 0:c.type,h=n[i];return u&&!o.includes(u)?sf(u,h):Ql(h)},sf=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Rv(r,n)}switch(i){case De.bool:return kv(r);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return Ev(r);case De.json:case De.jsonb:return Cv(r);case De.timestamp:return Tv(r);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Ql(r);default:return Ql(r)}},Ql=i=>i,kv=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Ev=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},Cv=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Rv=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let u;const h=i.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>sf(r,m))}return i},Tv=i=>typeof i=="string"?i.replace(" ","T"):i,af=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Dl{constructor(r,n,o={},c=Gl){this.channel=r,this.event=n,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var fh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(fh||(fh={}));class ni{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,c,u,h),this.pendingDiffs.forEach(p=>{this.state=ni.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ni.syncDiff(this.state,c,u,h),m())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,c){const u=this.cloneDeep(r),h=this.transformState(n),m={},p={};return this.map(u,(g,w)=>{h[g]||(p[g]=w)}),this.map(h,(g,w)=>{const x=u[g];if(x){const j=w.map(C=>C.presence_ref),N=x.map(C=>C.presence_ref),b=w.filter(C=>N.indexOf(C.presence_ref)<0),R=x.filter(C=>j.indexOf(C.presence_ref)<0);b.length>0&&(m[g]=b),R.length>0&&(p[g]=R)}else m[g]=w}),this.syncDiff(u,{joins:m,leaves:p},o,c)}static syncDiff(r,n,o,c){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(u,(m,p)=>{var g;const w=(g=r[m])!==null&&g!==void 0?g:[];if(r[m]=this.cloneDeep(p),w.length>0){const x=r[m].map(N=>N.presence_ref),j=w.filter(N=>x.indexOf(N.presence_ref)<0);r[m].unshift(...j)}o(m,w,p)}),this.map(h,(m,p)=>{let g=r[m];if(!g)return;const w=p.map(x=>x.presence_ref);g=g.filter(x=>w.indexOf(x.presence_ref)<0),r[m]=g,c(m,g,p),g.length===0&&delete r[m]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const c=r[o];return"metas"in c?n[o]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=c,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mh;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(mh||(mh={}));var si;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(si||(si={}));var Tr;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Tr||(Tr={}));class us{constructor(r,n={config:{}},o){var c,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dl(this,cr.join,this.params,this.timeout),this.rejoinTimer=new nf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cr.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new ni(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,g=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(N=>N.filter))!==null&&c!==void 0?c:[],w=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,x={},j={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:w}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>r==null?void 0:r(Tr.CHANNEL_ERROR,N)),this._onClose(()=>r==null?void 0:r(Tr.CLOSED)),this.updateJoinPayload(Object.assign({config:j},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:N})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){r==null||r(Tr.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,C=(b=R==null?void 0:R.length)!==null&&b!==void 0?b:0,$=[];for(let U=0;U<C;U++){const P=R[U],{filter:{event:Q,schema:G,table:H,filter:oe}}=P,Ee=N&&N[U];if(Ee&&Ee.event===Q&&us.isFilterValueEqual(Ee.schema,G)&&us.isFilterValueEqual(Ee.table,H)&&us.isFilterValueEqual(Ee.filter,oe))$.push(Object.assign(Object.assign({},P),{id:Ee.id}));else{this.unsubscribe(),this.state=st.errored,r==null||r(Tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,r&&r(Tr.SUBSCRIBED);return}}).receive("error",N=>{this.state=st.errored,r==null||r(Tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===st.joined&&r===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var c;if(n==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(r,n={}){var o,c;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=r,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,p;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Dl(this,cr.leave,{},r),o.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const c=new AbortController,u=setTimeout(()=>c.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(u),h}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Dl(this,r,n,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>bv){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var c,u;const h=r.toLocaleLowerCase(),{close:m,error:p,leave:g,join:w}=cr;if(o&&[m,p,g,w].indexOf(h)>=0&&o!==this._joinRef())return;let j=this._onMessage(h,n,o);if(n&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(N=>{var b,R,C;return((b=N.filter)===null||b===void 0?void 0:b.event)==="*"||((C=(R=N.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===h}).map(N=>N.callback(j,o)):(u=this.bindings[h])===null||u===void 0||u.filter(N=>{var b,R,C,$,U,P,Q,G;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in N){const H=N.id,oe=(b=N.filter)===null||b===void 0?void 0:b.event;return H&&((R=n.ids)===null||R===void 0?void 0:R.includes(H))&&(oe==="*"||(oe==null?void 0:oe.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!(($=N.filter)===null||$===void 0)&&$.table)||N.filter.table===((U=n.data)===null||U===void 0?void 0:U.table))}else{const H=(Q=(P=N==null?void 0:N.filter)===null||P===void 0?void 0:P.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return H==="*"||H===((G=n==null?void 0:n.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===h}).map(N=>{if(typeof j=="object"&&"ids"in j){const b=j.data,{schema:R,table:C,commit_timestamp:$,type:U,errors:P}=b;j=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:$,eventType:U,new:{},old:{},errors:P}),this._getPayloadRecords(b))}N.callback(j,o)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const c=r.toLocaleLowerCase(),u={type:c,filter:n,callback:o};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&us.isEqual(c.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(cr.close,{},r)}_onError(r){this._on(cr.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=hh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=hh(r.columns,r.old_record)),n}}const $l=()=>{},Ta={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Av=[1e3,2e3,5e3,1e4],Pv=1e4,Iv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ov{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gl,this.transport=null,this.heartbeatIntervalMs=Ta.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$l,this.ref=0,this.reconnectTimer=null,this.vsn=dh,this.logger=$l,this.conn=null,this.sendBuffer=[],this.serializer=new Sv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Jl.websocket}`,this.httpEndpoint=af(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yv.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case sn.connecting:return kn.Connecting;case sn.open:return kn.Open;case sn.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,c=this.getChannels().find(u=>u.topic===o);if(c)return c;{const u=new us(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:c,ref:u}=r,h=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${n} ${o} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(_v,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ta.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",g)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:c,payload:u,ref:h}=n,m=h?`(${h})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${c} ${m}`.trim(),u),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(c,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===sn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===sn.open||this.conn.readyState===sn.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(cr.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${r}${o}${c}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([Iv],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,o=!1;if(r)n=r,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(c=>{const u={access_token:n,version:xv};n&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(cr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new nf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ta.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,c,u,h,m,p,g,w,x,j,N;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:Gl,this.heartbeatIntervalMs=(c=r==null?void 0:r.heartbeatIntervalMs)!==null&&c!==void 0?c:Ta.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r==null?void 0:r.heartbeatCallback)!==null&&m!==void 0?m:$l,this.vsn=(p=r==null?void 0:r.vsn)!==null&&p!==void 0?p:dh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r==null?void 0:r.reconnectAfterMs)!==null&&g!==void 0?g:(b=>Av[b-1]||Pv),this.vsn){case jv:this.encode=(w=r==null?void 0:r.encode)!==null&&w!==void 0?w:((b,R)=>R(JSON.stringify(b))),this.decode=(x=r==null?void 0:r.decode)!==null&&x!==void 0?x:((b,R)=>R(JSON.parse(b)));break;case rf:this.encode=(j=r==null?void 0:r.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(N=r==null?void 0:r.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var ai=class extends Error{constructor(i,r){var n;super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dv(i,r,n){const o=new URL(r,i);if(n)for(const[c,u]of Object.entries(n))u!==void 0&&o.searchParams.set(c,u);return o.toString()}async function $v(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Lv(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:c,body:u,headers:h}){const m=Dv(i.baseUrl,o,c),p=await $v(i.auth),g=await r(m,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...p,...h},body:u?JSON.stringify(u):void 0}),w=await g.text(),x=(g.headers.get("content-type")||"").includes("application/json"),j=x&&w?JSON.parse(w):w;if(!g.ok){const N=x?j:void 0,b=N==null?void 0:N.error;throw new ai((b==null?void 0:b.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:N})}return{status:g.status,headers:g.headers,data:j}}}}function Aa(i){return i.join("")}var Uv=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:Aa(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,r){const n={namespace:i.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Aa(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Aa(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Aa(i.namespace)}`}),!0}catch(r){if(r instanceof ai&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(n){if(n instanceof ai&&n.status===409)return;throw n}}};function es(i){return i.join("")}var Fv=class{constructor(i,r="",n){this.client=i,this.prefix=r,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(i.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(i,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${es(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${es(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(n){if(n instanceof ai&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(n){if(n instanceof ai&&n.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw n}}},Mv=class{constructor(i){var o;let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Lv({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(o=i.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new Uv(this.client,r),this.tableOps=new Fv(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}},za=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Ve(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Bv=class extends za{constructor(i,r,n){super(i),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yl=class extends za{constructor(i,r){super(i),this.name="StorageUnknownError",this.originalError=r}};const hc=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Wv=()=>Response,Xl=i=>{if(Array.isArray(i))return i.map(n=>Xl(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,o])=>{const c=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[c]=Xl(o)}),r},zv=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},qv=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function oi(i){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oi(i)}function Vv(i,r){if(oi(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var o=n.call(i,r);if(oi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function Hv(i){var r=Vv(i,"string");return oi(r)=="symbol"?r:r+""}function Kv(i,r,n){return(r=Hv(r))in i?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,i}function ph(i,r){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),n.push.apply(n,o)}return n}function he(i){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ph(Object(n),!0).forEach(function(o){Kv(i,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(n,o))})}return i}const Ll=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},Gv=async(i,r,n)=>{i instanceof await Wv()&&!(n!=null&&n.noResolveJson)?i.json().then(o=>{const c=i.status||500,u=(o==null?void 0:o.statusCode)||c+"";r(new Bv(Ll(o),c,u))}).catch(o=>{r(new Yl(Ll(o),o))}):r(new Yl(Ll(i),i))},Jv=(i,r,n,o)=>{const c={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"||!o?c:(zv(o)?(c.headers=he({"Content-Type":"application/json"},r==null?void 0:r.headers),c.body=JSON.stringify(o)):c.body=o,r!=null&&r.duplex&&(c.duplex=r.duplex),he(he({},c),n))};async function pi(i,r,n,o,c,u){return new Promise((h,m)=>{i(n,Jv(r,o,c,u)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>Gv(p,m,o))})}async function li(i,r,n,o){return pi(i,"GET",r,n,o)}async function lr(i,r,n,o,c){return pi(i,"POST",r,o,c,n)}async function Zl(i,r,n,o,c){return pi(i,"PUT",r,o,c,n)}async function Qv(i,r,n,o){return pi(i,"HEAD",r,he(he({},n),{},{noResolveJson:!0}),o)}async function fc(i,r,n,o,c){return pi(i,"DELETE",r,o,c,n)}var Yv=class{constructor(i,r){this.downloadFn=i,this.shouldThrowOnError=r}then(i,r){return this.execute().then(i,r)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}};let of;of=Symbol.toStringTag;var Xv=class{constructor(i,r){this.downloadFn=i,this.shouldThrowOnError=r,this[of]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yv(this.downloadFn,this.shouldThrowOnError)}then(i,r){return this.getPromise().then(i,r)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}};const Zv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ey=class{constructor(i,r={},n,o){this.shouldThrowOnError=!1,this.url=i,this.headers=r,this.bucketId=n,this.fetch=hc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,r,n,o){var c=this;try{let u;const h=he(he({},gh),o);let m=he(he({},c.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",c.encodeMetadata(p)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),p&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(p))):(u=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(m=he(he({},m),o.headers));const g=c._removeEmptyFolders(r),w=c._getFinalPath(g),x=await(i=="PUT"?Zl:lr)(c.fetch,`${c.url}/object/${w}`,u,he({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async upload(i,r,n){return this.uploadOrUpdate("POST",i,r,n)}async uploadToSignedUrl(i,r,n,o){var c=this;const u=c._removeEmptyFolders(i),h=c._getFinalPath(u),m=new URL(c.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let p;const g=he({upsert:gh.upsert},o),w=he(he({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",g.cacheControl)):(p=n,w["cache-control"]=`max-age=${g.cacheControl}`,w["content-type"]=g.contentType),{data:{path:u,fullPath:(await Zl(c.fetch,m.toString(),p,{headers:w})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Ve(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(i,r){var n=this;try{let o=n._getFinalPath(i);const c=he({},n.headers);r!=null&&r.upsert&&(c["x-upsert"]="true");const u=await lr(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:c}),h=new URL(n.url+u.url),m=h.searchParams.get("token");if(!m)throw new za("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:m},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async update(i,r,n){return this.uploadOrUpdate("PUT",i,r,n)}async move(i,r,n){var o=this;try{return{data:await lr(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:i,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async copy(i,r,n){var o=this;try{return{data:{path:(await lr(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:i,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async createSignedUrl(i,r,n){var o=this;try{let c=o._getFinalPath(i),u=await lr(o.fetch,`${o.url}/object/sign/${c}`,he({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const h=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return u={signedUrl:encodeURI(`${o.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async createSignedUrls(i,r,n){var o=this;try{const c=await lr(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:r,paths:i},{headers:o.headers}),u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:c.map(h=>he(he({},h),{},{signedUrl:h.signedURL?encodeURI(`${o.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}download(i,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=o?`?${o}`:"",u=this._getFinalPath(i),h=()=>li(this.fetch,`${this.url}/${n}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new Xv(h,this.shouldThrowOnError)}async info(i){var r=this;const n=r._getFinalPath(i);try{return{data:Xl(await li(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async exists(i){var r=this;const n=r._getFinalPath(i);try{return await Qv(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ve(o)&&o instanceof Yl){const c=o.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:o}}throw o}}getPublicUrl(i,r){const n=this._getFinalPath(i),o=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&o.push(c);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${m}`)}}}async remove(i){var r=this;try{return{data:await fc(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:i},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async list(i,r,n){var o=this;try{const c=he(he(he({},Zv),r),{},{prefix:i||""});return{data:await lr(o.fetch,`${o.url}/object/list/${o.bucketId}`,c,{headers:o.headers},n),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async listV2(i,r){var n=this;try{const o=he({},i);return{data:await lr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},r),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const r=[];return i.width&&r.push(`width=${i.width}`),i.height&&r.push(`height=${i.height}`),i.resize&&r.push(`resize=${i.resize}`),i.format&&r.push(`format=${i.format}`),i.quality&&r.push(`quality=${i.quality}`),r.join("&")}};const lf="2.91.1",cf={"X-Client-Info":`storage-js/${lf}`};var ty=class{constructor(i,r={},n,o){this.shouldThrowOnError=!1;const c=new URL(i);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=he(he({},cf),r),this.fetch=hc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var r=this;try{const n=r.listBucketOptionsToQueryString(i);return{data:await li(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async getBucket(i){var r=this;try{return{data:await li(r.fetch,`${r.url}/bucket/${i}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async createBucket(i,r={public:!1}){var n=this;try{return{data:await lr(n.fetch,`${n.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async updateBucket(i,r){var n=this;try{return{data:await Zl(n.fetch,`${n.url}/bucket/${i}`,{id:i,name:i,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async emptyBucket(i){var r=this;try{return{data:await lr(r.fetch,`${r.url}/bucket/${i}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async deleteBucket(i){var r=this;try{return{data:await fc(r.fetch,`${r.url}/bucket/${i}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(i){const r={};return i&&("limit"in i&&(r.limit=String(i.limit)),"offset"in i&&(r.offset=String(i.offset)),i.search&&(r.search=i.search),i.sortColumn&&(r.sortColumn=i.sortColumn),i.sortOrder&&(r.sortOrder=i.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},ry=class{constructor(i,r={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},cf),r),this.fetch=hc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var r=this;try{return{data:await lr(r.fetch,`${r.url}/bucket`,{name:i},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async listBuckets(i){var r=this;try{const n=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&n.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&n.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&n.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&n.set("sortOrder",i.sortOrder),i!=null&&i.search&&n.set("search",i.search);const o=n.toString(),c=o?`${r.url}/bucket?${o}`:`${r.url}/bucket`;return{data:await li(r.fetch,c,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async deleteBucket(i){var r=this;try{return{data:await fc(r.fetch,`${r.url}/bucket/${i}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}from(i){var r=this;if(!qv(i))throw new za("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Mv({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(c,u){const h=c[u];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(c,m),error:null}}catch(p){if(o)throw p;return{data:null,error:p}}}}})}};const mc={"X-Client-Info":`storage-js/${lf}`,"Content-Type":"application/json"};var uf=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Bt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Ul=class extends uf{constructor(i,r,n){super(i),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ny=class extends uf{constructor(i,r){super(i),this.name="StorageVectorsUnknownError",this.originalError=r}};const pc=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),sy=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},vh=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),iy=async(i,r,n)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(n!=null&&n.noResolveJson)){const o=i.status||500,c=i;if(typeof c.json=="function")c.json().then(u=>{const h=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";r(new Ul(vh(u),o,h))}).catch(()=>{const u=o+"";r(new Ul(c.statusText||`HTTP ${o} error`,o,u))});else{const u=o+"";r(new Ul(c.statusText||`HTTP ${o} error`,o,u))}}else r(new ny(vh(i),i))},ay=(i,r,n,o)=>{const c={method:i,headers:(r==null?void 0:r.headers)||{}};return o?(sy(o)?(c.headers=he({"Content-Type":"application/json"},r==null?void 0:r.headers),c.body=JSON.stringify(o)):c.body=o,he(he({},c),n)):c};async function oy(i,r,n,o,c,u){return new Promise((h,m)=>{i(n,ay(r,o,c,u)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>iy(p,m,o))})}async function Wt(i,r,n,o,c){return oy(i,"POST",r,o,c,n)}var ly=class{constructor(i,r={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},mc),r),this.fetch=pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/CreateIndex`,i,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async getIndex(i,r){var n=this;try{return{data:await Wt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:i,indexName:r},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Bt(o))return{data:null,error:o};throw o}}async listIndexes(i){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/ListIndexes`,i,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async deleteIndex(i,r){var n=this;try{return{data:await Wt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:i,indexName:r},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Bt(o))return{data:null,error:o};throw o}}},cy=class{constructor(i,r={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},mc),r),this.fetch=pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var r=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Wt(r.fetch,`${r.url}/PutVectors`,i,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async getVectors(i){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/GetVectors`,i,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async listVectors(i){var r=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await Wt(r.fetch,`${r.url}/ListVectors`,i,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async queryVectors(i){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/QueryVectors`,i,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async deleteVectors(i){var r=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Wt(r.fetch,`${r.url}/DeleteVectors`,i,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}},uy=class{constructor(i,r={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},mc),r),this.fetch=pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async getBucket(i){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:i},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async listBuckets(i={}){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/ListVectorBuckets`,i,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async deleteBucket(i){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}},dy=class extends uy{constructor(i,r={}){super(i,r.headers||{},r.fetch)}from(i){return new hy(this.url,this.headers,i,this.fetch)}async createBucket(i){var r=()=>super.createBucket,n=this;return r().call(n,i)}async getBucket(i){var r=()=>super.getBucket,n=this;return r().call(n,i)}async listBuckets(i={}){var r=()=>super.listBuckets,n=this;return r().call(n,i)}async deleteBucket(i){var r=()=>super.deleteBucket,n=this;return r().call(n,i)}},hy=class extends ly{constructor(i,r,n,o){super(i,r,o),this.vectorBucketName=n}async createIndex(i){var r=()=>super.createIndex,n=this;return r().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(i={}){var r=()=>super.listIndexes,n=this;return r().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(i){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,i)}async deleteIndex(i){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,i)}index(i){return new fy(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},fy=class extends cy{constructor(i,r,n,o,c){super(i,r,c),this.vectorBucketName=n,this.indexName=o}async putVectors(i){var r=()=>super.putVectors,n=this;return r().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(i){var r=()=>super.getVectors,n=this;return r().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(i={}){var r=()=>super.listVectors,n=this;return r().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(i){var r=()=>super.queryVectors,n=this;return r().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(i){var r=()=>super.deleteVectors,n=this;return r().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},my=class extends ty{constructor(i,r={},n,o){super(i,r,n,o)}from(i){return new ey(this.url,this.headers,i,this.fetch)}get vectors(){return new dy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ry(this.url+"/iceberg",this.headers,this.fetch)}};const df="2.91.1",ls=30*1e3,ec=3,Fl=ec*ls,py="http://localhost:9999",gy="supabase.auth.token",vy={"X-Client-Info":`gotrue-js/${df}`},tc="X-Supabase-Api-Version",hf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wy=600*1e3;class ci extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function se(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class xy extends ci{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function jy(i){return se(i)&&i.name==="AuthApiError"}class En extends ci{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Ir extends ci{constructor(r,n,o,c){super(r,o,c),this.name=n,this.status=o}}class Mt extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _y(i){return se(i)&&i.name==="AuthSessionMissingError"}class ts extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pa extends Ir{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ia extends Ir{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function by(i){return se(i)&&i.name==="AuthImplicitGrantRedirectError"}class yh extends Ir{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sy extends Ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rc extends Ir{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Ml(i){return se(i)&&i.name==="AuthRetryableFetchError"}class wh extends Ir{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class nc extends Ir{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const La="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xh=` 	
\r=`.split(""),Ny=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<xh.length;r+=1)i[xh[r].charCodeAt(0)]=-2;for(let r=0;r<La.length;r+=1)i[La[r].charCodeAt(0)]=r;return i})();function jh(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(La[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(La[o]),r.queuedBits-=6}}function ff(i,r,n){const o=Ny[i];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function _h(i){const r=[],n=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{Cy(h,o,n)};for(let h=0;h<i.length;h+=1)ff(i.charCodeAt(h),c,u);return r.join("")}function ky(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Ey(i,r){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}ky(o,r)}}function Cy(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function ds(i){const r=[],n={queue:0,queuedBits:0},o=c=>{r.push(c)};for(let c=0;c<i.length;c+=1)ff(i.charCodeAt(c),n,o);return new Uint8Array(r)}function Ry(i){const r=[];return Ey(i,n=>r.push(n)),new Uint8Array(r)}function Cn(i){const r=[],n={queue:0,queuedBits:0},o=c=>{r.push(c)};return i.forEach(c=>jh(c,n,o)),jh(null,n,o),r.join("")}function Ty(i){return Math.round(Date.now()/1e3)+i}function Ay(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},mf=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function Py(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,u)=>{r[u]=c})}catch{}return n.searchParams.forEach((o,c)=>{r[c]=o}),r}const pf=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Iy=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",cs=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},Sn=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pt=async(i,r)=>{await i.removeItem(r)};class qa{constructor(){this.promise=new qa.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}qa.promiseConstructor=Promise;function Bl(i){const r=i.split(".");if(r.length!==3)throw new nc("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!yy.test(r[o]))throw new nc("JWT not in base64url format");return{header:JSON.parse(_h(r[0])),payload:JSON.parse(_h(r[1])),signature:ds(r[2]),raw:{header:r[0],payload:r[1]}}}async function Oy(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function Dy(i,r){return new Promise((o,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await i(u);if(!r(u,null,h)){o(h);return}}catch(h){if(!r(u,h)){c(h);return}}})()})}function $y(i){return("0"+i.toString(16)).substr(-2)}function Ly(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let c="";for(let u=0;u<56;u++)c+=n.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(r),Array.from(r,$y).join("")}async function Uy(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(o);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Fy(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await Uy(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rs(i,r,n=!1){const o=Ly();let c=o;n&&(c+="/PASSWORD_RECOVERY"),await cs(i,`${r}-code-verifier`,c);const u=await Fy(o);return[u,o===u?"plain":"s256"]}const My=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function By(i){const r=i.headers.get(tc);if(!r||!r.match(My))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Wy(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function zy(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ns(i){if(!qy.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wl(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vy(i,r){return new Proxy(i,{get:(n,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,c)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,c)}})}function bh(i){return JSON.parse(JSON.stringify(i))}const Nn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Hy=[502,503,504];async function Sh(i){var r;if(!Iy(i))throw new rc(Nn(i),0);if(Hy.includes(i.status))throw new rc(Nn(i),i.status);let n;try{n=await i.json()}catch(u){throw new En(Nn(u),u)}let o;const c=By(i);if(c&&c.getTime()>=hf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new wh(Nn(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new Mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new wh(Nn(n),i.status,n.weak_password.reasons);throw new xy(Nn(n),i.status||500,o)}const Ky=(i,r,n,o)=>{const c={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),n))};async function de(i,r,n,o){var c;const u=Object.assign({},o==null?void 0:o.headers);u[tc]||(u[tc]=hf["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const h=(c=o==null?void 0:o.query)!==null&&c!==void 0?c:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await Gy(i,r,n+m,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function Gy(i,r,n,o,c,u){const h=Ky(r,o,c,u);let m;try{m=await i(n,Object.assign({},h))}catch(p){throw console.error(p),new rc(Nn(p),0)}if(m.ok||await Sh(m),o!=null&&o.noResolveJson)return m;try{return await m.json()}catch(p){await Sh(p)}}function or(i){var r;let n=null;Yy(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=Ty(i.expires_in)));const o=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:o},error:null}}function Nh(i){const r=or(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=i.weak_password),r}function an(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function Jy(i){return{data:i,error:null}}function Qy(i){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:c,verification_type:u}=i,h=Wa(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:n,hashed_token:o,redirect_to:c,verification_type:u},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function kh(i){return i}function Yy(i){return i.access_token&&i.refresh_token&&i.expires_in}const zl=["global","local","others"];class Xy{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=pf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=zl[0]){if(zl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zl.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(se(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:an})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=Wa(r,["options"]),c=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(c.new_email=o==null?void 0:o.newEmail,delete c.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Qy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:an})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,c,u,h,m,p;try{const g={nextPage:null,lastPage:0,total:0},w=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=r==null?void 0:r.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:kh});if(w.error)throw w.error;const x=await w.json(),j=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(p=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return N.length>0&&(N.forEach(b=>{const R=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);g[`${C}Page`]=R}),g.total=parseInt(j)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(se(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){ns(r);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:an})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){ns(r);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:an})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){ns(r);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:an})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){ns(r.userId);try{const{data:n,error:o}=await de(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:o}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(r){ns(r.userId),ns(r.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,c,u,h,m,p;try{const g={nextPage:null,lastPage:0,total:0},w=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=r==null?void 0:r.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:kh});if(w.error)throw w.error;const x=await w.json(),j=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(p=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return N.length>0&&(N.forEach(b=>{const R=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);g[`${C}Page`]=R}),g.total=parseInt(j)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(se(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(se(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}}function Eh(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const ss={debug:!!(globalThis&&mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Zy extends gf{}async function ew(i,r,n){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await n()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(r===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Zy(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(ss.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vf(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function rw(i){return parseInt(i,16)}function nw(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function sw(i){var r;const{chainId:n,domain:o,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:m,requestId:p,resources:g,scheme:w,uri:x,version:j}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const N=vf(i.address),b=w?`${w}://${o}`:o,R=i.statement?`${i.statement}
`:"",C=`${b} wants you to sign in with your Ethereum account:
${N}

${R}`;let $=`URI: ${x}
Version: ${j}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&($+=`
Expiration Time: ${c.toISOString()}`),m&&($+=`
Not Before: ${m.toISOString()}`),p&&($+=`
Request ID: ${p}`),g){let U=`
Resources:`;for(const P of g){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);U+=`
- ${P}`}$+=U}return`${C}
${$}`}class Ze extends Error{constructor({message:r,code:n,cause:o,name:c}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=c??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class Ua extends Ze{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function iw({error:i,options:r}){var n,o,c;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ze({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(yf(h)){if(u.rp.id!==h)return new Ze({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function aw({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ze({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(yf(o)){if(n.rpId!==o)return new Ze({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class ow{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const lw=new ow;function cw(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:o}=i,c=Wa(i,["challenge","user","excludeCredentials"]),u=ds(r).buffer,h=Object.assign(Object.assign({},n),{id:ds(n.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:h});if(o&&o.length>0){m.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const g=o[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:ds(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function uw(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,o=Wa(i,["challenge","allowCredentials"]),c=ds(r).buffer,u=Object.assign(Object.assign({},o),{challenge:c});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];u.allowCredentials[h]=Object.assign(Object.assign({},m),{id:ds(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function dw(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Cn(new Uint8Array(i.response.attestationObject)),clientDataJSON:Cn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function hw(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Cn(new Uint8Array(c.authenticatorData)),clientDataJSON:Cn(new Uint8Array(c.clientDataJSON)),signature:Cn(new Uint8Array(c.signature)),userHandle:c.userHandle?Cn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function yf(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Ch(){var i,r;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function fw(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ua("Browser returned unexpected credential type",r)}:{data:null,error:new Ua("Empty credential response",r)}}catch(r){return{data:null,error:iw({error:r,options:i})}}}async function mw(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ua("Browser returned unexpected credential type",r)}:{data:null,error:new Ua("Empty credential response",r)}}catch(r){return{data:null,error:aw({error:r,options:i})}}}const pw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fa(...i){const r=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of i)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))o[u]=h;else if(n(h))o[u]=h;else if(r(h)){const m=o[u];r(m)?o[u]=Fa(m,h):o[u]=Fa(h)}else o[u]=h}return o}function vw(i,r){return Fa(pw,i,r||{})}function yw(i,r){return Fa(gw,i,r||{})}class ww{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:c},u){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!h)return{data:null,error:m};const p=c??lw.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=vw(h.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:w,error:x}=await fw({publicKey:g,signal:p});return w?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}case"request":{const g=yw(h.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:w,error:x}=await mw(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:p}));return w?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}}}catch(h){return se(h)?{data:null,error:h}:{data:null,error:new En("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new ci("rpId is required for WebAuthn authentication")};try{if(!Ch())return{data:null,error:new En("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:c},{request:u});if(!h)return{data:null,error:m};const{webauthn:p}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(h){return se(h)?{data:null,error:h}:{data:null,error:new En("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new ci("rpId is required for WebAuthn registration")};try{if(!Ch())return{data:null,error:new En("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(w=>{var x;return(x=w.data)===null||x===void 0?void 0:x.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===r&&j.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:c},{create:u});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(h){return se(h)?{data:null,error:h}:{data:null,error:new En("Unexpected error in register",h)}}}}tw();const xw={url:py,storageKey:gy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Rh(i,r,n){return await n()}const is={};class ui{get jwks(){var r,n;return(n=(r=is[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=is[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},xw),r);if(this.storageKey=u.storageKey,this.instanceID=(n=ui.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&gt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Xy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=pf(u.fetch),this.lock=u.lock||Rh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&gt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=ew:this.lock=Rh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ww(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:mf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Eh(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${df}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(gt()&&(n=Py(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),gt()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),by(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?this._returnResult({error:n}):this._returnResult({error:new En("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,c;try{const u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=r==null?void 0:r.options)===null||c===void 0?void 0:c.captchaToken}},xform:or}),{data:h,error:m}=u;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,o,c;try{let u;if("email"in r){const{email:w,password:x,options:j}=r;let N=null,b=null;this.flowType==="pkce"&&([N,b]=await rs(this.storage,this.storageKey)),u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:w,password:x,data:(n=j==null?void 0:j.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:N,code_challenge_method:b},xform:or})}else if("phone"in r){const{phone:w,password:x,options:j}=r;u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:x,data:(o=j==null?void 0:j.data)!==null&&o!==void 0?o:{},channel:(c=j==null?void 0:j.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:or})}else throw new Pa("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:h,options:m}=r;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Nh})}else if("phone"in r){const{phone:u,password:h,options:m}=r;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Nh})}else throw new Pa("You must provide either an email or phone number and a password");const{data:o,error:c}=n;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const u=new ts;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,c,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,c,u,h,m,p,g,w,x,j;let N,b;if("message"in r)N=r.message,b=r.signature;else{const{chain:R,wallet:C,statement:$,options:U}=r;let P;if(gt())if(typeof C=="object")P=C;else{const Re=window;if("ethereum"in Re&&typeof Re.ethereum=="object"&&"request"in Re.ethereum&&typeof Re.ethereum.request=="function")P=Re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=C}const Q=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href),G=await P.request({method:"eth_requestAccounts"}).then(Re=>Re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=vf(G[0]);let oe=(o=U==null?void 0:U.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!oe){const Re=await P.request({method:"eth_chainId"});oe=rw(Re)}const Ee={domain:Q.host,address:H,statement:$,uri:Q.href,version:"1",chainId:oe,nonce:(c=U==null?void 0:U.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=U==null?void 0:U.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=U==null?void 0:U.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=U==null?void 0:U.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=U==null?void 0:U.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(w=U==null?void 0:U.signInWithEthereum)===null||w===void 0?void 0:w.resources};N=sw(Ee),b=await P.request({method:"personal_sign",params:[nw(N),H]})}try{const{data:R,error:C}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:b},!((x=r.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:or});if(C)throw C;if(!R||!R.session||!R.user){const $=new ts;return this._returnResult({data:{user:null,session:null},error:$})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:C})}catch(R){if(se(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(r){var n,o,c,u,h,m,p,g,w,x,j,N;let b,R;if("message"in r)b=r.message,R=r.signature;else{const{chain:C,wallet:$,statement:U,options:P}=r;let Q;if(gt())if(typeof $=="object")Q=$;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))Q=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=$}const G=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in Q&&Q.signIn){const H=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),U?{statement:U}:null));let oe;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")oe=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)oe=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)b=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),R=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${G.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(c=(o=P==null?void 0:P.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((h=P==null?void 0:P.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((m=P==null?void 0:P.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((g=P==null?void 0:P.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((x=(w=P==null?void 0:P.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||x===void 0)&&x.length?["Resources",...P.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const H=await Q.signMessage(new TextEncoder().encode(b),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=H}}try{const{data:C,error:$}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Cn(R)},!((j=r.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(N=r.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:or});if($)throw $;if(!C||!C.session||!C.user){const U=new ts;return this._returnResult({data:{user:null,session:null},error:U})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:$})}catch(C){if(se(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(r){const n=await Sn(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Sy;const{data:u,error:h}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:or});if(await pt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const m=new ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:c,access_token:u,nonce:h}=r,m=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:or}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const w=new ts;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,c,u,h;try{if("email"in r){const{email:m,options:p}=r;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await rs(this.storage,this.storageKey));const{error:x}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:w},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in r){const{phone:m,options:p}=r,{data:g,error:w}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:w})}throw new Pa("You must provide either an email or phone number.")}catch(m){if(await pt(this.storage,`${this.storageKey}-code-verifier`),se(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(r){var n,o;try{let c,u;"options"in r&&(c=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:m}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:or});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,g=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(r){var n,o,c,u,h;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await rs(this.storage,this.storageKey));const g=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=r==null?void 0:r.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:Jy});return!((u=g.data)===null||u===void 0)&&u.url&&gt()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await pt(this.storage,`${this.storageKey}-code-verifier`),se(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new Mt;const{error:c}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:c,options:u}=r,{error:h}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:o,type:c,options:u}=r,{data:h,error:m}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new Pa("You must provide either an email or phone number and a type")}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Fl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Sn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Wl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Vy(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:an}):await this._useSession(async n=>{var o,c,u;const{data:h,error:m}=n;if(m)throw m;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:an})})}catch(n){if(se(n))return _y(n)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:c,error:u}=o;if(u)throw u;if(!c.session)throw new Mt;const h=c.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await rs(this.storage,this.storageKey));const{data:g,error:w}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:an});if(w)throw w;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await pt(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Mt;const n=Date.now()/1e3;let o=n,c=!0,u=null;const{payload:h}=Bl(r.access_token);if(h.exp&&(o=h.exp,c=o<=n),c){const{data:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:h,error:m}=n;if(m)throw m;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new Mt;const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!gt())throw new Ia("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ia(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ia("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new yh("No code detected.");const{data:U,error:P}=await this._exchangeCodeForSession(r.code);if(P)throw P;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:m,expires_at:p,token_type:g}=r;if(!u||!m||!h||!g)throw new Ia("No session defined in URL");const w=Math.round(Date.now()/1e3),x=parseInt(m);let j=w+x;p&&(j=parseInt(p));const N=j-w;N*1e3<=ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const b=j-x;w-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,j,w):w-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,j,w);const{data:R,error:C}=await this._getUser(u);if(C)throw C;const $={provider_token:o,provider_refresh_token:c,access_token:u,expires_in:x,expires_at:j,refresh_token:h,token_type:g,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:r.type},error:null})}catch(o){if(se(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Sn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:c,error:u}=n;if(u)return this._returnResult({error:u});const h=(o=c.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(jy(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return r!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Ay(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,c;try{const{data:{session:u},error:h}=n;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await rs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:c}=await this._useSession(async u=>{var h,m,p,g,w;const{data:x,error:j}=u;if(j)throw j;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",N,{headers:this.headers,jwt:(w=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&w!==void 0?w:void 0})});if(c)throw c;return gt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(se(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:c,data:{session:u}}=n;if(c)throw c;const{options:h,provider:m,token:p,access_token:g,nonce:w}=r,x=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:m,id_token:p,access_token:g,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:or}),{data:j,error:N}=x;return N?this._returnResult({data:{user:null,session:null},error:N}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new ts}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:N}))}catch(c){if(await pt(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,c;const{data:u,error:h}=n;if(h)throw h;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await Dy(async c=>(c>0&&await Oy(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:or})),(c,u)=>{const h=200*Math.pow(2,c);return u&&Ml(u)&&Date.now()+h-o<ls})}catch(o){if(this._debug(n,"error",o),se(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),gt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await Sn(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await cs(this.userStorage,this.storageKey+"-user",h)),c.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Wl()}else if(c&&!c.user&&!c.user){const h=await Sn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await pt(this.storage,this.storageKey+"-user"),await cs(this.storage,this.storageKey,c)):c.user=Wl()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const u=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fl;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Fl}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Ml(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new qa;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new Mt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),se(u)){const h={data:null,error:u};return Ml(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,n,o=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await cs(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const u=bh(c);await cs(this.storage,this.storageKey,u)}else{const c=bh(n);await cs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ls);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-r)/ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ls}ms, refresh threshold is ${ec} ticks`),c<=ec&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof gf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const c=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,h]=await rs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);c.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:c,error:u}=n;return u?this._returnResult({data:null,error:u}):await de(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,c;const{data:u,error:h}=n;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:g}=await de(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(r.factorType==="totp"&&p.type==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?dw(r.webauthn.credential_response):hw(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:p}=await de(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=await de(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:cw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:uw(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Bl(o.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:c}=n;return c?this._returnResult({data:null,error:c}):o?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Mt});const h=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(se(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Mt});const h=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(se(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:c}=n;return c?this._returnResult({data:null,error:c}):o?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mt})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(m=>m.kid===r);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(m=>m.kid===r),o&&this.jwks_cached_at+wy>c)return o;const{data:u,error:h}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,o=u.keys.find(m=>m.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:N,error:b}=await this.getSession();if(b||!N.session)return this._returnResult({data:null,error:b});o=N.session.access_token}const{header:c,payload:u,signature:h,raw:{header:m,payload:p}}=Bl(o);n!=null&&n.allowExpired||Wy(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:N}=await this.getUser(o);if(N)throw N;return{data:{claims:u,header:c,signature:h},error:null}}const w=zy(c.alg),x=await crypto.subtle.importKey("jwk",g,w,!0,["verify"]);if(!await crypto.subtle.verify(w,x,h,Ry(`${m}.${p}`)))throw new nc("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(o){if(se(o))return this._returnResult({data:null,error:o});throw o}}}ui.nextInstanceID={};const jw=ui,_w="2.91.1";let ri="";typeof Deno<"u"?ri="deno":typeof document<"u"?ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ri="react-native":ri="node";const bw={"X-Client-Info":`supabase-js-${ri}/${_w}`},Sw={headers:bw},Nw={schema:"public"},kw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ew={};function di(i){"@babel/helpers - typeof";return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},di(i)}function Cw(i,r){if(di(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var o=n.call(i,r);if(di(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function Rw(i){var r=Cw(i,"string");return di(r)=="symbol"?r:r+""}function Tw(i,r,n){return(r=Rw(r))in i?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,i}function Th(i,r){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),n.push.apply(n,o)}return n}function Ge(i){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Th(Object(n),!0).forEach(function(o){Tw(i,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(n,o))})}return i}const Aw=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Pw=()=>Headers,Iw=(i,r,n)=>{const o=Aw(n),c=Pw();return async(u,h)=>{var m;const p=(m=await r())!==null&&m!==void 0?m:i;let g=new c(h==null?void 0:h.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),o(u,Ge(Ge({},h),{},{headers:g}))}};function Ow(i){return i.endsWith("/")?i:i+"/"}function Dw(i,r){var n,o;const{db:c,auth:u,realtime:h,global:m}=i,{db:p,auth:g,realtime:w,global:x}=r,j={db:Ge(Ge({},p),c),auth:Ge(Ge({},g),u),realtime:Ge(Ge({},w),h),storage:{},global:Ge(Ge(Ge({},x),m),{},{headers:Ge(Ge({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(o=m==null?void 0:m.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return i.accessToken?j.accessToken=i.accessToken:delete j.accessToken,j}function $w(i){const r=i==null?void 0:i.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ow(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Lw=class extends jw{constructor(i){super(i)}},Uw=class{constructor(i,r,n){var o,c;this.supabaseUrl=i,this.supabaseKey=r;const u=$w(i);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:Nw,realtime:Ew,auth:Ge(Ge({},kw),{},{storageKey:h}),global:Sw},p=Dw(n??{},m);if(this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=Iw(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ge({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new vv(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new my(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new hv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,r,n)}channel(i,r={config:{}}){return this.realtime.channel(i,r)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,r,n;if(i.accessToken)return await i.accessToken();const{data:o}=await i.auth.getSession();return(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:c,storageKey:u,flowType:h,lock:m,debug:p,throwOnError:g},w,x){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lw({url:this.authUrl.href,headers:Ge(Ge({},j),w),storageKey:u,autoRefreshToken:i,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:c,flowType:h,lock:m,debug:p,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Ov(this.realtimeUrl.href,Ge(Ge({},i),{},{params:Ge(Ge({},{apikey:this.supabaseKey}),i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(i,r,n){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Fw=(i,r,n)=>new Uw(i,r,n);function Mw(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const r=i.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Mw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bw="https://eqjbvpjcicqeiirxqewk.supabase.co",Ww="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxamJ2cGpjaWNxZWlpcnhxZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MzA0NzMsImV4cCI6MjA4NTAwNjQ3M30.6MLW3k8P9IRllHjGaMYwef5hSDZGRf3atUuBxVxr-bc",We=Fw(Bw,Ww),zw=[{id:"clean-10",title:"Clean 10 Minutes",purpose:"Transform your space, clear your mind. A tidy environment creates room for creativity and peace.",difficulty:"easy",timeNeeded:"10 minutes",steps:["Set a timer for 10 minutes","Choose one area: desk, room corner, kitchen counter","Put things in their place, wipe surfaces","Take a before and after photo","Notice how you feel in the refreshed space"],sharePrompt:"Share your transformation! Post before/after photos and tag #DreamWorldClean",impact:"Small actions build momentum. A clean space supports a clear mind."},{id:"plant-seed",title:"Plant a Seed",purpose:"Connect with the cycle of life. Watch something grow because you cared for it.",difficulty:"easy",timeNeeded:"15 minutes",steps:["Get a small pot, soil, and seeds (herbs work great for beginners)","Fill the pot with soil, plant seeds according to package directions","Water gently and place in sunlight","Set a daily reminder to check on your plant","Journal about your experience as it grows"],sharePrompt:"Document your growing journey! Share progress photos weekly with #DreamWorldGrows",impact:"Nurturing life teaches patience and responsibility. Your small garden is part of a greener world."},{id:"learn-skill",title:"Learn 1 New Skill",purpose:"Growth happens at the edge of your comfort zone. Pick something you have always wanted to try.",difficulty:"medium",timeNeeded:"1-3 hours",steps:["Choose a skill: a new recipe, coding concept, art technique, language phrase","Find a beginner tutorial (YouTube, article, course)","Dedicate focused timeturn off distractions","Practice or create something with your new skill","Reflect: what surprised you? What will you practice next?"],sharePrompt:"Show us what you learned! Share your creation or notes with #DreamWorldLearns",impact:"Every expert was once a beginner. Your curiosity makes the world more interesting."},{id:"help-one",title:"Help 1 Person",purpose:"Build a world of kindness. One genuine act of help creates ripples far beyond what you see.",difficulty:"easy",timeNeeded:"15-60 minutes",steps:["Think of someone who could use support: friend, family, stranger, online community member","Offer specific help: answer a question, share resources, listen, help with a task","Follow through with genuine care","Notice how helping others affects your own mood","Make it a habit"],sharePrompt:"Inspire others to help! Share your story (respecting privacy) with #DreamWorldHelps",impact:"Communities thrive on mutual support. Your kindness might be exactly what someone needed today."}],qw=[{id:"guardian",name:"Guardians",singular:"Guardian",description:"Architects and guides of DreamWorld. They weave together nature, technology, and community.",color:"linear-gradient(135deg, #FFD700, #4CA1AF)",traits:["Visionary Leadership","Community Building","Systems Thinking","Educational Design","Technology & Nature Harmony"],philosophy:"Guardians believe that education and collaboration can transform the world. They create spaces where people can learn, grow, and build together."},{id:"florist",name:"Florists",singular:"Florist",description:"Represents nature, beauty, and meaning. Shares plant/flower knowledge, eco-living habits, and calming creative content.",color:"linear-gradient(135deg, #4CAF50, #5fd65f)",traits:["Nature Connection","Plant & Flower Knowledge","Eco-Living Practices","Aesthetic Sensibility","Calming Creativity"],philosophy:"Florists teach us that beauty is essential food for the spirit. They help us slow down, observe, and appreciate the quiet miracles of nature around us."},{id:"healer",name:"Healers",singular:"Healer",description:"Supports wellness (non-medical): mindset, routines, rest, confidence, and recovery. Helps members stay balanced while learning and building.",color:"linear-gradient(135deg, #A8E6CF, #56CCF2)",traits:["Mindset Support","Wellness Routines","Rest & Recovery","Confidence Building","Balance Maintenance"],philosophy:"Healers believe true growth requires balance. They nurture mental wellness, self-care practices, and the confidence needed to thrive in all areas of life."},{id:"builder",name:"Builders",singular:"Builder",description:"Creates tools and projects that help lifeDIY, tech, repairs, coding, robotics, and practical inventions. Teaches by showing progress.",color:"linear-gradient(135deg, #667eea, #764ba2)",traits:["DIY & Practical Projects","Tech & Coding Skills","Problem Solving","Robotics & Inventions","Learn-by-Building"],philosophy:"Builders know that making something with your handsor codeis one of the best ways to learn. They create practical tools and share the journey of building."},{id:"scholar",name:"Scholars",singular:"Scholar",description:'Turns complex ideas into simple lessons. Shares mini-explainers, resources, study methods, and "learn together" content.',color:"linear-gradient(135deg, #f093fb, #f5576c)",traits:["Knowledge Simplification","Teaching Methods","Resource Curation","Study Techniques","Collaborative Learning"],philosophy:"Scholars believe knowledge should be accessible to everyone. They break down complex topics into digestible lessons and make learning a collaborative adventure."},{id:"ranger",name:"Rangers",singular:"Ranger",description:"Takes DreamWorld into the real world: cleanups, planting, community help, outdoor learning, and environment-focused quests.",color:"linear-gradient(135deg, #2E7D32, #66BB6A)",traits:["Environmental Action","Community Service","Outdoor Education","Sustainability Practice","Real-World Impact"],philosophy:"Rangers bridge the digital and physical worlds. They take action in their communities, protect nature, and turn online ideas into real-world change."},{id:"athlete",name:"Athletes",singular:"Athlete",description:"Trains discipline and teamwork through sports and fitness. Shares drills, challenges, and growth mindset through movement.",color:"linear-gradient(135deg, #FF6F61, #C33764)",traits:["Physical Excellence","Mental Discipline","Team Synergy","Fitness Challenges","Movement Practice"],philosophy:"Athletes know that mastery comes through repetition and discipline. They bring the energy of movement to DreamWorld, showing that body and mind grow together."},{id:"artist",name:"Artists",singular:"Artist",description:"Brings DreamWorld to life visually and creativelydesign, drawing, editing, music, photography, posters, and aesthetic worldbuilding.",color:"linear-gradient(135deg, #FA8BFF, #2BD2FF)",traits:["Visual Design","Creative Expression","Aesthetic Curation","Music & Photography","World Building"],philosophy:"Artists paint the soul of DreamWorld. They transform ideas into visual stories, create beauty that inspires, and make the universe feel alive through creativity."},{id:"antagonist",name:"Antagonists",singular:"Antagonist",description:"Creates playful challenges and controlled chaos during eventstesting skills, teamwork, and creativity to make quests more exciting (never harmful, always fair).",color:"linear-gradient(135deg, #FF4D6D, #7B2CBF)",traits:["Challenge Design","Mischief with Rules","Psychology & Strategy","Improv & Roleplay","Fair Play"],philosophy:"Antagonists are the spice, not the poison. They turn events into stories by introducing obstacles, twists, and rival questspushing everyone to grow while keeping it safe, respectful, and fun."}],Vw=[{id:"Florist-001",name:"Priyaluxmi Konjengbam",role:"florist",title:"Lead Florist",avatar:"/Priyaluxmi.png",coverImage:"/Priyaluxmi1.png",bio:"Early members of DreamWorld. Helps in bringing flowers and colours into the Dream World",themes:["Education","Peace","Flowers"],socials:{twitter:"https://twitter.com/alexrivers",github:"https://github.com/alexrivers"},joinedDate:"2025-01-01"},{id:"athlete-001",name:"Shankerson",role:"athlete",title:"Player",avatar:"/Shankerson.png",coverImage:"/Shankerson1.png",bio:"I turn drills into quests and sweat into progress.Fitness  Basketball  Teamwork  Growth",themes:["Basketball","Coaching","Discipline"],socials:{instagram:"https://instagram.com/mayagarden",website:"https://mayagarden.com"},joinedDate:"2025-02-15"},{id:"antagonist-001",name:"Vincent Law",role:"antagonist",title:"Event Rival & Challenge Master",avatar:"/Bicky.png",coverImage:"/Bicky1.png",bio:"The playful opposition of DreamWorlddesigns twists, rival quests, and mind-games that make events thrilling while staying fair and safe.",themes:["Challenge Design","Strategy","Mischief (Fair Play)","Roleplay","Event Hype"],socials:{instagram:"https://instagram.com/jordanbloom",youtube:"https://youtube.com/jordanbloom"},joinedDate:"2025-03-20"},{id:"artist-002",name:"Bidyashwori",role:"artist",title:"cake artist",avatar:"/Bidya1.png",coverImage:"/BidyaBackground.png",bio:"I bake stories you can taste, DreamWorld Cake Artist, turning simple ingredients into little moments of magic",themes:["Cakes","Cookies","sweets"],socials:{youtube:"https://youtube.com/chrissummit",twitter:"https://twitter.com/chrissummit"},joinedDate:"2025-02-01"},{id:"healer-001",name:"Dhanaluxmi Konjengbam",role:"healer",title:"DreamWorld Healer",avatar:"/Mache.png",coverImage:"/MacheBackground.png",bio:"I help DreamWorld members reset, recover, and keep goingsoftly and steadily. Sleep, mindset, and healthy habits made simple. Small steps, real change.",themes:["Fitness","Wellness","Habit Building"],socials:{instagram:"https://instagram.com/samvictory",website:"https://samvictory.fit"},joinedDate:"2025-04-10"}],Hw=[{id:"weekly-build",title:"Weekly Build-in-Public Session",date:"2026-01-22T18:00:00",location:"Discord Voice Chat",type:"online",description:"Join us every Wednesday evening to work on your projects together. Share what you are building, get feedback, and support fellow dreamers. Bring your code, art, writing, or any creative work.",host:"The Guardian",registrationLink:"mailto:join@dreamworld.com?subject=Weekly Build Session"},{id:"garden-workshop",title:"Virtual Garden Design Workshop",date:"2026-01-25T15:00:00",location:"Zoom + Discord",type:"online",description:"The Florist guides you through creating a small indoor garden space. Learn about beginner-friendly plants, sustainable containers, and how gardening supports mental health. Materials list provided after registration.",host:"The Florist",registrationLink:"mailto:join@dreamworld.com?subject=Garden Workshop"},{id:"fitness-challenge",title:"30-Day Movement Challenge Kickoff",date:"2026-02-01T09:00:00",location:"Community-wide (Async + Live Sessions)",type:"hybrid",description:"The Hooper launches a month-long challenge to build consistent movement habits. Choose your own activity: walking, sports, dance, yoga. Weekly live check-ins, daily accountability in Discord, and prizes for participation.",host:"The Hooper",registrationLink:"mailto:join@dreamworld.com?subject=Fitness Challenge"},{id:"dreamworld-summit",title:"DreamWorld Summit: Building Our Future",date:"2026-03-15T10:00:00",location:"Virtual Conference (All Day)",type:"online",description:"Our biggest event of the quarter! Join talks, workshops, and community discussions about technology, sustainability, education, and community building. Guest speakers from across the solarpunk and tech-for-good movements.",host:"All DreamWorld Characters",registrationLink:"mailto:join@dreamworld.com?subject=Summit Registration"}],wf=S.createContext(),ut=()=>S.useContext(wf),Kw=({children:i})=>{const[r,n]=S.useState(!0),[o,c]=S.useState(zw),[u,h]=S.useState(qw),[m,p]=S.useState(Vw),[g,w]=S.useState([]),[x,j]=S.useState(Hw),[N,b]=S.useState([]),[R,C]=S.useState([]),[$,U]=S.useState([]),[P,Q]=S.useState({title:"Welcome to DreamWorld! ",date:"January 18, 2026",content:"We're thrilled to launch DreamWorlda space for learning, creating, and growing together.",linkText:"View This Week's Quests",linkTo:"/quests"}),G=async()=>{try{n(!0);const{data:A}=await We.from("quests").select("*").order("created_at",{ascending:!0});A&&c(A.map(re=>({...re,amountNeeded:re.amount_needed||"0",amountRaised:re.amount_raised||"0",fundingStatus:re.funding_status||"not-funded",galleryImages:Array.isArray(re.gallery_images)?re.gallery_images:[],completionImages:Array.isArray(re.completion_images)?re.completion_images:[],completionNote:re.completion_note||"",dateCompleted:re.date_completed||"",steps:typeof re.steps=="string"?re.steps.split(`
`).filter(Dt=>Dt.trim()):[]})));const{data:O}=await We.from("roles").select("*").order("created_at",{ascending:!0});O&&h(O.map(re=>({...re,traits:typeof re.traits=="string"?re.traits.split(`
`).filter(Dt=>Dt.trim()):[],is_exclusive:re.is_exclusive===!0||re.is_exclusive==="true"})));const{data:K}=await We.from("dreamers").select("*").order("order_index",{ascending:!0});K&&p(K.map(re=>({...re,coverImage:re.cover_image,joinedDate:re.joined_date,themes:typeof re.themes=="string"?re.themes.split(",").map(Dt=>Dt.trim()).filter(Boolean):[],socials:{youtube:re.youtube,instagram:re.instagram,facebook:re.facebook,twitter:re.twitter},level:Math.floor((re.points||0)/100),points:re.points||0})));const{data:we}=await We.from("sponsors").select("*").order("created_at",{ascending:!0});we&&w(we.map(re=>({...re,themes:typeof re.themes=="string"?re.themes.split(",").map(Dt=>Dt.trim()).filter(Boolean):[]})));const{data:_e}=await We.from("events").select("*").order("created_at",{ascending:!0});_e&&j(_e.map(re=>({...re,amountNeeded:re.amount_needed||"0",amountRaised:re.amount_raised||"0",fundingStatus:re.funding_status||"not-funded",galleryImages:Array.isArray(re.gallery_images)?re.gallery_images:[],completionImages:Array.isArray(re.completion_images)?re.completion_images:[],completionNote:re.completion_note||"",dateCompleted:re.date_completed||"",registrationLink:re.registration_link||""})));const{data:me}=await We.from("announcements").select("*").order("created_at",{ascending:!1}).limit(1);me&&me[0]&&Q({...me[0],linkText:me[0].link_text,linkTo:me[0].link_to});const{data:Me}=await We.from("donations").select("*").order("created_at",{ascending:!1}).limit(50);Me&&b(Me);const{data:$e}=await We.from("academy_applications").select("*").order("created_at",{ascending:!1});$e&&C($e);const{data:at}=await We.from("academy_students").select("*").order("order_index",{ascending:!0});at&&U(at.map(re=>({...re,level:Math.floor((re.points||0)/100)}))),n(!1)}catch(A){console.error("Supabase Fetch Error:",A),n(!1)}};S.useEffect(()=>{G()},[]);const H=async(A,O,K=!1,we=null)=>{try{if(K){const{error:_e}=await We.from(A).delete().eq("id",we);if(_e)throw _e}else{const{error:_e}=await We.from(A).upsert(O);if(_e)throw _e}return!0}catch(_e){return console.error(`Supabase Error (${A}):`,_e),alert(`Database Error: ${_e.message}`),!1}},oe=async A=>{const K={id:`quest-${Date.now()}`,title:A.title,purpose:A.purpose,difficulty:A.difficulty,time_needed:A.timeNeeded,steps:Array.isArray(A.steps)?A.steps.join(`
`):A.steps,impact:A.impact,share_prompt:A.sharePrompt,amount_needed:parseFloat(A.amountNeeded||0),funding_status:A.needsFunding?"active":"not-funded"};await H("quests",K)&&G()},Ee=async(A,O)=>{const K={id:A,title:O.title,purpose:O.purpose,difficulty:O.difficulty,time_needed:O.timeNeeded,impact:O.impact,share_prompt:O.sharePrompt,amount_needed:O.amountNeeded?parseFloat(O.amountNeeded):0,amount_raised:O.amountRaised?parseFloat(O.amountRaised):0,funding_status:O.fundingStatus,gallery_images:O.galleryImages||[],completion_images:O.completionImages||[],completion_note:O.completionNote||"",date_completed:O.dateCompleted||null,steps:Array.isArray(O.steps)?O.steps.join(`
`):O.steps||""};await H("quests",K)&&G()},Re=async A=>{await H("quests",null,!0,A)&&G()},et=async A=>{const K={id:A.id||`role-${Date.now()}`,name:A.name,singular:A.singular,description:A.description,color:A.color,traits:Array.isArray(A.traits)?A.traits.join(`
`):A.traits,philosophy:A.philosophy,is_exclusive:A.isExclusive||!1,image:A.image};await H("roles",K)&&G()},zt=async(A,O)=>{const K={id:A,name:O.name,singular:O.singular,description:O.description,color:O.color,traits:Array.isArray(O.traits)?O.traits.join(`
`):O.traits,philosophy:O.philosophy,is_exclusive:O.isExclusive||!1,image:O.image};await H("roles",K)&&G()},kt=async A=>{await H("roles",null,!0,A)&&G()},Je=async A=>{var we,_e,me,Me;const K={id:A.id||`mem-${Date.now()}`,name:A.name,role:A.role,title:A.title,avatar:A.avatar,cover_image:A.coverImage,bio:A.bio,themes:Array.isArray(A.themes)?A.themes.join(","):A.themes,joined_date:A.joinedDate||new Date().toISOString().split("T")[0],youtube:((we=A.socials)==null?void 0:we.youtube)||"",instagram:((_e=A.socials)==null?void 0:_e.instagram)||"",facebook:((me=A.socials)==null?void 0:me.facebook)||"",twitter:((Me=A.socials)==null?void 0:Me.twitter)||"",points:parseInt(A.points||0),order_index:m.length};await H("dreamers",K)&&G()},dt=async(A,O)=>{var we,_e,me,Me;const K={id:A,name:O.name,role:O.role,title:O.title,avatar:O.avatar,cover_image:O.coverImage,bio:O.bio,themes:Array.isArray(O.themes)?O.themes.join(","):O.themes,joined_date:O.joinedDate,youtube:((we=O.socials)==null?void 0:we.youtube)||O.youtube||"",instagram:((_e=O.socials)==null?void 0:_e.instagram)||O.instagram||"",facebook:((me=O.socials)==null?void 0:me.facebook)||O.facebook||"",twitter:((Me=O.socials)==null?void 0:Me.twitter)||O.twitter||"",points:parseInt(O.points||0),order_index:O.order_index};await H("dreamers",K)&&G()},Et=async A=>{await H("dreamers",null,!0,A)&&G()},it=async A=>{const K={id:A.id||`sp-${Date.now()}`,name:A.name,title:A.title,avatar:A.avatar,bio:A.bio,themes:Array.isArray(A.themes)?A.themes.join(","):A.themes};await H("sponsors",K)&&G()},Ie=async(A,O)=>{const K={id:A,name:O.name,title:O.title,avatar:O.avatar,bio:O.bio,themes:Array.isArray(O.themes)?O.themes.join(","):O.themes};await H("sponsors",K)&&G()},J=async A=>{await H("sponsors",null,!0,A)&&G()},le=async A=>{const K={id:`ev-${Date.now()}`,title:A.title,host:A.host,type:A.type,date:A.date||null,location:A.location,description:A.description,registration_link:A.registrationLink,amount_needed:parseFloat(A.amountNeeded||0),funding_status:A.needsFunding?"active":"not-funded"};await H("events",K)&&G()},z=async(A,O)=>{const K={id:A,title:O.title,host:O.host,type:O.type,date:O.date||null,location:O.location,description:O.description,registration_link:O.registrationLink,amount_needed:O.amountNeeded?parseFloat(O.amountNeeded):0,amount_raised:O.amountRaised?parseFloat(O.amountRaised):0,funding_status:O.fundingStatus,gallery_images:O.galleryImages||[],completion_images:O.completionImages||[],completion_note:O.completionNote||"",date_completed:O.dateCompleted||null};await H("events",K)&&G()},T=async A=>{await H("events",null,!0,A)&&G()},F=async A=>{const O={title:A.title,date:A.date,content:A.content,link_text:A.linkText,link_to:A.linkTo};await H("announcements",O)&&G()},fe=async A=>{const O={name:A.name,email:A.email,phone:A.phone,role:A.role,whydream:A.reason,whyrole:A.roleReason,otherrole:A.otherRole,age:A.age,gender:A.gender};await H("joindream",O)},ee=async A=>{const O={name:A.name,email:A.email,amount:parseFloat(A.amount),type:A.type,message:A.message,date:new Date().toISOString().split("T")[0],status:A.status||"success",payment_method:A.paymentMethod||"",transaction_id:A.transactionId||"",sponsorship_type:A.sponsorshipType||"general",sponsorship_id:A.sponsorshipId||"",sponsorship_message:A.sponsorshipMessage||""},{data:K,error:we}=await We.from("donations").insert(O).select();if(we)throw console.error("Error saving donation:",we),we;if(A.sponsorshipId&&A.sponsorshipType!=="general"){const _e=A.sponsorshipType==="quest"?"quests":"events",{data:me}=await We.from(_e).select("amount_raised").eq("id",A.sponsorshipId).single();if(me){const $e=(parseFloat(me.amount_raised||0)+parseFloat(A.amount)).toString();await We.from(_e).update({amount_raised:$e}).eq("id",A.sponsorshipId)}}G()},ge=async A=>{var _e,me;const K={id:`acad-app-${Date.now()}`,name:A.name,class:A.class,school_name:A.schoolName||"",age:parseInt(A.age),gender:A.gender,hobbies:A.hobbies,favourite_colour:A.favouriteColour,favourite_animal:A.favouriteAnimal,aim_in_life:A.aimInLife,status:"pending"};let we=await We.from("academy_applications").upsert({...K,phone:A.phone||"",email:A.email||""});if(we.error&&(((_e=we.error.message)!=null&&_e.includes("phone")||(me=we.error.message)!=null&&me.includes("email")||we.error.code==="42703")&&(we=await We.from("academy_applications").upsert(K)),we.error))throw new Error(we.error.message);G()},ie=async A=>{try{const O=R.find(me=>me.id===A);if(!O)throw new Error("Application not found");const we={id:`acad-stu-${Date.now()}`,name:O.name,class:O.class,school_name:O.school_name,age:O.age,gender:O.gender,hobbies:O.hobbies,favourite_colour:O.favourite_colour,favourite_animal:O.favourite_animal,aim_in_life:O.aim_in_life,points:0,order_index:$.length,joined_date:new Date().toISOString().split("T")[0]};await H("academy_students",we);const{error:_e}=await We.from("academy_applications").update({status:"accepted"}).eq("id",A);if(_e)throw _e;return G(),!0}catch(O){return console.error("Error accepting application:",O),alert(`Failed to accept: ${O.message}`),!1}},xe=async A=>{try{const{error:O}=await We.from("academy_applications").update({status:"declined"}).eq("id",A);if(O)throw O;return G(),!0}catch(O){return console.error("Error declining application:",O),alert(`Failed to decline: ${O.message}`),!1}},ae=async A=>{try{const{error:O}=await We.from("academy_applications").delete().eq("id",A);if(O)throw O;return G(),!0}catch(O){return console.error("Error deleting application:",O),alert(`Failed to delete: ${O.message}`),!1}},ye=async(A,O)=>{const K={id:A,name:O.name,class:O.class,school_name:O.schoolName||O.school_name||"",age:parseInt(O.age||0),gender:O.gender,hobbies:O.hobbies,favourite_colour:O.favourite_colour,favourite_animal:O.favourite_animal,aim_in_life:O.aim_in_life,avatar:O.avatar||"",cover_image:O.coverImage||O.cover_image||"",points:parseInt(O.points||0),order_index:O.order_index||0,joined_date:O.joined_date};await H("academy_students",K)&&G()},Ae=async A=>{await H("academy_students",null,!0,A)&&G()},Ct=async A=>{try{const{data:O,error:K}=await We.from("donations").select("*").eq("id",A).single();if(K||!O)throw new Error("Donation not found");const{error:we}=await We.from("donations").delete().eq("id",A);if(we)throw we;if(O.sponsorship_id&&O.sponsorship_type!=="general"){const _e=O.sponsorship_type==="quest"?"quests":"events",{data:me}=await We.from(_e).select("amount_raised").eq("id",O.sponsorship_id).single();if(me){const Me=parseFloat(me.amount_raised||0),$e=parseFloat(O.amount||0),at=Math.max(0,Me-$e).toString();await We.from(_e).update({amount_raised:at}).eq("id",O.sponsorship_id)}}return G(),!0}catch(O){return console.error("Error deleting donation:",O),alert(`Failed to delete donation: ${O.message}`),!1}},Pe=async(A,O)=>{const K=m.findIndex($e=>$e.id===A);if(K===-1)return;const we=O==="up"?K-1:K+1;if(we<0||we>=m.length)return;const _e=[...m],[me]=_e.splice(K,1);_e.splice(we,0,me);const Me=_e.map(($e,at)=>({...$e,order_index:at}));p(Me);try{const $e=Me.map(re=>({id:re.id,order_index:re.order_index})),{error:at}=await We.from("dreamers").upsert($e);if(at)throw at}catch($e){console.error("Error reordering character:",$e),p(m),alert(`Failed to save order: ${$e.message}`)}},ht=S.useMemo(()=>{const A=o.filter(K=>parseFloat(K.amountNeeded)>0).map(K=>({...K,type:"quest",name:K.title,description:K.purpose})),O=x.filter(K=>parseFloat(K.amountNeeded)>0).map(K=>({...K,type:"event",name:K.title,description:K.description}));return[...A,...O]},[o,x]);return s.jsx(wf.Provider,{value:{loading:r,quests:o,addQuest:oe,updateQuest:Ee,deleteQuest:Re,roles:u,addRole:et,updateRole:zt,deleteRole:kt,characters:m,addCharacter:Je,updateCharacter:dt,deleteCharacter:Et,sponsors:g,addSponsor:it,updateSponsor:Ie,deleteSponsor:J,events:x,addEvent:le,updateEvent:z,deleteEvent:T,announcement:P,updateAnnouncement:F,syncGlobalData:G,submitDreamerApplication:fe,donations:N,submitDonation:ee,deleteDonation:Ct,reorderCharacter:Pe,sponsorships:ht,academyApplications:R,academyStudents:$,submitAcademyApplication:ge,acceptApplication:ie,declineApplication:xe,deleteAcademyApplication:ae,updateAcademyStudent:ye,deleteAcademyStudent:Ae},children:i})},Gw=()=>S.useCallback(()=>{const r=new Audio("/ButtonAudio.mp3");r.volume=.7,r.play().catch(n=>console.log("Audio play failed:",n))},[]);function Ne({children:i,variant:r="primary",onClick:n,type:o="button"}){const c=Gw(),u=h=>{c(),n&&n(h)};return s.jsx("button",{className:`btn btn-${r}`,onClick:u,type:o,children:i})}function ve({children:i,className:r="",hover:n=!0}){return s.jsx("div",{className:`card ${n?"card-hover":""} ${r}`,children:i})}function wr({title:i,subtitle:r}){return s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"header-glow"}),s.jsx("h2",{children:i}),r&&s.jsx("p",{className:"subtitle",children:r})]})}function Jw(){return s.jsx("footer",{className:"home-footer",children:s.jsxs("div",{className:"home-footer-content",children:[s.jsxs("div",{className:"home-footer-grid",children:[s.jsxs("div",{className:"home-footer-section",children:[s.jsx("h3",{children:"DreamWorld"}),s.jsx("p",{children:"A Beautiful Dream"}),s.jsx("p",{children:s.jsx("em",{children:"Where nature, technology, and wonder unite"})})]}),s.jsxs("div",{className:"home-footer-section",children:[s.jsx("h3",{children:"Connect"}),s.jsxs("div",{className:"contact-info",children:[s.jsx("p",{children:" theonewhodreamsabeautifuldream@gmail.com"}),s.jsx("p",{children:" +91 8837478383"})]})]})]}),s.jsx("div",{className:"home-footer-bottom",children:s.jsxs("p",{children:[" 2026 DreamWorld. Built with  by ",s.jsx("a",{href:"/creator",children:"Justice"})]})})]})})}function Qw(){const{announcement:i,loading:r}=ut();return r?s.jsx("div",{className:"loading-state",children:"Syncing with DreamWorld..."}):(S.useEffect(()=>{const n={threshold:.15,rootMargin:"0px 0px -80px 0px"},o=new IntersectionObserver(u=>{u.forEach(h=>{h.isIntersecting&&h.target.classList.add("visible")})},n);return document.querySelectorAll(".animate-on-scroll").forEach(u=>o.observe(u)),()=>o.disconnect()},[]),s.jsxs("div",{className:"home",children:[s.jsxs("section",{className:"hero",children:[s.jsx("div",{className:"hero-background"}),s.jsxs("div",{className:"container hero-content",children:[s.jsx("p",{className:"hero-subtitle animate-on-scroll",children:"A Beautiful Dream presents"}),s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"hero-logo animate-on-scroll delay-1"}),s.jsx("p",{className:"hero-description animate-on-scroll delay-3",children:"A universe where nature, technology, and mystical wonder live in harmony. Learn together. Build together. Make the world better, one quest at a time."}),s.jsxs("div",{className:"hero-buttons animate-on-scroll delay-4",children:[s.jsx(je,{to:"/about",children:s.jsx(Ne,{variant:"primary",children:"Explore DreamWorld"})}),s.jsx(je,{to:"/join",children:s.jsx(Ne,{variant:"secondary",children:"Join the Community"})})]}),s.jsx("div",{className:"hero-academy-btn animate-on-scroll delay-5",children:s.jsx(je,{to:"/academy",children:s.jsxs("button",{className:"academy-explore-btn",children:[s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"",className:"acad-btn-icon"}),"Explore DreamWorld Academy"]})})})]})]}),s.jsxs("section",{className:"mission container",children:[s.jsx("h2",{className:"animate-on-scroll mission-title",children:"Our Mission"}),s.jsx("p",{className:"animate-on-scroll delay-1 mission-subtitle",children:"Education, community, and actionbuilding a brighter future together"}),s.jsxs("div",{className:"mission-content animate-on-scroll delay-2",children:[s.jsx("p",{children:"DreamWorld is more than a fantasy universeit's a living community dedicated to continuous learning and positive impact. We believe that when people learn together, create together, and support each other, extraordinary things happen."}),s.jsx("p",{children:'Every week, we embark on small "quests"simple actions that improve our skills, our spaces, and our communities. From planting a seed to learning a new skill to helping someone in need, every quest brings us closer to the world we want to live in.'})]})]}),s.jsxs("section",{className:"features",children:[s.jsxs("div",{className:"features-ambient-bg",children:[s.jsx("div",{className:"ambient-blob blob-1"}),s.jsx("div",{className:"ambient-blob blob-2"}),s.jsx("div",{className:"ambient-blob blob-3"})]}),s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"animate-on-scroll features-title",children:"Discover Your Path"}),s.jsxs("div",{className:"features-grid",children:[s.jsx("div",{className:"animate-on-scroll delay-1 feature-wrapper",children:s.jsxs(je,{to:"/about",className:"feature-card lore-card",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon lore-icon",children:s.jsx("span",{className:"icon-text",children:""})})}),s.jsx("h3",{children:"The Lore"}),s.jsx("p",{children:"Uncover the Vision. Read the story of DreamWorld, our philosophy, and the future we are building together."}),s.jsx("span",{className:"feature-cta",children:"Read the Story "})]})}),s.jsx("div",{className:"animate-on-scroll delay-2 feature-wrapper",children:s.jsxs(je,{to:"/characters",className:"feature-card dreamers-card",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon dreamers-icon",children:s.jsx("span",{className:"icon-text",children:""})})}),s.jsx("h3",{children:"The Dreamers"}),s.jsxs("p",{children:["Meet the Community. Explore profiles, check ",s.jsx("strong",{children:"Dream Levels"}),", and see who is leading the change."]}),s.jsx("span",{className:"feature-cta",children:"Meet the Members "})]})}),s.jsx("div",{className:"animate-on-scroll delay-3 feature-wrapper",children:s.jsxs(je,{to:"/quests",className:"feature-card journey-card",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon journey-icon",children:s.jsx("span",{className:"icon-text",children:""})})}),s.jsx("h3",{children:"The Journey"}),s.jsxs("p",{children:["Start Your Adventure. Complete Quests to earn ",s.jsx("strong",{children:"XP"}),", level up, and make a real-world impact."]}),s.jsx("span",{className:"feature-cta",children:"Start a Quest "})]})}),s.jsx("div",{className:"animate-on-scroll delay-1 feature-wrapper",children:s.jsxs(je,{to:"/creator",className:"feature-card creator-card",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon creator-icon",children:s.jsx("span",{className:"icon-text",children:""})})}),s.jsx("h3",{children:"The Architect"}),s.jsx("p",{children:"Meet the Creator. Explore the mind behind the dream and the origin of this universe."}),s.jsx("span",{className:"feature-cta",children:"Meet Justice "})]})}),s.jsx("div",{className:"animate-on-scroll delay-2 feature-wrapper",children:s.jsxs(je,{to:"/events",className:"feature-card gathering-card",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon gathering-icon",children:s.jsx("span",{className:"icon-text",children:""})})}),s.jsx("h3",{children:"The Gathering"}),s.jsx("p",{children:"Join the Assembly. Participate in live events, workshops, and community celebrations."}),s.jsx("span",{className:"feature-cta",children:"View Events "})]})}),s.jsx("div",{className:"animate-on-scroll delay-3 feature-wrapper",children:s.jsxs(je,{to:"/thanks",className:"feature-card pillars-card",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon pillars-icon",children:s.jsx("span",{className:"icon-text",children:""})})}),s.jsx("h3",{children:"The Pillars"}),s.jsx("p",{children:"Honor the Supporters. See the visionaries and patrons fueling the dream."}),s.jsx("span",{className:"feature-cta",children:"View Wall of Gratitude "})]})})]})]})]}),s.jsxs("section",{className:"latest-update container",children:[s.jsx("h2",{className:"animate-on-scroll update-title",children:"Latest Update"}),s.jsx("div",{className:"animate-on-scroll delay-1",children:s.jsxs(ve,{className:"update-card",hover:!1,children:[s.jsxs("div",{className:"update-header",children:[s.jsx("h3",{children:i.title}),s.jsx("span",{className:"update-date",children:i.date})]}),s.jsx("p",{children:i.content}),s.jsx("div",{className:"update-actions",children:s.jsx(je,{to:i.linkTo,children:s.jsx(Ne,{variant:"primary",children:i.linkText})})})]})})]}),s.jsx(Jw,{})]}))}function Yw(){return s.jsxs("div",{className:"about-page page",children:[s.jsx("div",{className:"page-hero",children:s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"page-logo"})}),s.jsxs("div",{className:"story-container",children:[s.jsxs("div",{className:"story-header",children:[s.jsx("h1",{children:"The Story of DreamWorld"}),s.jsx("p",{className:"story-tagline",children:"Where wonder meets wisdom, and technology dances with nature"})]}),s.jsxs("div",{className:"story-section",children:[s.jsx("h2",{children:"In the Beginning"}),s.jsx("p",{children:"There was a dreamnot born of sleep, but of deep longing for a world that could be. A world where forests grew alongside cities, where code and seeds both carried the promise of life, where learning never ended and community never wavered."}),s.jsx("p",{children:"In this dream, technology did not dominate nature but partnered with it. Solar panels bloomed like flowers. Algorithms helped gardens thrive. Knowledge flowed freely like water, nourishing all who thirsted for growth."}),s.jsx("p",{children:"This dream became DreamWorlda universe both mystical and grounded, fantastical and practical. It exists in the space between imagination and action, powered by people who believe that learning, building, and helping can change reality."})]}),s.jsxs("div",{className:"story-section",children:[s.jsx("h2",{children:"A Universe of Balance"}),s.jsx("p",{children:"DreamWorld thrives on three forces in harmony: Nature, the living foundation that sustains all; Technology, the tools we create to amplify our potential; and Mystery, the wonder that keeps us curious and humble. Here, every practice becomes a teacherpatience learned through tending what grows, discipline discovered through dedication, poetry found in patterns of logic."}),s.jsx("p",{children:"This is not escapismit's aspiration made tangible. DreamWorld is the map; our lives are the territory we're transforming. Every skill mastered, every kindness shown, every line of code written with intention becomes part of the fabric of this world we're weaving together."})]}),s.jsxs("div",{className:"story-section",children:[s.jsx("h2",{children:"The Five Truths"}),s.jsx("p",{children:"In this world, we hold five foundational truths. First, that technology serves lifewe build tools that enhance human flourishing and protect the natural world, where code becomes craft and craft becomes beautiful. Second, that knowledge is sharedlearning happens in community, we teach what we know and learn from each other, with no gatekeepers and no secret wisdom, just open hearts and curious minds."}),s.jsx("p",{children:"Third, we build in publicsharing our process, not just our results, celebrating progress over perfection because when we work in the open, we inspire others and create opportunities for collaboration. Fourth, we respect nature and peoplethe earth is our home and every person deserves dignity, our actions honor both, for sustainability and kindness are not optional but foundational."}),s.jsx("p",{children:"And fifth, every week brings one questsmall, consistent actions that create lasting change, a simple challenge to learn, build, help, or grow, because progress is not a destination but a practice we embrace together."})]}),s.jsxs("div",{className:"story-section",children:[s.jsx("h2",{children:"Your Journey Begins"}),s.jsx("p",{children:"This world is built by dreamers and doers, by those who believe that small actions compound into extraordinary change. Every guide you meet carries wisdom from their journeyprotectors of balance, cultivators of growth, teachers of focus and grace. Every quest you take is a step toward the world we're building together."}),s.jsx("p",{children:"The story of DreamWorld is not written in ancient tomesit's being written right now, by you, by all of us who choose to learn, to build, to help, to grow. This is not a fantasy to escape into. This is a vision to step toward, one quest at a time."})]}),s.jsxs("div",{className:"lore-cta",children:[s.jsx("p",{children:"Will you join us? The guides await, the quests are calling, and the community is growing. Your chapter in this story begins with a single step."}),s.jsx(je,{to:"/characters",children:s.jsx(Ne,{variant:"primary",children:"Meet the Characters"})})]})]})]})}function Nt({children:i,variant:r="default"}){return s.jsx("span",{className:`badge badge-${r}`,children:i})}function Va({src:i,alt:r,isOpen:n,onClose:o}){return S.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),n?s.jsx("div",{className:"image-modal-overlay",onClick:o,children:s.jsxs("div",{className:"image-modal-content",onClick:c=>c.stopPropagation(),children:[s.jsx("button",{className:"image-modal-close",onClick:o,children:""}),s.jsx("img",{src:i,alt:r,className:"image-modal-img"})]})}):null}function Yt({src:i,name:r,className:n,style:o,onClick:c}){const[u,h]=S.useState("loading"),m=r?r.charAt(0).toUpperCase():"?";return s.jsxs("div",{className:`resilient-avatar ${n}`,onClick:c,style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundColor:"#0a1118",border:"1px solid rgba(76, 161, 175, 0.2)",...o},children:[s.jsx("span",{style:{fontSize:"2.5em",color:"var(--color-gold)",fontWeight:"800",opacity:u==="success"?0:1,transition:"opacity 0.3s ease",textShadow:"0 0 15px rgba(255, 215, 0, 0.3)",userSelect:"none"},children:m}),i&&s.jsx("img",{src:i,alt:r,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:u==="success"?1:0,transition:"opacity 0.5s ease",pointerEvents:"none"},onLoad:()=>h("success"),onError:()=>{console.warn(`[Avatar] Failed to load: ${i}`),h("error")}})]})}function Xw(){const{characters:i,loading:r}=ut(),[n,o]=S.useState(!1),[c,u]=S.useState("");if(r)return s.jsx("div",{className:"loading-state",children:"Syncing Members with DreamWorld..."});const h=m=>{u(m),o(!0)};return s.jsx("div",{className:"characters page",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"characters-hero",children:s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"characters-logo"})}),s.jsx(wr,{title:"Community Members",subtitle:"Meet the people building DreamWorld together"}),s.jsx("div",{className:"view-roles-banner",children:s.jsxs(ve,{hover:!1,children:[s.jsx("p",{children:"Want to understand the different paths in DreamWorld?"}),s.jsx(je,{to:"/roles",className:"roles-banner-link",children:"Explore Character Roles & Traits "})]})}),s.jsx(Va,{src:c,alt:"Member Photo",isOpen:n,onClose:()=>o(!1)}),s.jsx("div",{className:"characters-grid",children:i.map(m=>s.jsx(je,{to:`/characters/${m.id}`,className:"character-link",children:s.jsxs(ve,{children:[s.jsxs("div",{className:"character-cover-section",style:{backgroundImage:m.coverImage?`url("${m.coverImage}")`:"none",backgroundSize:"cover",backgroundPosition:"center",height:"200px",borderRadius:"8px 8px 0 0",position:"relative",cursor:m.coverImage?"zoom-in":"default"},onClick:p=>{m.coverImage&&(p.preventDefault(),h(m.coverImage))},children:[s.jsx("div",{className:"character-photo-wrapper",children:s.jsx(Yt,{src:m.avatar,name:m.name,className:"character-photo",onClick:p=>{p.preventDefault(),p.stopPropagation(),h(m.avatar)}})}),s.jsxs("div",{className:"character-level-badge",title:`Dream Level: ${m.level||0}`,children:[s.jsx("span",{className:"level-label",children:"DREAM LVL"}),s.jsx("span",{className:"level-value",children:m.level||0})]})]}),s.jsx("h3",{children:m.name}),s.jsx("p",{className:"character-role-title",children:m.title}),s.jsx("p",{className:"character-bio",children:m.bio&&m.bio.length>120?m.bio.substring(0,120)+"...":m.bio}),s.jsx("div",{className:"character-themes",children:m.themes.map((p,g)=>s.jsx(Nt,{children:p},g))}),s.jsx("div",{className:"character-cta",children:"View profile "})]})},m.id))})]})})}function Zw(){var x,j,N,b,R,C,$,U;const{id:i}=ac(),{characters:r,roles:n,loading:o}=ut(),[c,u]=S.useState(!1),[h,m]=S.useState("");if(o)return s.jsx("div",{className:"loading-state",children:"Syncing Member Info..."});const p=r.find(P=>String(P.id)===String(i));if(!p)return s.jsx("div",{className:"character-detail page",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{children:"Character not found"}),s.jsx(je,{to:"/characters",children:s.jsx(Ne,{children:"Back to Members"})})]})});const g=n.find(P=>P.id===p.role),w=P=>{P&&(m(P),u(!0))};return s.jsxs("div",{className:"character-detail page",style:{padding:0},children:[s.jsxs("div",{className:"character-full-cover",style:{backgroundImage:p.coverImage?`url("${p.coverImage}")`:"none",backgroundSize:"cover",backgroundPosition:"center",width:"100%",position:"relative",zIndex:1,cursor:p.coverImage?"zoom-in":"default"},onClick:()=>p.coverImage&&w(p.coverImage),children:[s.jsx("div",{className:"cover-overlay"}),s.jsx("div",{className:"container",style:{position:"relative",height:"100%"},children:s.jsx(je,{to:"/characters",className:"back-link-overlay",children:" Back to Members"})})]}),s.jsxs("div",{className:"container",style:{position:"relative",zIndex:10},children:[s.jsxs("div",{className:"character-hero",children:[s.jsx(Yt,{src:p.avatar,name:p.name,className:"character-avatar-large",style:{cursor:p.avatar?"zoom-in":"default",border:"8px solid var(--color-background)",boxShadow:"0 15px 40px rgba(0,0,0,0.6)",width:"240px",height:"240px"},onClick:P=>{P.stopPropagation(),w(p.avatar)}}),s.jsxs("div",{className:"character-header-info",children:[s.jsx("h1",{children:p.name}),s.jsx("p",{className:"character-role-large",children:p.title}),g&&s.jsx(je,{to:`/roles/${g.id}`,className:"role-badge-small-link",children:g.singular}),s.jsxs("div",{className:"character-stats-row",children:[s.jsxs("div",{className:"stat-pill level",children:[s.jsx("span",{className:"label",children:"DREAM LEVEL"}),s.jsx("span",{className:"value",children:p.level||0})]}),s.jsxs("div",{className:"stat-pill points",children:[s.jsx("span",{className:"value",children:p.points||0}),s.jsx("span",{className:"label",children:"XP"})]})]}),s.jsx("div",{className:"character-themes-large",children:p.themes&&p.themes.map((P,Q)=>s.jsx(Nt,{children:P},Q))}),s.jsxs("div",{className:"profile-social-bar",children:[s.jsx("a",{href:((x=p.socials)==null?void 0:x.youtube)||"#",target:"_blank",rel:"noreferrer",className:`social-icon youtube ${(j=p.socials)!=null&&j.youtube?"":"unlinked"}`,title:"YouTube",children:s.jsx("span",{className:"icon",children:""})}),s.jsx("a",{href:((N=p.socials)==null?void 0:N.instagram)||"#",target:"_blank",rel:"noreferrer",className:`social-icon instagram ${(b=p.socials)!=null&&b.instagram?"":"unlinked"}`,title:"Instagram",children:s.jsx("span",{className:"icon",children:""})}),s.jsx("a",{href:((R=p.socials)==null?void 0:R.facebook)||"#",target:"_blank",rel:"noreferrer",className:`social-icon facebook ${(C=p.socials)!=null&&C.facebook?"":"unlinked"}`,title:"Facebook",children:s.jsx("span",{className:"icon",children:"f"})}),s.jsx("a",{href:(($=p.socials)==null?void 0:$.twitter)||"#",target:"_blank",rel:"noreferrer",className:`social-icon twitter ${(U=p.socials)!=null&&U.twitter?"":"unlinked"}`,title:"Twitter",children:s.jsx("span",{className:"icon",children:""})})]})]})]}),s.jsx(Va,{src:h,alt:p.name,isOpen:c,onClose:()=>u(!1)}),s.jsxs("div",{className:"character-content-grid",children:[s.jsxs("div",{className:"character-main-content",children:[s.jsxs("div",{className:"about-member-section",children:[s.jsx("p",{className:"character-full-bio",children:p.bio}),s.jsxs("div",{className:"character-meta",children:[s.jsx("span",{className:"joined-label",children:"Dreaming Since"}),s.jsx("span",{className:"joined-date",children:p.joineddate||p.joinedDate})]})]}),g&&s.jsx("div",{className:"path-member-section",children:s.jsx("p",{children:g.description})})]}),s.jsx("div",{className:"character-sidebar"})]})]})]})}function ex(){const{roles:i,loading:r}=ut(),[n,o]=S.useState(!1),[c,u]=S.useState("");if(r)return s.jsx("div",{className:"loading-state",children:"Syncing Roles with DreamWorld..."});const h=m=>{m&&(u(m),o(!0))};return s.jsx("div",{className:"roles page",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"roles-hero",children:s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"roles-logo"})}),s.jsx(wr,{title:"Character Roles",subtitle:"Discover the different paths and philosophies in DreamWorld"}),s.jsx(Va,{src:c,alt:"Role Icon",isOpen:n,onClose:()=>o(!1)}),s.jsx("div",{className:"roles-grid",children:i.map(m=>s.jsx(je,{to:`/roles/${m.id}`,className:"role-link",onClick:()=>{},children:s.jsxs(ve,{children:[s.jsx(Yt,{src:m.image,name:m.singular,className:"role-icon",style:{background:m.color},onClick:p=>{m.image&&(p.preventDefault(),p.stopPropagation(),h(m.image))}}),s.jsx("h3",{children:m.name}),s.jsx("p",{className:"role-description",children:m.description}),s.jsxs("div",{className:"role-traits",children:[s.jsx("h4",{children:"Core Traits"}),s.jsx("ul",{children:m.traits.slice(0,3).map((p,g)=>s.jsx("li",{children:p},g))})]}),s.jsx("div",{className:"role-cta",children:"Explore this role "})]})},m.id))})]})})}function tx(){const{id:i}=ac(),{roles:r,characters:n,loading:o}=ut(),[c,u]=S.useState(!1),[h,m]=S.useState("");if(o)return s.jsx("div",{className:"loading-state",children:"Syncing Role Path..."});const p=r.find(x=>x.id===i),g=n.filter(x=>x.role===i),w=x=>{x&&(m(x),u(!0))};return p?s.jsx("div",{className:"role-detail page",children:s.jsxs("div",{className:"container",children:[s.jsx(je,{to:"/roles",className:"back-link",children:" Back to Roles"}),s.jsxs("div",{className:"role-hero",children:[s.jsx(Yt,{src:p.image,name:p.singular,className:"role-icon-large",style:{background:p.color,cursor:p.image?"zoom-in":"default"},onClick:()=>w(p.image)}),s.jsxs("div",{className:"role-header",children:[s.jsx("h1",{children:p.name}),s.jsx("p",{className:"role-description-large",children:p.description})]})]}),s.jsx(Va,{src:h,alt:p.singular,isOpen:c,onClose:()=>u(!1)}),s.jsxs("div",{className:"role-content",children:[s.jsxs(ve,{hover:!1,children:[s.jsx("h2",{children:"Philosophy"}),s.jsx("p",{className:"role-philosophy",children:p.philosophy})]}),s.jsxs(ve,{hover:!1,children:[s.jsx("h2",{children:"Core Traits & Skills"}),s.jsx("div",{className:"traits-grid",children:p.traits.map((x,j)=>s.jsxs("div",{className:"trait-item",children:[s.jsx("span",{className:"trait-icon",children:""}),s.jsx("span",{children:x})]},j))})]}),s.jsx(wr,{title:`Meet Our ${p.name}`,subtitle:`${g.length} member${g.length!==1?"s":""} contributing to this path`}),s.jsx("div",{className:"members-grid",children:g.map(x=>s.jsx(je,{to:`/characters/${x.id}`,className:"member-link",children:s.jsxs(ve,{children:[s.jsx(Yt,{src:x.avatar,name:x.name,className:"member-photo",onClick:j=>{j.preventDefault(),w(x.avatar)}}),s.jsx("h3",{children:x.name}),s.jsx("p",{className:"member-title",children:x.title}),s.jsx("p",{className:"member-bio",children:x.bio}),s.jsx("div",{className:"member-cta",children:"View profile "})]})},x.id))})]})]})}):s.jsx("div",{className:"role-detail page",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{children:"Role not found"}),s.jsx(je,{to:"/roles",children:s.jsx(Ne,{children:"Back to Roles"})})]})})}function rx(){const{quests:i,roles:r,characters:n}=ut();return s.jsx("div",{className:"creator-page page",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"page-hero",children:s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"page-logo"})}),s.jsxs("div",{className:"creator-container",children:[s.jsxs("div",{className:"creator-header",children:[s.jsx("img",{src:"/Creator.png",alt:"Creator Avatar",className:"creator-avatar"}),s.jsxs("div",{className:"creator-intro",children:[s.jsx("h1",{children:"Justice Konjengbam"}),s.jsx("p",{className:"title",children:"Creator of DreamWorld"}),s.jsx("p",{className:"bio",children:"Building DreamWorldwhere technology meets nature, and every quest brings us closer to the world we dream of creating."})]})]}),s.jsxs("div",{className:"creator-section",children:[s.jsx("h2",{children:"About Me"}),s.jsx("p",{children:"I am Justice  the Creator of DreamWorld. I opened this universe as a portal for curious minds: a place where we learn, build, and grow together through weekly quests that turn small actions into real impact. Step in, choose your role, and lets make the world better            "}),s.jsx("p",{children:"I believe in learning by doing, sharing the journey as I build, and shaping communities where everyone rises together. DreamWorld blends my love of technology and storytelling into a space where knowledge feels welcoming, practical, and open to all.            "})]}),s.jsxs("div",{className:"creator-section",children:[s.jsx("h2",{children:"What I'm Building"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Weekly quest system that makes learning fun and practical"}),s.jsx("li",{children:"Character guides inspired by real practices and wisdom"}),s.jsx("li",{children:"Community space for dreamers and doers"}),s.jsx("li",{children:"Tools that blend technology with sustainable living"})]})]}),s.jsxs("div",{className:"creator-section",children:[s.jsx("h2",{children:"My Journey"}),s.jsx("p",{children:"DreamWorld started as a simple idea: what if we could gamify personal growth in a way that actually matters? Not just points and badges, but real skills, real connections, and real change in the world."}),s.jsx("p",{children:"Every week, I craft new quests, design characters, and build features that bring this vision to life. It's a learning journey for me tooI'm growing alongside everyone who joins this world."})]}),s.jsxs("div",{className:"creator-section",children:[s.jsx("h2",{children:"Connect With Me"}),s.jsxs("div",{className:"social-links",children:[s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Email"})]}),s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Youtube"})]}),s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"LinkedIn"})]}),s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"GitHub"})]}),s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Twitter"})]})]})]}),s.jsxs("div",{className:"creator-section",children:[s.jsx("h2",{children:"DreamWorld Stats"}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-value",children:i.length}),s.jsx("span",{className:"stat-label",children:"Quests"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-value",children:r.length}),s.jsx("span",{className:"stat-label",children:"Roles"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-value",children:n.length}),s.jsx("span",{className:"stat-label",children:"Dreamers"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-value",children:""}),s.jsx("span",{className:"stat-label",children:"Possibilities"})]})]})]})]})]})})}function xf({isOpen:i,onClose:r,children:n,title:o}){return S.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),i?s.jsx("div",{className:"modal-overlay",onClick:r,children:s.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:o}),s.jsx("button",{className:"modal-close",onClick:r,children:""})]}),s.jsx("div",{className:"modal-body",children:n})]})}):null}function nx(){const{quests:i,loading:r}=ut(),n=ms(),[o,c]=S.useState(null),[u,h]=S.useState(""),[m,p]=S.useState("all");if(r)return s.jsx("div",{className:"loading-state",children:"Syncing Quests with DreamWorld..."});const g=x=>({easy:"easy",medium:"medium",hard:"hard"})[x]||"default",w=i.filter(x=>{const j=x.title.toLowerCase().includes(u.toLowerCase())||x.purpose.toLowerCase().includes(u.toLowerCase()),N=m==="all"||x.difficulty.toLowerCase()===m;return j&&N});return s.jsx("div",{className:"quests page",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"page-hero",children:s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"page-logo"})}),s.jsx(wr,{title:"Weekly Quests",subtitle:"Small actions, big impact. Choose a quest and start building better habits today."}),s.jsxs("div",{className:"quests-filter-bar",children:[s.jsxs("div",{className:"search-wrapper",children:[s.jsx("span",{className:"search-icon",children:""}),s.jsx("input",{type:"text",placeholder:"Search quests...",value:u,onChange:x=>h(x.target.value),className:"quest-search-input"})]}),s.jsxs("div",{className:"filter-buttons",children:[s.jsx("button",{className:`filter-btn ${m==="all"?"active":""}`,onClick:()=>p("all"),children:"All"}),s.jsx("button",{className:`filter-btn ${m==="easy"?"active":""}`,onClick:()=>p("easy"),children:"Easy"}),s.jsx("button",{className:`filter-btn ${m==="medium"?"active":""}`,onClick:()=>p("medium"),children:"Medium"}),s.jsx("button",{className:`filter-btn ${m==="hard"?"active":""}`,onClick:()=>p("hard"),children:"Hard"})]})]}),s.jsx("div",{className:"quests-grid",children:w.length>0?w.map(x=>s.jsxs(ve,{children:[s.jsxs("div",{className:"quest-header",children:[s.jsx("h3",{children:x.title}),s.jsx(Nt,{variant:g(x.difficulty),children:x.difficulty})]}),s.jsx("p",{className:"quest-purpose",children:x.purpose}),parseFloat(x.amountNeeded)>0&&s.jsxs("div",{className:"quest-funding-progress",children:[s.jsxs("div",{className:"funding-stats",children:[s.jsxs("span",{children:["",x.amountRaised||0," raised"]}),s.jsxs("span",{children:["Goal: ",x.amountNeeded]})]}),s.jsx("div",{className:"funding-bar",children:s.jsx("div",{className:"funding-fill",style:{width:`${Math.min(parseFloat(x.amountRaised||0)/parseFloat(x.amountNeeded)*100,100)}%`}})})]}),s.jsx("div",{className:"quest-meta",children:s.jsxs("span",{className:"quest-time",children:[" ",x.timeNeeded]})}),s.jsx("button",{className:"quest-details-btn",onClick:()=>c(x),children:"View Quest Details"})]},x.id)):s.jsxs("div",{className:"no-results",children:[s.jsx("h3",{children:"No quests found"}),s.jsx("p",{children:"Try adjusting your search or filters to find new adventures."}),s.jsx("button",{className:"reset-btn",onClick:()=>{h(""),p("all")},children:"Clear Filters"})]})}),s.jsx(xf,{isOpen:o!==null,onClose:()=>c(null),title:o==null?void 0:o.title,children:o&&s.jsxs("div",{className:"quest-modal-content",children:[s.jsxs("div",{className:"quest-modal-header",children:[s.jsx(Nt,{variant:g(o.difficulty),children:o.difficulty}),s.jsxs("span",{className:"quest-time",children:[" ",o.timeNeeded]})]}),parseFloat(o.amountNeeded)>0&&s.jsx("div",{className:"quest-modal-funding",children:s.jsxs("div",{className:"funding-progress-large",children:[s.jsxs("div",{className:"stats",children:[s.jsxs("strong",{children:["",o.amountRaised||0]})," raised of ",s.jsxs("strong",{children:["",o.amountNeeded]})," goal"]}),s.jsx("div",{className:"bar-large",children:s.jsx("div",{className:"fill-large",style:{width:`${Math.min(parseFloat(o.amountRaised||0)/parseFloat(o.amountNeeded)*100,100)}%`}})}),s.jsx("p",{className:"funding-status-text",children:o.fundingStatus==="completed"?" This quest is fully funded!":"This quest needs your support to launch!"}),o.fundingStatus!=="completed"&&s.jsx(Ne,{variant:"secondary",onClick:()=>n(`/funders?type=quest&id=${o.id}`),children:" Support This Goal"})]})}),s.jsxs("div",{className:"quest-section",children:[s.jsx("h4",{children:"Purpose"}),s.jsx("p",{children:o.purpose})]}),s.jsxs("div",{className:"quest-section",children:[s.jsx("h4",{children:"Steps to Complete"}),s.jsx("ol",{className:"quest-steps",children:o.steps.map((x,j)=>s.jsx("li",{children:x},j))})]}),s.jsxs("div",{className:"quest-section",children:[s.jsx("h4",{children:"Impact"}),s.jsx("p",{children:o.impact})]}),s.jsxs("div",{className:"quest-share",children:[s.jsx("h4",{children:"Share Your Journey"}),s.jsx("p",{children:o.sharePrompt})]})]})})]})})}function sx(){const{events:i,loading:r}=ut(),n=ms(),[o,c]=S.useState(null);if(r)return s.jsx("div",{className:"loading-state",children:"Syncing Events with DreamWorld..."});const u=h=>{if(!h)return"TBA";const m=new Date(h);return isNaN(m.getTime())?h:m.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return s.jsx("div",{className:"events page",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"page-hero",children:s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"page-logo"})}),s.jsx(wr,{title:"Upcoming Events",subtitle:"Join live sessions, workshops, and community gatherings"}),s.jsx("div",{className:"events-list",children:i.map(h=>s.jsxs(ve,{className:"event-card",children:[s.jsxs("div",{className:"event-header",children:[s.jsxs("div",{children:[s.jsx("h3",{children:h.title}),s.jsxs("p",{className:"event-host",children:["Hosted by ",h.host]})]}),s.jsx(Nt,{variant:h.type==="online"?"default":"medium",children:h.type})]}),s.jsxs("div",{className:"event-meta",children:[s.jsxs("div",{className:"event-meta-item",children:[s.jsx("span",{className:"meta-icon",children:""}),s.jsx("span",{children:u(h.date)})]}),s.jsxs("div",{className:"event-meta-item",children:[s.jsx("span",{className:"meta-icon",children:""}),s.jsx("span",{children:h.location})]})]}),s.jsx("p",{className:"event-description",children:h.description}),parseFloat(h.amountNeeded)>0&&s.jsxs("div",{className:"event-funding-progress",children:[s.jsxs("div",{className:"funding-stats",children:[s.jsxs("span",{children:["",h.amountRaised||0," raised"]}),s.jsxs("span",{children:["Goal: ",h.amountNeeded]})]}),s.jsx("div",{className:"funding-bar",children:s.jsx("div",{className:"funding-fill",style:{width:`${Math.min(parseFloat(h.amountRaised||0)/parseFloat(h.amountNeeded)*100,100)}%`}})})]}),s.jsx("div",{className:"event-actions",children:s.jsx(Ne,{variant:"ghost",onClick:()=>c(h),children:"Learn More"})})]},h.id))}),s.jsx(xf,{isOpen:o!==null,onClose:()=>c(null),title:o==null?void 0:o.title,children:o&&s.jsxs("div",{className:"event-modal-content",children:[s.jsxs("div",{className:"event-modal-meta",children:[s.jsx(Nt,{variant:o.type==="online"?"default":"medium",children:o.type}),s.jsxs("p",{className:"modal-host",children:["Hosted by ",o.host]})]}),parseFloat(o.amountNeeded)>0&&s.jsx("div",{className:"event-modal-funding",children:s.jsxs("div",{className:"funding-progress-large",children:[s.jsxs("div",{className:"stats",children:[s.jsxs("strong",{children:["",o.amountRaised||0]})," raised of ",s.jsxs("strong",{children:["",o.amountNeeded]})," goal"]}),s.jsx("div",{className:"bar-large",children:s.jsx("div",{className:"fill-large",style:{width:`${Math.min(parseFloat(o.amountRaised||0)/parseFloat(o.amountNeeded)*100,100)}%`}})}),s.jsx("p",{className:"funding-status-text",children:o.fundingStatus==="completed"?" This event is fully funded!":"Funds will be used for venue, materials, and snacks."}),o.fundingStatus!=="completed"&&s.jsx(Ne,{variant:"secondary",onClick:()=>n(`/funders?type=event&id=${o.id}`),children:" Support This Goal"})]})}),s.jsxs("div",{className:"event-detail-section",children:[s.jsx("h4",{children:"When"}),s.jsx("p",{children:u(o.date)})]}),s.jsxs("div",{className:"event-detail-section",children:[s.jsx("h4",{children:"Where"}),s.jsx("p",{children:o.location})]}),s.jsxs("div",{className:"event-detail-section",children:[s.jsx("h4",{children:"About This Event"}),s.jsx("p",{children:o.description})]})]})})]})})}function ix(){var x;const{submitDreamerApplication:i,roles:r}=ut(),[n,o]=S.useState({name:"",email:"",phone:"",age:"",gender:"",role:"",otherRole:"",reason:"",roleReason:""}),[c,u]=S.useState({}),[h,m]=S.useState(!1),p=j=>{const{name:N,value:b}=j.target;o(R=>({...R,[N]:b})),c[N]&&u(R=>({...R,[N]:""}))},g=()=>{const j={};return n.name.trim()||(j.name="Name is required"),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(j.email="Please enter a valid email"):j.email="Email is required",n.age||(j.age="Age is required"),n.gender||(j.gender="Gender is required"),n.phone.trim()||(j.phone="Phone number is required"),!n.role&&!n.otherRole.trim()&&(j.role="Please select a role or propose a new one"),n.reason.trim()||(j.reason="Please tell us why you want to join"),!n.roleReason.trim()&&!n.otherRole.trim()&&(j.roleReason="Please tell us why you chose this role"),j},w=async j=>{j.preventDefault();const N=localStorage.getItem("dreamworld_last_submission");if(N){const R=Date.now()-parseInt(N),C=1440*60*1e3;if(R<C){alert(" The Council requires patience. You have already sent a petition recently. Please wait for the decree.");return}}const b=g();if(Object.keys(b).length>0){u(b);return}try{await i(n),localStorage.setItem("dreamworld_last_submission",Date.now().toString()),m(!0),setTimeout(()=>{o({name:"",email:"",phone:"",age:"",gender:"",role:"",otherRole:"",reason:"",roleReason:""}),m(!1)},6e3)}catch(R){alert("Failed to submit application: "+R.message)}};return s.jsx("div",{className:"join page",children:s.jsxs("div",{className:"container",children:[s.jsx(wr,{title:"Join DreamWorld",subtitle:"Apply to become a Dreamer and bring your character to life."}),s.jsxs("div",{className:"join-section",children:[s.jsx("h2",{className:"section-title",children:" Become a Dreamer"}),s.jsx("p",{className:"section-description",children:"Choose your role and become a Dreamer with a character in DreamWorld."}),s.jsxs("div",{className:"join-content",children:[s.jsx(ve,{className:"join-form-card",children:h?s.jsxs("div",{className:"success-message",children:[s.jsx("div",{className:"success-icon",children:""}),s.jsx("h3",{children:"Application Submitted"}),s.jsxs("p",{children:["Your petition to join as a ",s.jsx("strong",{children:r&&((x=r.find(j=>j.id===n.role))==null?void 0:x.singular)||"Dreamer"})," has been inscribed in the Archives."]}),s.jsx("p",{children:"The Council shall review your request with great care."}),s.jsx("p",{className:"success-note",children:"Await a formal decree via Email or WhatsApp regarding your acceptance into the DreamWorld."})]}):s.jsxs("form",{onSubmit:w,className:"join-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-name",children:"Full Name *"}),s.jsx("input",{type:"text",id:"dreamer-name",name:"name",value:n.name,onChange:p,className:c.name?"error":"",placeholder:"Enter your full name"}),c.name&&s.jsx("span",{className:"error-message",children:c.name})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-email",children:"Email Address *"}),s.jsx("input",{type:"email",id:"dreamer-email",name:"email",value:n.email,onChange:p,className:c.email?"error":"",placeholder:"your.email@example.com"}),c.email&&s.jsx("span",{className:"error-message",children:c.email})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-age",children:"Age *"}),s.jsx("input",{type:"number",id:"dreamer-age",name:"age",value:n.age,onChange:p,className:c.age?"error":"",placeholder:"Age"}),c.age&&s.jsx("span",{className:"error-message",children:c.age})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-gender",children:"Gender *"}),s.jsxs("select",{id:"dreamer-gender",name:"gender",value:n.gender,onChange:p,className:c.gender?"error":"",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"})]}),c.gender&&s.jsx("span",{className:"error-message",children:c.gender})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-phone",children:"Phone Number *"}),s.jsx("input",{type:"tel",id:"dreamer-phone",name:"phone",value:n.phone,onChange:p,className:c.phone?"error":"",placeholder:"+91 1234567890"}),c.phone&&s.jsx("span",{className:"error-message",children:c.phone})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-role",children:"Choose Your Role (Optional if suggesting new)"}),s.jsxs("select",{id:"dreamer-role",name:"role",value:n.role,onChange:p,className:c.role?"error":"",children:[s.jsx("option",{value:"",children:"Select a role..."}),r.filter(j=>j.is_exclusive!==!0&&j.is_exclusive!=="true").map(j=>s.jsxs("option",{value:j.id,children:[j.singular," - ",j.description.substring(0,50),"..."]},j.id))]}),c.role&&s.jsx("span",{className:"error-message",children:c.role})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-reason",children:"Why do you want to become a Dreamer? *"}),s.jsx("textarea",{id:"dreamer-reason",name:"reason",value:n.reason,onChange:p,className:c.reason?"error":"",placeholder:"Share your motivation...",rows:"3",style:{padding:"12px 16px",background:"rgba(26, 31, 53, 0.8)",border:"1px solid rgba(76, 161, 175, 0.3)",borderRadius:"8px",color:"white"}}),c.reason&&s.jsx("span",{className:"error-message",children:c.reason})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-roleReason",children:"Why did you choose this role? (Required if selected)"}),s.jsx("textarea",{id:"dreamer-roleReason",name:"roleReason",value:n.roleReason,onChange:p,className:c.roleReason?"error":"",placeholder:"What draws you to this specific path?",rows:"3",style:{padding:"12px 16px",background:"rgba(26, 31, 53, 0.8)",border:"1px solid rgba(76, 161, 175, 0.3)",borderRadius:"8px",color:"white"}}),c.roleReason&&s.jsx("span",{className:"error-message",children:c.roleReason})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"dreamer-otherRole",children:"Have another role in mind? (Optional)"}),s.jsx("input",{type:"text",id:"dreamer-otherRole",name:"otherRole",value:n.otherRole,onChange:p,placeholder:"If you have an idea for a role not listed..."})]}),s.jsx(Ne,{type:"submit",variant:"primary",children:"Become a Dreamer"})]})}),s.jsxs(ve,{className:"guidelines-card",children:[s.jsx("h3",{children:"What is a Dreamer?"}),s.jsxs("div",{className:"guideline",children:[s.jsx("h4",{children:" Character Role"}),s.jsx("p",{children:"Represent your chosen role and contribute unique content to DreamWorld."})]}),s.jsxs("div",{className:"guideline",children:[s.jsx("h4",{children:" Social Media"}),s.jsx("p",{children:"Manage character accounts and share your journey with the community."})]}),s.jsxs("div",{className:"guideline",children:[s.jsx("h4",{children:" Lead Quests"}),s.jsx("p",{children:"Design and guide quests related to your role's expertise."})]}),s.jsxs("div",{className:"guideline",children:[s.jsx("h4",{children:" Build the Dream"}),s.jsx("p",{children:"Help shape the DreamWorld universe through your unique perspective."})]})]})]})]})]})})}function ax(){const{submitDonation:i,sponsorships:r}=ut(),[n,o]=S.useState({name:"",displayName:"",email:"",amount:"",type:"one-time",showPublicly:!0,message:"",paymentMethod:"upi",upiId:"",sponsorshipType:"general",sponsorshipId:"",sponsorshipMessage:""}),[c,u]=S.useState(!1),[h]=Jg();S.useEffect(()=>{const b=h.get("type"),R=h.get("id");if(b&&R&&r.length>0){const C=r.find($=>$.id===R&&$.type===b);C&&(o($=>({...$,sponsorshipType:b,sponsorshipId:R,sponsorshipMessage:`Supporting: ${C.name||C.title}`,type:"one-time"})),setTimeout(()=>{var $;($=document.querySelector(".donation-section"))==null||$.scrollIntoView({behavior:"smooth"})},300))}},[h,r]);const m=(r||[]).filter(b=>b.fundingStatus==="active"&&b.type==="quest"),p=(r||[]).filter(b=>b.fundingStatus==="active"&&b.type==="event"),g=(r||[]).filter(b=>b.fundingStatus==="completed"),w=b=>{const{name:R,value:C,type:$,checked:U}=b.target;if(R==="type"&&C==="monthly"){o(P=>({...P,[R]:C,amount:"399"}));return}o(P=>({...P,[R]:$==="checkbox"?U:C}))},[x,j]=S.useState(!1),N=async b=>{b.preventDefault(),j(!0);const R="rzp_live_S7FFuBhjXTnC9B";try{if(n.type==="monthly"){const $="plan_S7U1D7rfpNBbuy",U=await fetch("/api/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:$,customerName:n.name,customerEmail:n.email})}),P=await U.json();if(!U.ok)throw new Error(P.error||"Check if RAZORPAY_SECRET is added to Vercel/Env");const Q={key:R,subscription_id:P.subscriptionId,name:"DreamWorld",description:"Monthly Support Subscription",image:"/logo.png",handler:function(H){i({...n,message:`[SUB_ID: ${H.razorpay_subscription_id}] ${n.message}`,status:"success",paymentMethod:n.paymentMethod,transactionId:H.razorpay_subscription_id}),u(!0)},prefill:{name:n.name,email:n.email},theme:{color:"#4CA1AF"},modal:{ondismiss:function(){i({...n,status:"failed",paymentMethod:n.paymentMethod,transactionId:"",message:"Payment cancelled by user"}).catch(H=>console.error("Failed to log cancellation",H)),j(!1)}}};new window.Razorpay(Q).open(),j(!1);return}const C={key:R,amount:n.amount*100,currency:"INR",name:"DreamWorld",description:"Support Contribution",image:"/logo.png",handler:function($){i({...n,status:"success",paymentMethod:n.paymentMethod,transactionId:$.razorpay_payment_id}).catch(U=>console.error("Failed to log donation",U)),u(!0),setTimeout(()=>{o({name:"",displayName:"",email:"",amount:"",message:"",type:"one-time",showPublicly:!0,paymentMethod:"upi",upiId:""}),u(!1)},5e3)},prefill:{name:n.name,email:n.email,method:n.paymentMethod==="upi"||n.paymentMethod==="gpay"?"upi":"card"},notes:{contribution_type:n.type,display_name:n.displayName||n.name,message:n.message},theme:{color:"#4CA1AF"},modal:{ondismiss:function(){i({...n,status:"failed",paymentMethod:n.paymentMethod,transactionId:"",message:"Payment cancelled by user"}).catch($=>console.error("Failed to log cancellation",$)),j(!1)}}};n.paymentMethod==="upi"&&n.upiId&&(C.prefill.vpa=n.upiId),window.Razorpay?new window.Razorpay(C).open():alert("Razorpay SDK failed to load.")}catch(C){console.error("Payment Error:",C),i({...n,status:"failed",paymentMethod:n.paymentMethod,transactionId:"",message:`Error: ${C.message}`}).catch($=>console.error("Failed to log error",$)),alert(" Payment Initialization Failed: "+C.message+`

(Ask Antigravity if you need help with the Secret Key!)`)}finally{j(!1)}};return s.jsx("div",{className:"funders page",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"page-hero",children:s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"page-logo"})}),s.jsx(wr,{title:"Power the Dream Together",subtitle:"Every contribution creates real impact in our community"}),s.jsx("div",{className:"impact-mission",children:s.jsxs("div",{className:"sponsorship-opportunities",children:[s.jsx("h2",{className:"section-title",children:" Active Sponsorships"}),m.length>0||p.length>0?s.jsx("div",{className:"opportunities-grid",children:[...m,...p].map(b=>s.jsxs(ve,{className:"opportunity-card",children:[s.jsxs("div",{className:"opp-header",children:[s.jsx("span",{className:"opp-type",children:b.type==="quest"?" Quest":" Event"}),s.jsx("h3",{children:b.name||b.title})]}),s.jsx("p",{className:"opp-desc",children:b.description||b.purpose}),s.jsxs("div",{className:"opp-funding",children:[s.jsxs("div",{className:"opp-stats",children:[s.jsxs("span",{children:["",b.amountRaised||0," raised"]}),s.jsxs("span",{children:["Goal: ",b.amountNeeded]})]}),s.jsx("div",{className:"opp-bar",children:s.jsx("div",{className:"opp-fill",style:{width:`${Math.min(parseFloat(b.amountRaised||0)/parseFloat(b.amountNeeded)*100,100)}%`}})})]}),s.jsx(Ne,{variant:"secondary",onClick:()=>{o(R=>({...R,sponsorshipType:b.type,sponsorshipId:b.id,sponsorshipMessage:`Supporting: ${b.name||b.title}`})),document.querySelector(".donation-section").scrollIntoView({behavior:"smooth"})},children:" Support This Goal"})]},b.id))}):s.jsx("p",{className:"no-opps",children:"No active sponsorship goals at the moment. General donations still help us grow!"})]})}),s.jsxs("div",{className:"donation-section",children:[s.jsx("h2",{className:"section-title",children:" Make an Impact"}),s.jsx(ve,{hover:!1,className:"donation-form-card",children:c?s.jsxs("div",{className:"success-message",children:[s.jsx("div",{className:"success-icon",children:""}),s.jsx("h3",{children:"Thank You for Your Impact!"}),s.jsxs("p",{children:[n.name,", you're now part of the community building DreamWorld. Your ",n.type==="monthly"?"Auto Pay subscription":"contribution"," via ",n.paymentMethod.toUpperCase()," will help create real opportunities for learning and growth!"]}),n.sponsorshipId&&s.jsxs("p",{className:"sponsorship-thanks",children:["Your contribution has been directed to: ",s.jsx("strong",{children:n.sponsorshipMessage})]})]}):s.jsxs("form",{onSubmit:N,className:"donation-form",children:[n.sponsorshipId&&s.jsxs("div",{className:"selected-sponsorship-badge animate-fade",children:[s.jsxs("span",{children:[" Sponsoring: ",s.jsx("strong",{children:n.sponsorshipMessage})]}),s.jsx("button",{type:"button",onClick:()=>o(b=>({...b,sponsorshipId:"",sponsorshipType:"general",sponsorshipMessage:""})),children:""})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"name",children:"Your Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:w,required:!0,placeholder:"Enter your name"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:w,required:!0,placeholder:"your@email.com"})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"amount",children:n.type==="monthly"?"Fixed Subscription Amount (INR)":"Amount (INR)"}),s.jsx("input",{type:"number",id:"amount",name:"amount",value:n.amount,onChange:w,required:n.type!=="monthly",disabled:n.type==="monthly",min:"1",placeholder:n.type==="monthly"?"399":"Any amount helps",style:n.type==="monthly"?{opacity:.7,cursor:"not-allowed",background:"rgba(255,215,0,0.1)",borderColor:"var(--color-gold)"}:{}}),n.type==="monthly"&&s.jsx("small",{style:{color:"var(--color-gold)",marginTop:"4px",fontSize:"0.75rem"},children:" Price is locked to 399/mo by your selected plan."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"type",children:"Contribution Schedule"}),s.jsxs("select",{id:"type",name:"type",value:n.type,onChange:w,children:[s.jsx("option",{value:"one-time",children:"One-Time Support"}),!n.sponsorshipId&&s.jsx("option",{value:"monthly",children:"Auto Pay (399 Monthly)"})]})]})]}),s.jsxs("div",{className:"payment-method-section",children:[s.jsx("label",{className:"section-label",children:"Select Payment Method"}),s.jsxs("div",{className:"payment-methods-grid",children:[s.jsxs("div",{className:`payment-method-card ${n.paymentMethod==="upi"?"active":""}`,onClick:()=>o(b=>({...b,paymentMethod:"upi"})),children:[s.jsx("div",{className:"method-icon",children:""}),s.jsx("div",{className:"method-name",children:"UPI"}),s.jsx("div",{className:"method-sub",children:"PhonePe, GPay, etc."})]}),s.jsxs("div",{className:`payment-method-card ${n.paymentMethod==="gpay"?"active":""}`,onClick:()=>o(b=>({...b,paymentMethod:"gpay"})),children:[s.jsx("div",{className:"method-icon",children:""}),s.jsx("div",{className:"method-name",children:"Google Pay"}),s.jsx("div",{className:"method-sub",children:"Fast & Secure"})]}),s.jsxs("div",{className:`payment-method-card ${n.paymentMethod==="card"?"active":""}`,onClick:()=>o(b=>({...b,paymentMethod:"card"})),children:[s.jsx("div",{className:"method-icon",children:""}),s.jsx("div",{className:"method-name",children:"Credit/Debit"}),s.jsx("div",{className:"method-sub",children:"All major cards"})]})]}),n.paymentMethod==="upi"&&s.jsxs("div",{className:"form-group-full upi-input-field",children:[s.jsx("label",{htmlFor:"upiId",children:"Your UPI ID"}),s.jsx("input",{type:"text",id:"upiId",name:"upiId",value:n.upiId,onChange:w,required:!0,placeholder:"username@bank"})]}),n.paymentMethod==="gpay"&&s.jsxs("div",{className:"gpay-container",children:[s.jsx("div",{className:"gpay-simulated-button clickable",onClick:N,children:s.jsx("span",{className:"gpay-logo",children:"Pay with Google Pay"})}),s.jsx("p",{className:"gpay-infoText",children:"Razorpay will open to securely process your GPay request."})]})]}),!n.sponsorshipId&&n.type==="one-time"&&s.jsxs("div",{className:"form-group-full sponsorship-select-inline animate-fade",children:[s.jsx("label",{children:"Direct my donation to:"}),s.jsxs("select",{value:n.sponsorshipId,onChange:b=>{const R=b.target.value;if(!R){o($=>({...$,sponsorshipId:"",sponsorshipType:"general"}));return}const C=r.find($=>$.id===R);o($=>({...$,sponsorshipId:R,sponsorshipType:C.type,sponsorshipMessage:`Supporting: ${C.name||C.title}`,type:"one-time"}))},children:[s.jsx("option",{value:"",children:"General Growth Fund (Default)"}),m.length>0&&s.jsx("optgroup",{label:"Quests",children:m.map(b=>s.jsx("option",{value:b.id,children:b.name||b.title},b.id))}),p.length>0&&s.jsx("optgroup",{label:"Events",children:p.map(b=>s.jsx("option",{value:b.id,children:b.name||b.title},b.id))})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{htmlFor:"displayName",children:"Display Name (if shown publicly)"}),s.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:w,placeholder:"Leave blank to use your name, or enter 'Anonymous'"})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{htmlFor:"message",children:"Message (Optional)"}),s.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:w,rows:"2",placeholder:"Leave a message for the team...",style:{background:"rgba(26, 31, 53, 0.8)",border:"1px solid rgba(76, 161, 175, 0.3)",borderRadius:"8px",color:"white",padding:"12px",width:"100%"}})]}),s.jsxs("div",{className:"form-checkbox",children:[s.jsx("input",{type:"checkbox",id:"showPublicly",name:"showPublicly",checked:n.showPublicly,onChange:w}),s.jsx("label",{htmlFor:"showPublicly",children:"Show my name publicly to celebrate my contribution"})]}),s.jsx(Ne,{type:"submit",variant:"primary",disabled:x,children:x?" Processing...":n.paymentMethod==="gpay"?"Pay Now":"Continue to Payment"})]})})]}),g.length>0&&s.jsxs("div",{className:"completed-wall",children:[s.jsx("h2",{className:"section-title",children:" Goals Achieved"}),s.jsx("div",{className:"completed-grid",children:g.map(b=>s.jsxs(ve,{className:"completed-card",children:[s.jsx("div",{className:"completed-badge-top",children:"SUCCESS"}),s.jsx("h3",{children:b.name||b.title}),s.jsx("p",{className:"completion-impact",children:b.completionNote||"Fully funded and completed!"}),b.completionImages&&b.completionImages.length>0&&s.jsx("div",{className:"completion-gallery-mini",children:b.completionImages.slice(0,3).map((R,C)=>s.jsx("img",{src:R,alt:"Impact"},C))}),s.jsxs("div",{className:"completed-footer",children:[s.jsxs("span",{children:[b.type==="quest"?"":""," ",b.type.toUpperCase()]}),s.jsxs("span",{children:["",b.amountNeeded," RAISED"]})]})]},b.id))})]}),s.jsxs("div",{className:"other-ways",children:[s.jsx("h2",{className:"section-title",children:" Other Ways to Contribute"}),s.jsxs("div",{className:"ways-grid",children:[s.jsxs(ve,{className:"way-card",children:[s.jsx("div",{className:"way-icon",children:""}),s.jsx("h4",{children:"Spread the Word"}),s.jsx("p",{children:"Share DreamWorld with your community"})]}),s.jsxs(ve,{className:"way-card",children:[s.jsx("div",{className:"way-icon",children:""}),s.jsx("h4",{children:"Build Together"}),s.jsx("p",{children:"Contribute code or design"})]}),s.jsxs(ve,{className:"way-card",children:[s.jsx("div",{className:"way-icon",children:""}),s.jsx("h4",{children:"Create Quests"}),s.jsx("p",{children:"Design challenges for others"})]}),s.jsxs(ve,{className:"way-card",children:[s.jsx("div",{className:"way-icon",children:""}),s.jsx("h4",{children:"Mentor & Guide"}),s.jsx("p",{children:"Share your knowledge"})]})]})]})]})})}function ox(){const{pathname:i}=ur();return S.useEffect(()=>{window.scrollTo(0,0)},[i]),S.useEffect(()=>{window.scrollTo(0,0)},[]),null}function lx(){const[i,r]=S.useState(""),[n,o]=S.useState(""),c=ms(),u=h=>{h.preventDefault(),i==="dreamworld2026"?(localStorage.setItem("dw_admin_token","logged_in_"+Date.now()),sessionStorage.setItem("dw_admin_pass",i),c("/admin/dashboard")):o("Invalid password. Please try again.")};return s.jsx("div",{className:"admin-login page",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"login-hero",children:s.jsx("img",{src:"/logo.png",alt:"DreamWorld Logo",className:"page-logo"})}),s.jsx("div",{className:"login-container",children:s.jsxs(ve,{className:"login-card",children:[s.jsx("h2",{children:"Admin Portal"}),s.jsx("p",{className:"login-subtitle",children:"Please enter your password to continue"}),s.jsxs("form",{onSubmit:u,className:"login-form",autoComplete:"off",children:[s.jsx("div",{className:"form-group",children:s.jsx("input",{type:"password",value:i,onChange:h=>r(h.target.value),placeholder:"Password",required:!0,autoFocus:!0,autoComplete:"new-password",name:"admin-password-field"})}),n&&s.jsx("p",{className:"login-error",children:n}),s.jsx(Ne,{type:"submit",variant:"primary",children:"Login"})]})]})})]})})}function as({onUploadComplete:i,label:r,defaultImage:n,folder:o="dreamworld"}){const[c,u]=S.useState(!1),[h,m]=S.useState(n),p=S.useRef(null);S.useEffect(()=>{m(n)},[n]);const g="dkaqsjodz",w="dreamworld_preset",x=async j=>{const N=j.target.files[0];if(!N)return;const b=new FileReader;b.onloadend=()=>m(b.result),b.readAsDataURL(N),u(!0);const R=new FormData;R.append("file",N),R.append("upload_preset",w),R.append("folder",o);try{const $=await(await fetch(`https://api.cloudinary.com/v1_1/${g}/image/upload`,{method:"POST",body:R})).json();$.secure_url?(i($.secure_url),m($.secure_url)):alert("Upload failed. Check your Cloudinary settings.")}catch(C){console.error("Upload Error:",C),alert("Error connecting to Cloudinary.")}finally{u(!1)}};return s.jsxs("div",{className:"image-upload-wrapper",children:[r&&s.jsx("label",{className:"upload-label",children:r}),s.jsxs("div",{className:"upload-container",children:[s.jsxs("div",{className:"preview-box",children:[h?s.jsx("img",{src:h,alt:"Preview",className:"upload-preview"}):s.jsx("div",{className:"preview-placeholder",children:"No Image"}),c&&s.jsx("div",{className:"upload-overlay",children:""})]}),s.jsxs("div",{className:"upload-actions",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:x,ref:p,style:{display:"none"}}),s.jsx(Ne,{type:"button",variant:"secondary",size:"small",onClick:()=>p.current.click(),disabled:c,children:c?"Uploading...":"Choose Photo"}),h&&!c&&s.jsx("p",{className:"upload-success",children:" Ready to save"})]})]})]})}const cx=({dreamer:i,onClose:r})=>{const{roles:n}=ut(),[o,c]=S.useState("2026"),[u,h]=S.useState("front"),m=n.find(N=>N.id===i.role)||{singular:i.role,image:"",description:""},p=i.bio||m.description||"A dedicated dreamer exploring the wonders of this world.",[g,w]=S.useState(p),x=()=>{window.print()},j=i.coverImage?{backgroundImage:`linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url(${i.coverImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:"#1a1f35"};return s.jsxs("div",{className:"printable-container preview-mode",children:[s.jsx("div",{className:"printable-content-scroll",children:u==="front"?s.jsxs("div",{className:"id-card-wrapper",children:[s.jsx("div",{className:"card-label",children:"Front Side Preview"}),s.jsxs("div",{className:"id-card front",style:j,children:[s.jsx("div",{className:"id-topbar",children:"DREAMWORLD ID"}),s.jsxs("div",{className:"id-main",children:[s.jsx("div",{className:"id-photo-section",children:s.jsx("div",{className:"id-photo-frame",children:s.jsx("img",{src:i.avatar||m.image||"/logo.png",alt:"Profile",className:"id-photo",onError:N=>{N.target.src="/logo.png"}})})}),s.jsxs("div",{className:"id-info-section",children:[s.jsxs("div",{className:"id-header",children:[s.jsx("div",{className:"id-brand",children:"DW ACCESS"}),s.jsx("div",{className:"id-name",children:i.name})]}),s.jsxs("div",{className:"id-body",children:[s.jsx("div",{className:"id-role-text",children:m.singular}),s.jsx("textarea",{className:"editable-bio-input",value:g,onChange:N=>w(N.target.value),rows:"3"})]})]})]}),s.jsxs("div",{className:"id-footer-strip",children:["VALID UNTIL ",s.jsx("input",{className:"editable-date",value:o,onChange:N=>c(N.target.value)})]})]})]}):s.jsxs("div",{className:"id-card-wrapper",children:[s.jsx("div",{className:"card-label",children:"Back Side Preview"}),s.jsx("div",{className:"id-card back",style:j,children:s.jsx("div",{className:"id-back-overlay",children:s.jsx("img",{src:m.image||"/logo.png",alt:"Role",className:"id-back-role-large"})})})]})}),s.jsxs("div",{className:"printable-toolbar",children:[s.jsx("button",{className:"toolbar-btn close-btn",onClick:r,children:" Close"}),s.jsxs("div",{className:"side-selectors",children:[s.jsx("button",{className:`side-btn ${u==="front"?"active":""}`,onClick:()=>h("front"),children:"Front Side"}),s.jsx("button",{className:`side-btn ${u==="back"?"active":""}`,onClick:()=>h("back"),children:"Back Side"})]}),s.jsx("button",{className:"toolbar-btn print-btn",onClick:x,children:" Print Active Side"})]})]})},ux=({dreamer:i,onClose:r})=>{const{roles:n}=ut(),[o,c]=S.useState("front"),u=n.find(j=>j.id===i.role)||{singular:i.role},[h,m]=S.useState(new Date().toLocaleDateString()),[p,g]=S.useState("The Creator"),w=()=>{window.print()},x=i.coverImage?{backgroundImage:`linear-gradient(rgba(10,14,26,0.85), rgba(10,14,26,0.85)), url(${i.coverImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:"#0a0e1a"};return s.jsxs("div",{className:"printable-container preview-mode",children:[s.jsx("div",{className:"printable-content-scroll",children:o==="front"?s.jsxs("div",{className:"certificate-wrapper",children:[s.jsx("div",{className:"card-label",children:"Front Side Preview"}),s.jsxs("div",{className:"certificate",style:x,children:[s.jsx("div",{className:"cert-corner top-left"}),s.jsx("div",{className:"cert-corner top-right"}),s.jsx("div",{className:"cert-corner bottom-left"}),s.jsx("div",{className:"cert-corner bottom-right"}),s.jsx("div",{className:"cert-top-role",children:s.jsx("img",{src:u.image||"/logo.png",alt:"Role"})}),s.jsx("div",{className:"cert-title",children:"DreamWorld"}),s.jsx("div",{className:"cert-subtitle",children:"Certificate of Citizenship"}),s.jsx("img",{src:i.avatar||"/logo.png",alt:"Dreamer",className:"cert-avatar"}),s.jsxs("div",{className:"cert-body-compact",children:[s.jsx("div",{className:"cert-text-line",children:"By the powers vested in the High Council, we hereby recognize and honor"}),s.jsx("span",{className:"cert-name",children:i.name}),s.jsx("div",{className:"cert-text-line",children:"for their dedication and spirit. They are officially inducted into the realm as"}),s.jsx("strong",{className:"cert-role-text",children:u.singular})]}),s.jsxs("div",{className:"cert-footer",children:[s.jsxs("div",{className:"sign-box",children:[s.jsx("div",{className:"sign-label-top",children:"Date of Issue"}),s.jsx("div",{className:"sign-line",children:s.jsx("input",{className:"editable-input",value:h,onChange:j=>m(j.target.value)})})]}),s.jsx("div",{className:"gold-seal",children:"DW"}),s.jsxs("div",{className:"sign-box",children:[s.jsx("div",{className:"sign-label-top",children:"Certified by"}),s.jsx("div",{className:"sign-line",children:s.jsx("input",{className:"editable-input",value:p,onChange:j=>g(j.target.value)})})]})]})]})]}):s.jsxs("div",{className:"certificate-wrapper",children:[s.jsx("div",{className:"card-label",children:"Back Side Preview"}),s.jsx("div",{className:"certificate back",style:x,children:s.jsx("div",{className:"cert-back-content",children:s.jsx("img",{src:u.image||"/logo.png",alt:"Role",className:"cert-back-role-img"})})})]})}),s.jsxs("div",{className:"printable-toolbar",children:[s.jsx("button",{className:"toolbar-btn close-btn",onClick:r,children:" Close"}),s.jsxs("div",{className:"side-selectors",children:[s.jsx("button",{className:`side-btn ${o==="front"?"active":""}`,onClick:()=>c("front"),children:"Front Side"}),s.jsx("button",{className:`side-btn ${o==="back"?"active":""}`,onClick:()=>c("back"),children:"Back Side"})]}),s.jsx("button",{className:"toolbar-btn print-btn",onClick:w,children:" Print Active Side"})]})]})},dx=({student:i,onClose:r})=>{const[n,o]=S.useState("2026"),[c,u]=S.useState("front"),[h,m]=S.useState(i.aim_in_life||"A young dreamer forging their destiny."),p=()=>window.print(),g=i.cover_image?{backgroundImage:`linear-gradient(rgba(0,0,0,0.65), rgba(0,0,0,0.65)), url(${i.cover_image})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:"linear-gradient(135deg, #0d1b3e, #1a3a5c)"};return s.jsxs("div",{className:"printable-container preview-mode",children:[s.jsx("div",{className:"printable-content-scroll",children:c==="front"?s.jsxs("div",{className:"id-card-wrapper",children:[s.jsx("div",{className:"card-label",children:"Front Side Preview"}),s.jsxs("div",{className:"id-card front",style:g,children:[s.jsx("div",{className:"id-topbar",style:{background:"linear-gradient(90deg, #1a3a5c, #2e6b9e)"},children:"DREAMWORLD ACADEMY  STUDENT ID"}),s.jsxs("div",{className:"id-main",children:[s.jsx("div",{className:"id-photo-section",children:s.jsx("div",{className:"id-photo-frame",style:{borderColor:"#4CA1AF"},children:s.jsx("img",{src:i.avatar||"/DreamWorldAcademy.png",alt:"Student",className:"id-photo",onError:w=>{w.target.src="/DreamWorldAcademy.png"}})})}),s.jsxs("div",{className:"id-info-section",children:[s.jsxs("div",{className:"id-header",children:[s.jsx("div",{className:"id-brand",style:{color:"#7ec8e3"},children:"ACADEMY"}),s.jsx("div",{className:"id-name",children:i.name})]}),s.jsxs("div",{className:"id-body",children:[s.jsxs("div",{className:"id-role-text",style:{color:"#a8d8ea"},children:[i.class,i.school_name?`  ${i.school_name}`:""]}),s.jsxs("div",{style:{fontSize:"0.7rem",color:"#ccc",margin:"4px 0"},children:[" ",i.favourite_colour," |  ",i.favourite_animal]}),s.jsx("textarea",{className:"editable-bio-input",value:h,onChange:w=>m(w.target.value),rows:"2",placeholder:"Dream / Aim..."})]})]})]}),s.jsxs("div",{className:"id-footer-strip",style:{background:"linear-gradient(90deg, #1a3a5c, #2e6b9e)"},children:["VALID UNTIL"," ",s.jsx("input",{className:"editable-date",value:n,onChange:w=>o(w.target.value)})," DreamWorld Academy"]})]})]}):s.jsxs("div",{className:"id-card-wrapper",children:[s.jsx("div",{className:"card-label",children:"Back Side Preview"}),s.jsx("div",{className:"id-card back",style:g,children:s.jsxs("div",{className:"id-back-overlay",children:[s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"Academy",className:"id-back-role-large",style:{opacity:.25}}),s.jsxs("div",{style:{position:"relative",zIndex:2,textAlign:"center",color:"white",padding:"20px"},children:[s.jsx("p",{style:{fontSize:"0.9rem",fontStyle:"italic",color:"#a8d8ea",marginBottom:"12px"},children:'"Every great dreamer was once a student who dared to imagine."'}),s.jsx("p",{style:{fontSize:"0.75rem",color:"#ccc"},children:"dreamworld.example.com"})]})]})})]})}),s.jsxs("div",{className:"printable-toolbar",children:[s.jsx("button",{className:"toolbar-btn close-btn",onClick:r,children:" Close"}),s.jsxs("div",{className:"side-selectors",children:[s.jsx("button",{className:`side-btn ${c==="front"?"active":""}`,onClick:()=>u("front"),children:"Front Side"}),s.jsx("button",{className:`side-btn ${c==="back"?"active":""}`,onClick:()=>u("back"),children:"Back Side"})]}),s.jsx("button",{className:"toolbar-btn print-btn",onClick:p,children:" Print Active Side"})]})]})},hx=({student:i,onClose:r})=>{const[n,o]=S.useState("front"),[c,u]=S.useState(new Date().toLocaleDateString()),[h,m]=S.useState("The Headmaster"),p=()=>window.print(),g=i.cover_image?{backgroundImage:`linear-gradient(rgba(8,18,40,0.88), rgba(8,18,40,0.88)), url(${i.cover_image})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:"linear-gradient(135deg, #08122e, #0d2040)"};return s.jsxs("div",{className:"printable-container preview-mode",children:[s.jsx("div",{className:"printable-content-scroll",children:n==="front"?s.jsxs("div",{className:"certificate-wrapper",children:[s.jsx("div",{className:"card-label",children:"Front Side Preview"}),s.jsxs("div",{className:"certificate",style:g,children:[s.jsx("div",{className:"cert-corner top-left",style:{borderColor:"#4CA1AF"}}),s.jsx("div",{className:"cert-corner top-right",style:{borderColor:"#4CA1AF"}}),s.jsx("div",{className:"cert-corner bottom-left",style:{borderColor:"#4CA1AF"}}),s.jsx("div",{className:"cert-corner bottom-right",style:{borderColor:"#4CA1AF"}}),s.jsx("div",{className:"cert-top-role",children:s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"Academy Badge"})}),s.jsx("div",{className:"cert-title",style:{color:"#7ec8e3"},children:"DreamWorld Academy"}),s.jsx("div",{className:"cert-subtitle",children:"Certificate of Enrollment"}),s.jsx("img",{src:i.avatar||"/DreamWorldAcademy.png",alt:i.name,className:"cert-avatar",onError:w=>{w.target.src="/DreamWorldAcademy.png"}}),s.jsxs("div",{className:"cert-body-compact",children:[s.jsx("div",{className:"cert-text-line",children:"By the authority of the High Council of DreamWorld, we hereby welcome and honor"}),s.jsx("span",{className:"cert-name",children:i.name}),s.jsxs("div",{className:"cert-text-line",children:["as an official student of the Academy. A young dreamer of ",i.class,i.school_name?` from ${i.school_name}`:"",", whose aim is:"]}),s.jsxs("strong",{className:"cert-role-text",style:{fontSize:"0.85rem",color:"#a8d8ea",fontStyle:"italic",fontWeight:"normal"},children:['"',i.aim_in_life,'"']})]}),s.jsxs("div",{className:"cert-footer",children:[s.jsxs("div",{className:"sign-box",children:[s.jsx("div",{className:"sign-label-top",children:"Date of Enrollment"}),s.jsx("div",{className:"sign-line",children:s.jsx("input",{className:"editable-input",value:c,onChange:w=>u(w.target.value)})})]}),s.jsx("div",{className:"gold-seal",style:{background:"linear-gradient(135deg, #4CA1AF, #2e6b9e)",fontSize:"0.65rem",letterSpacing:"0.05em"},children:"DWA"}),s.jsxs("div",{className:"sign-box",children:[s.jsx("div",{className:"sign-label-top",children:"Certified by"}),s.jsx("div",{className:"sign-line",children:s.jsx("input",{className:"editable-input",value:h,onChange:w=>m(w.target.value)})})]})]})]})]}):s.jsxs("div",{className:"certificate-wrapper",children:[s.jsx("div",{className:"card-label",children:"Back Side Preview"}),s.jsx("div",{className:"certificate back",style:g,children:s.jsxs("div",{className:"cert-back-content",children:[s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"Academy",className:"cert-back-role-img",style:{opacity:.2}}),s.jsxs("div",{style:{position:"relative",zIndex:2,textAlign:"center",color:"white",marginTop:"-60px"},children:[s.jsx("p",{style:{fontSize:"1rem",fontStyle:"italic",color:"#a8d8ea"},children:'"The greatest adventure begins with a single dream."'}),s.jsx("p",{style:{fontSize:"0.75rem",color:"#7ec8e3",marginTop:"12px",letterSpacing:"2px"},children:"DREAMWORLD ACADEMY"})]})]})})]})}),s.jsxs("div",{className:"printable-toolbar",children:[s.jsx("button",{className:"toolbar-btn close-btn",onClick:r,children:" Close"}),s.jsxs("div",{className:"side-selectors",children:[s.jsx("button",{className:`side-btn ${n==="front"?"active":""}`,onClick:()=>o("front"),children:"Front Side"}),s.jsx("button",{className:`side-btn ${n==="back"?"active":""}`,onClick:()=>o("back"),children:"Back Side"})]}),s.jsx("button",{className:"toolbar-btn print-btn",onClick:p,children:" Print Active Side"})]})]})};function fx(){const i=ms(),{loading:r,quests:n,addQuest:o,updateQuest:c,deleteQuest:u,roles:h,addRole:m,updateRole:p,deleteRole:g,characters:w,addCharacter:x,updateCharacter:j,deleteCharacter:N,reorderCharacter:b,sponsors:R,addSponsor:C,updateSponsor:$,deleteSponsor:U,events:P,addEvent:Q,updateEvent:G,deleteEvent:H,announcement:oe,updateAnnouncement:Ee,syncGlobalData:Re,submitDonation:et,donations:zt,deleteDonation:kt,academyApplications:Je,academyStudents:dt,acceptApplication:Et,declineApplication:it,deleteAcademyApplication:Ie,updateAcademyStudent:J,deleteAcademyStudent:le}=ut(),[z,T]=S.useState("announcement"),[F,fe]=S.useState(oe),[ee,ge]=S.useState({title:"",purpose:"",difficulty:"easy",timeNeeded:"",steps:"",impact:"",sharePrompt:"",needsFunding:!1,amountNeeded:"",galleryImages:[],completionImages:[],completionNote:""}),[ie,xe]=S.useState({id:"",name:"",singular:"",description:"",color:"#4CA1AF",traits:"",philosophy:"",isExclusive:!1}),[ae,ye]=S.useState({name:"",role:"",title:"",avatar:"",coverImage:"",bio:"",themes:"",joinedDate:"",order_index:0}),[Ae,Ct]=S.useState({name:"",title:"",avatar:"",bio:"",themes:""}),[Pe,ht]=S.useState({title:"",host:"",type:"online",date:"",location:"",description:"",registrationLink:"",needsFunding:!1,amountNeeded:"",galleryImages:[],completionImages:[],completionNote:""}),[A,O]=S.useState({name:"",amount:"",type:"manual",sponsorshipId:"",sponsorshipType:"general",message:""}),[K,we]=S.useState(null),[_e,me]=S.useState(!1),[Me,$e]=S.useState(null),[at,re]=S.useState(null),[Dt,ps]=S.useState(null),[Or,Rn]=S.useState(!1),[jr,on]=S.useState(null),[Dr,$r]=S.useState(null),[gs,Tn]=S.useState(null),[vt,dr]=S.useState({name:"",class:"",school_name:"",age:"",gender:"",hobbies:"",favourite_colour:"",favourite_animal:"",aim_in_life:"",avatar:"",coverImage:"",points:0,order_index:0,joined_date:""}),[hr,vs]=S.useState("pending");if(S.useEffect(()=>{localStorage.getItem("dw_admin_token")||i("/admin")},[i]),S.useEffect(()=>{!r&&oe&&fe(oe)},[r,oe]),S.useEffect(()=>{z==="status"&&(async()=>{try{const{data:q,error:be}=await supabase.from("announcements").select("*").limit(1);if(be)throw be;$e({summary:q[0]||"No announcements yet",count:q.length,type:"Supabase (Infinite)"})}catch{$e("error")}})()},[z]),r)return s.jsx("div",{className:"loading-state",children:"Connecting to Cloud Database..."});const ys=()=>{localStorage.removeItem("dw_admin_token"),i("/admin")},An=async()=>{Rn(!0);try{await Re(),me(!1),alert(` Data Refreshed! 

Your dashboard is now perfectly in sync with the cloud database.`)}catch(y){alert(` Refresh Failed: ${y.message}`)}finally{Rn(!1)}},Le=()=>{we(null),ge({title:"",purpose:"",difficulty:"easy",timeNeeded:"",steps:"",impact:"",sharePrompt:"",needsFunding:!1,amountNeeded:"",galleryImages:[],completionImages:[],completionNote:""}),xe({id:"",name:"",singular:"",description:"",color:"#4CA1AF",traits:"",philosophy:"",isExclusive:!1}),ye({name:"",role:"",title:"",avatar:"",coverImage:"",bio:"",themes:"",joinedDate:"",order_index:0}),Ct({name:"",title:"",avatar:"",bio:"",themes:""}),ht({title:"",host:"",type:"online",date:"",location:"",description:"",registrationLink:"",needsFunding:!1,amountNeeded:"",galleryImages:[],completionImages:[],completionNote:""}),O({name:"",amount:"",type:"manual",sponsorshipId:"",sponsorshipType:"general",message:""})},Lr=y=>{if(y.preventDefault(),!F.title||F.title.trim()===""){alert(" Please provide a Title for the announcement. It is required for the database.");return}Ee(F),me(!0),alert(`Announcement updated! Don't forget to click "Sync Global Site" below.`)},Ur=y=>{y.preventDefault();const q={...ee,steps:ee.steps.split(`
`).filter(be=>be.trim()),amountNeeded:ee.needsFunding?ee.amountNeeded.toString():"0",fundingStatus:ee.needsFunding?ee.fundingStatus||"active":"not-funded"};K?c(K,q):o(q),me(!0),Le(),alert(K?"Quest updated!":"Quest added!")},gi=y=>{y.preventDefault();const q={...ie,traits:ie.traits.split(`
`).filter(be=>be.trim())};K?p(K,q):m(q),me(!0),Le(),alert(K?"Role updated!":"Role added!")},vi=y=>{y.preventDefault(),console.log("DEBUG - Submitting Member Data:",ae);const q={...ae,themes:ae.themes.split(",").map(be=>be.trim())};K?j(K,q):x(q),me(!0),Le(),alert(K?"Member updated!":"Member added!")},yi=y=>{y.preventDefault();const q={...Ae,themes:Ae.themes.split(",").map(be=>be.trim())};K?$(K,q):C(q),me(!0),Le(),alert(K?"Sponsor updated!":"Sponsor added!")},wi=y=>{window.confirm("Delete this quest?")&&(u(y),me(!0))},xi=y=>{window.confirm("Delete this role?")&&(g(y),me(!0))},ws=y=>{window.confirm("Delete this member?")&&(N(y),me(!0))},ji=y=>{window.confirm("Delete this sponsor?")&&(U(y),me(!0))},ln=y=>{window.confirm("Delete this event?")&&(H(y),me(!0))},xs=y=>{y.preventDefault();const q={...Pe,amountNeeded:Pe.needsFunding?Pe.amountNeeded.toString():"0",fundingStatus:Pe.needsFunding?Pe.fundingStatus||"active":"not-funded"};K?G(K,q):Q(q),me(!0),Le(),alert(K?"Event updated!":"Event added!")},cn=async y=>{y.preventDefault();try{await et({name:A.name,email:"admin-manual@entry",amount:A.amount,type:"one-time",paymentMethod:"manual",status:"success",message:A.message||"Manual entry via Admin Panel",transactionId:`MANUAL-${Date.now()}`,sponsorshipType:A.sponsorshipType,sponsorshipId:A.sponsorshipId}),me(!0),Le(),alert(" Manual Donation Recorded!")}catch(q){alert(`Error: ${q.message}`)}};return s.jsxs("div",{className:"admin-dashboard page",children:[s.jsxs("div",{className:"admin-sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsx("img",{src:"/logo.png",alt:"Logo",className:"sidebar-logo"}),s.jsx("h3",{children:"Admin Panel"})]}),s.jsxs("nav",{className:"admin-nav",children:[s.jsx("button",{className:`nav-item ${z==="announcement"?"active":""}`,onClick:()=>{T("announcement"),Le()},children:" Announcement"}),s.jsx("button",{className:`nav-item ${z==="quests"?"active":""}`,onClick:()=>{T("quests"),Le()},children:" Quests"}),s.jsx("button",{className:`nav-item ${z==="roles"?"active":""}`,onClick:()=>{T("roles"),Le()},children:" Roles"}),s.jsx("button",{className:`nav-item ${z==="members"?"active":""}`,onClick:()=>{T("members"),Le()},children:" Dreamers"}),s.jsx("button",{className:`nav-item ${z==="sponsors"?"active":""}`,onClick:()=>{T("sponsors"),Le()},children:" Sponsors"}),s.jsx("button",{className:`nav-item ${z==="events"?"active":""}`,onClick:()=>{T("events"),Le()},children:" Events"}),s.jsx("button",{className:`nav-item ${z==="donations"?"active":""}`,onClick:()=>{T("donations"),Le()},children:" Donations"}),s.jsx("div",{style:{borderTop:"1px solid rgba(76,161,175,0.2)",margin:"8px 0"}}),s.jsxs("button",{className:`nav-item ${z==="acad-apps"?"active":""}`,onClick:()=>{T("acad-apps"),Le()},style:{color:"#7ec8e3"},children:[" Acad. Applications",Je.filter(y=>y.status==="pending").length>0&&s.jsx("span",{style:{marginLeft:6,background:"#4CA1AF",color:"white",borderRadius:"50%",width:18,height:18,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold"},children:Je.filter(y=>y.status==="pending").length})]}),s.jsx("button",{className:`nav-item ${z==="acad-students"?"active":""}`,onClick:()=>{T("acad-students"),Le()},style:{color:"#7ec8e3"},children:" Academy Students"}),s.jsx("button",{className:`nav-item ${z==="status"?"active":""}`,onClick:()=>{T("status"),Le()},children:" System Health"})]}),s.jsxs("div",{className:"sidebar-footer",children:[_e&&s.jsx("div",{className:"sync-warning animate-pulse",children:" Changes pending sync"}),s.jsx("button",{onClick:An,className:`sync-btn ${Or?"syncing":""} ${_e?"highlight":""}`,disabled:Or,children:Or?" Refreshing...":" Refresh Data"}),s.jsx("button",{onClick:ys,className:"logout-btn",children:" Logout"})]})]}),s.jsxs("div",{className:"admin-dashboard-content",children:[s.jsx("header",{className:"content-header",children:s.jsxs("h2",{children:["Manage ",z.charAt(0).toUpperCase()+z.slice(1)]})}),z==="announcement"&&s.jsx("div",{className:"admin-section animate-fade",children:s.jsx(ve,{className:"admin-form-card",children:s.jsxs("form",{onSubmit:Lr,className:"admin-form",children:[s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Title"}),s.jsx("input",{type:"text",value:F.title,onChange:y=>fe({...F,title:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Date Label"}),s.jsx("input",{type:"text",value:F.date,onChange:y=>fe({...F,date:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Content"}),s.jsx("textarea",{rows:"5",value:F.content,onChange:y=>fe({...F,content:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Button Text"}),s.jsx("input",{type:"text",value:F.linkText,onChange:y=>fe({...F,linkText:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Link (URL)"}),s.jsx("input",{type:"text",value:F.linkTo,onChange:y=>fe({...F,linkTo:y.target.value}),required:!0})]})]}),s.jsx(Ne,{type:"submit",variant:"primary",children:"Update Announcement"})]})})}),z==="quests"&&s.jsx("div",{className:"admin-section animate-fade",children:s.jsxs("div",{className:"admin-split-layout",children:[s.jsxs(ve,{className:"admin-form-card",children:[s.jsx("h3",{children:K?"Edit Quest":"Add New Quest"}),s.jsxs("form",{onSubmit:Ur,className:"admin-form",children:[s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Title"}),s.jsx("input",{type:"text",value:ee.title,onChange:y=>ge({...ee,title:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Difficulty"}),s.jsxs("select",{value:ee.difficulty,onChange:y=>ge({...ee,difficulty:y.target.value}),children:[s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Time Needed"}),s.jsx("input",{type:"text",value:ee.timeNeeded,onChange:y=>ge({...ee,timeNeeded:y.target.value}),required:!0})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Purpose"}),s.jsx("textarea",{rows:"2",value:ee.purpose,onChange:y=>ge({...ee,purpose:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Steps (One per line)"}),s.jsx("textarea",{rows:"4",value:ee.steps,onChange:y=>ge({...ee,steps:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Impact"}),s.jsx("input",{type:"text",value:ee.impact,onChange:y=>ge({...ee,impact:y.target.value}),required:!0})]}),s.jsxs("div",{className:"funding-setup",style:{borderTop:"1px solid rgba(76, 161, 175, 0.2)",paddingTop:"15px",marginTop:"10px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:"10px"},children:[s.jsx("input",{type:"checkbox",checked:ee.needsFunding,onChange:y=>ge({...ee,needsFunding:y.target.checked})}),s.jsx("span",{children:"Needs Funding?"})]}),ee.needsFunding&&s.jsxs("div",{className:"form-group-full animate-fade",children:[s.jsx("label",{children:"Funding Goal ()"}),s.jsx("input",{type:"number",value:ee.amountNeeded||"",onChange:y=>ge({...ee,amountNeeded:y.target.value}),placeholder:"e.g. 5000",required:!0})]})]}),s.jsxs(Ne,{type:"submit",variant:"primary",children:[K?"Update":"Add"," Quest"]}),K&&s.jsx(Ne,{type:"button",variant:"secondary",onClick:Le,children:"Cancel"})]})]}),s.jsx("div",{className:"admin-list",children:n.map(y=>s.jsxs(ve,{className:"admin-item-card",children:[s.jsxs("div",{children:[s.jsx("h4",{children:y.title}),s.jsx(Nt,{variant:y.difficulty,children:y.difficulty})]}),s.jsxs("div",{className:"admin-item-actions",children:[s.jsx("button",{onClick:()=>{we(y.id),ge({...y,steps:y.steps.join(`
`)})},children:""}),s.jsx("button",{onClick:()=>wi(y.id),children:""})]})]},y.id))})]})}),z==="roles"&&s.jsx("div",{className:"admin-section animate-fade",children:s.jsxs("div",{className:"admin-split-layout",children:[s.jsxs(ve,{className:"admin-form-card",children:[s.jsx("h3",{children:K?"Edit Role":"Add New Role"}),s.jsxs("form",{onSubmit:gi,className:"admin-form",children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Role ID (lower-case)"}),s.jsx("input",{type:"text",value:ie.id,onChange:y=>xe({...ie,id:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Name (Plural)"}),s.jsx("input",{type:"text",value:ie.name,onChange:y=>xe({...ie,name:y.target.value}),required:!0})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Singular Name"}),s.jsx("input",{type:"text",value:ie.singular,onChange:y=>xe({...ie,singular:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Brand Color"}),s.jsx("input",{type:"text",value:ie.color,onChange:y=>xe({...ie,color:y.target.value}),required:!0})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Image URL (imgURL)"}),s.jsx("input",{type:"text",placeholder:"https://...",value:ie.image||"",onChange:y=>xe({...ie,image:y.target.value})}),s.jsx("small",{style:{color:"var(--color-gray)",fontSize:"0.8rem"},children:"Paste a link here or use the uploader below."})]}),s.jsx(as,{label:"Role Icon/Image",onUploadComplete:y=>xe(q=>({...q,image:y})),defaultImage:ie.image,folder:"roles"}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Description"}),s.jsx("textarea",{rows:"3",value:ie.description,onChange:y=>xe({...ie,description:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Traits (One per line)"}),s.jsx("textarea",{rows:"4",value:ie.traits,onChange:y=>xe({...ie,traits:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Philosophy"}),s.jsx("textarea",{rows:"3",value:ie.philosophy,onChange:y=>xe({...ie,philosophy:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-checkbox",style:{margin:"15px 0",padding:"15px",background:"rgba(255, 69, 0, 0.1)",border:"1px solid rgba(255, 69, 0, 0.3)",borderRadius:"8px"},children:[s.jsx("input",{type:"checkbox",id:"roleExclusive",checked:ie.isExclusive||!1,onChange:y=>xe({...ie,isExclusive:y.target.checked})}),s.jsx("label",{htmlFor:"roleExclusive",style:{color:"#ff6f61",fontWeight:"bold"},children:" Exclusive / Admin Only?"}),s.jsx("p",{style:{fontSize:"0.8rem",color:"#ccc",marginLeft:"25px",marginTop:"5px"},children:'If checked, this role will NOT appear in the "Join" form. Use this for special roles like "Architect".'})]}),s.jsxs(Ne,{type:"submit",variant:"primary",children:[K?"Update":"Add"," Role"]}),K&&s.jsx(Ne,{type:"button",variant:"secondary",onClick:Le,children:"Cancel"})]})]}),s.jsx("div",{className:"admin-list",children:h.map(y=>s.jsxs(ve,{className:"admin-item-card",children:[s.jsxs("div",{children:[s.jsx("h4",{children:y.name}),s.jsx(Nt,{children:y.singular})]}),s.jsxs("div",{className:"admin-item-actions",children:[s.jsx("button",{onClick:()=>{we(y.id),xe({...y,traits:y.traits.join(`
`),isExclusive:y.is_exclusive||!1})},children:""}),s.jsx("button",{onClick:()=>xi(y.id),children:""})]})]},y.id))})]})}),z==="members"&&s.jsx("div",{className:"admin-section animate-fade",children:s.jsxs("div",{className:"admin-split-layout",children:[s.jsxs(ve,{className:"admin-form-card",children:[s.jsx("h3",{children:K?"Edit Dreamer":"Add New Dreamer"}),s.jsxs("form",{onSubmit:vi,className:"admin-form",children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Full Name"}),s.jsx("input",{type:"text",value:ae.name,onChange:y=>ye({...ae,name:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Role"}),s.jsxs("select",{value:ae.role,onChange:y=>ye({...ae,role:y.target.value}),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),h.map(y=>s.jsx("option",{value:y.id,children:y.singular},y.id))]})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Title (e.g. Lead Artist)"}),s.jsx("input",{type:"text",value:ae.title,onChange:y=>ye({...ae,title:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-row",style:{gap:"20px"},children:[s.jsx(as,{label:"Avatar Image",onUploadComplete:y=>ye(q=>({...q,avatar:y})),defaultImage:ae.avatar,folder:"members"}),s.jsx(as,{label:"Cover Image",onUploadComplete:y=>ye(q=>({...q,coverImage:y})),defaultImage:ae.coverImage,folder:"members/covers"})]}),s.jsxs("div",{className:"admin-member-visual-preview",style:{margin:"15px 0",padding:"15px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",display:"flex",gap:"20px",alignItems:"center"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{fontSize:"0.7rem",color:"var(--color-gray)",marginBottom:"5px"},children:"Avatar"}),s.jsx(Yt,{src:ae.avatar,name:ae.name,style:{width:60,height:60,borderRadius:"50%"}})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{fontSize:"0.7rem",color:"var(--color-gray)",marginBottom:"5px"},children:"Cover Background"}),s.jsx("div",{style:{height:60,width:"100%",borderRadius:"4px",backgroundImage:ae.coverImage?`url("${ae.coverImage}")`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid rgba(76, 161, 175, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-gray)",fontSize:"0.8rem"},children:!ae.coverImage&&"No Cover"})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Bio"}),s.jsx("textarea",{rows:"3",value:ae.bio,onChange:y=>ye(q=>({...q,bio:y.target.value})),required:!0})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"YouTube URL"}),s.jsx("input",{type:"text",placeholder:"https://youtube.com/...",value:ae.youtube||"",onChange:y=>ye(q=>({...q,youtube:y.target.value}))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Instagram URL"}),s.jsx("input",{type:"text",placeholder:"https://instagram.com/...",value:ae.instagram||"",onChange:y=>ye(q=>({...q,instagram:y.target.value}))})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Facebook URL"}),s.jsx("input",{type:"text",placeholder:"https://facebook.com/...",value:ae.facebook||"",onChange:y=>ye(q=>({...q,facebook:y.target.value}))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Twitter URL"}),s.jsx("input",{type:"text",placeholder:"https://twitter.com/...",value:ae.twitter||"",onChange:y=>ye(q=>({...q,twitter:y.target.value}))})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Themes (Comma separated)"}),s.jsx("input",{type:"text",placeholder:"Future, Solar, Community",value:ae.themes,onChange:y=>ye(q=>({...q,themes:y.target.value})),required:!0})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Dreaming Since"}),s.jsx("input",{type:"date",value:ae.joinedDate||"",onChange:y=>ye(q=>({...q,joinedDate:y.target.value})),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"XP Points"}),s.jsx("input",{type:"number",min:"0",value:ae.points||0,onChange:y=>ye(q=>({...q,points:y.target.value}))})]})]}),s.jsxs(Ne,{type:"submit",variant:"primary",children:[K?"Update":"Add"," Dreamer"]}),K&&s.jsx(Ne,{type:"button",variant:"secondary",onClick:Le,children:"Cancel"})]})]}),s.jsx("div",{className:"admin-list",children:w.map(y=>s.jsxs(ve,{className:"admin-item-card",children:[s.jsxs("div",{className:"admin-member-preview",children:[s.jsx(Yt,{src:y.avatar,name:y.name,style:{width:40,height:40,borderRadius:"50%"}}),s.jsxs("div",{children:[s.jsx("h4",{children:y.name}),s.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[s.jsx(Nt,{children:y.role}),s.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--color-accent)",fontWeight:"bold"},children:["Lvl ",y.level||0]})]})]})]}),s.jsxs("div",{className:"admin-item-actions",children:[s.jsx("button",{onClick:()=>{var q,be,yt,qt,fr;we(y.id),ye({...y,themes:Array.isArray(y.themes)?y.themes.join(", "):y.themes||"",youtube:((q=y.socials)==null?void 0:q.youtube)||"",instagram:((be=y.socials)==null?void 0:be.instagram)||"",facebook:((yt=y.socials)==null?void 0:yt.facebook)||"",twitter:((qt=y.socials)==null?void 0:qt.twitter)||"",twitter:((fr=y.socials)==null?void 0:fr.twitter)||"",level:y.level||0,points:y.points||0,joinedDate:y.joinedDate||"",order_index:y.order_index||0})},children:""}),s.jsx("button",{onClick:()=>ws(y.id),children:""}),s.jsxs("div",{className:"order-controls",style:{display:"inline-flex",gap:"2px",marginLeft:"5px"},children:[w.indexOf(y)>0&&s.jsx("button",{onClick:()=>b(y.id,"up"),title:"Move Up",children:""}),w.indexOf(y)<w.length-1&&s.jsx("button",{onClick:()=>b(y.id,"down"),title:"Move Down",children:""})]}),s.jsx("button",{className:"print-btn",onClick:()=>{re(y),ps("id")},title:"Generate ID Card",style:{marginLeft:"10px"},children:""}),s.jsx("button",{className:"print-btn",onClick:()=>{re(y),ps("cert")},title:"Generate Certificate",style:{marginLeft:"5px"},children:""})]})]},y.id))})]})}),z==="sponsors"&&s.jsx("div",{className:"admin-section animate-fade",children:s.jsxs("div",{className:"admin-split-layout",children:[s.jsxs(ve,{className:"admin-form-card",children:[s.jsx("h3",{children:K?"Edit Sponsor":"Add New Sponsor"}),s.jsxs("form",{onSubmit:yi,className:"admin-form",children:[s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Organization / Name"}),s.jsx("input",{type:"text",value:Ae.name,onChange:y=>Ct({...Ae,name:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Title (e.g. Director of Agriculture)"}),s.jsx("input",{type:"text",value:Ae.title,onChange:y=>Ct({...Ae,title:y.target.value}),required:!0})]}),s.jsx(as,{label:"Sponsor Logo/Avatar",onUploadComplete:y=>Ct(q=>({...q,avatar:y})),defaultImage:Ae.avatar,folder:"sponsors"}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Bio/Description"}),s.jsx("textarea",{rows:"3",value:Ae.bio,onChange:y=>Ct(q=>({...q,bio:y.target.value})),required:!0})]}),s.jsxs("div",{className:"form-checkbox",style:{margin:"15px 0",padding:"15px",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px"},children:[s.jsx("input",{type:"checkbox",id:"royalTribute",checked:Ae.themes.split(",").map(y=>y.trim()).includes("Royal"),onChange:y=>{const q=y.target.checked;let be=Ae.themes.split(",").map(yt=>yt.trim()).filter(Boolean);q?be.includes("Royal")||be.push("Royal"):be=be.filter(yt=>yt!=="Royal"),Ct({...Ae,themes:be.join(", ")})}}),s.jsx("label",{htmlFor:"royalTribute",style:{color:"#FFD700",fontWeight:"bold"},children:" Royal Tribute? (Display in Wall of Gratitude)"}),s.jsx("p",{style:{fontSize:"0.8rem",color:"#ccc",marginLeft:"25px",marginTop:"5px"},children:"Check this box for top-tier sponsors like Peter Saam to give them a premium gold display."})]}),s.jsxs(Ne,{type:"submit",variant:"primary",children:[K?"Update":"Add"," Sponsor"]}),K&&s.jsx(Ne,{type:"button",variant:"secondary",onClick:Le,children:"Cancel"})]})]}),s.jsx("div",{className:"admin-list",children:R.map(y=>s.jsxs(ve,{className:"admin-item-card",children:[s.jsxs("div",{className:"admin-member-preview",children:[s.jsx(Yt,{src:y.avatar,name:y.name,style:{width:40,height:40,borderRadius:"50%"}}),s.jsxs("div",{children:[s.jsx("h4",{children:y.name}),s.jsx(Nt,{variant:y.themes.includes("Royal")?"active":"secondary",children:y.themes.includes("Royal")?" Royal":"Sponsor"})]})]}),s.jsxs("div",{className:"admin-item-actions",children:[s.jsx("button",{onClick:()=>{we(y.id),Ct({...y,themes:Array.isArray(y.themes)?y.themes.join(", "):y.themes||""})},children:""}),s.jsx("button",{onClick:()=>ji(y.id),children:""})]})]},y.id))})]})}),z==="events"&&s.jsx("div",{className:"admin-section animate-fade",children:s.jsxs("div",{className:"admin-split-layout",children:[s.jsxs(ve,{className:"admin-form-card",children:[s.jsx("h3",{children:K?"Edit Event":"Add New Event"}),s.jsxs("form",{onSubmit:xs,className:"admin-form",children:[s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Event Title"}),s.jsx("input",{type:"text",value:Pe.title,onChange:y=>ht({...Pe,title:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Host"}),s.jsx("input",{type:"text",value:Pe.host,onChange:y=>ht({...Pe,host:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Type (e.g. Online, Workshop)"}),s.jsx("input",{type:"text",value:Pe.type,onChange:y=>ht({...Pe,type:y.target.value}),required:!0})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Date"}),s.jsx("input",{type:"date",value:Pe.date,onChange:y=>ht({...Pe,date:y.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Location"}),s.jsx("input",{type:"text",value:Pe.location,onChange:y=>ht({...Pe,location:y.target.value}),required:!0})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Description"}),s.jsx("textarea",{rows:"3",value:Pe.description,onChange:y=>ht({...Pe,description:y.target.value}),required:!0})]}),s.jsxs("div",{className:"funding-setup",style:{borderTop:"1px solid rgba(76, 161, 175, 0.2)",paddingTop:"15px",marginTop:"10px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:"10px"},children:[s.jsx("input",{type:"checkbox",checked:Pe.needsFunding,onChange:y=>ht({...Pe,needsFunding:y.target.checked})}),s.jsx("span",{children:"Needs Funding?"})]}),Pe.needsFunding&&s.jsxs("div",{className:"form-group-full animate-fade",children:[s.jsx("label",{children:"Funding Goal ()"}),s.jsx("input",{type:"number",value:Pe.amountNeeded,onChange:y=>ht({...Pe,amountNeeded:y.target.value}),placeholder:"e.g. 10000",required:!0})]})]}),s.jsxs(Ne,{type:"submit",variant:"primary",children:[K?"Update":"Add"," Event"]}),K&&s.jsx(Ne,{type:"button",variant:"secondary",onClick:Le,children:"Cancel"})]})]}),s.jsx("div",{className:"admin-list",children:P.map(y=>s.jsxs(ve,{className:"admin-item-card",children:[s.jsxs("div",{children:[s.jsx("h4",{children:y.title}),s.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--color-gray)"},children:[y.date,"  ",y.host]})]}),s.jsxs("div",{className:"admin-item-actions",children:[s.jsx("button",{onClick:()=>{we(y.id),ht(y)},children:""}),s.jsx("button",{onClick:()=>ln(y.id),children:""})]})]},y.id))})]})}),z==="donations"&&s.jsxs("div",{className:"admin-section animate-fade",children:[s.jsxs(ve,{className:"admin-form-card",children:[s.jsx("h3",{children:"Record Manual Donation"}),s.jsx("p",{style:{color:"var(--color-gray)",fontSize:"0.9rem",marginBottom:"15px"},children:"Use this to record offline payments (Cash, Direct UPI, Bank Transfer) so they reflect in the fundraising goals."}),s.jsxs("form",{onSubmit:cn,className:"admin-form",children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Donor Name"}),s.jsx("input",{type:"text",value:A.name,onChange:y=>O({...A,name:y.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Amount ()"}),s.jsx("input",{type:"number",value:A.amount,onChange:y=>O({...A,amount:y.target.value}),required:!0})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Contribution Target"}),s.jsxs("select",{value:A.sponsorshipId,onChange:y=>{const q=y.target.value;if(!q)O(be=>({...be,sponsorshipId:"",sponsorshipType:"general"}));else{const be=n.find(fr=>fr.id===q),yt=P.find(fr=>fr.id===q),qt=be?"quest":yt?"event":"general";O(fr=>({...fr,sponsorshipId:q,sponsorshipType:qt}))}},children:[s.jsx("option",{value:"",children:"General Fund (No specific target)"}),s.jsx("optgroup",{label:"Quests",children:n.filter(y=>y.fundingStatus==="active").map(y=>s.jsx("option",{value:y.id,children:y.title},y.id))}),s.jsx("optgroup",{label:"Events",children:P.filter(y=>y.fundingStatus==="active").map(y=>s.jsx("option",{value:y.id,children:y.title},y.id))})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"Private Note (Optional)"}),s.jsx("textarea",{rows:"2",value:A.message,onChange:y=>O({...A,message:y.target.value})})]}),s.jsx(Ne,{type:"submit",variant:"primary",children:"Record Donation"})]})]}),s.jsxs("div",{className:"admin-section-header",style:{marginTop:"40px",marginBottom:"20px"},children:[s.jsx("h3",{children:"Recent Donations (Last 50)"}),s.jsx("p",{style:{color:"var(--color-gray)"},children:'View and manage recent contributions. Deleting a record here will effectively "refund" it from the system.'})]}),s.jsx("div",{className:"admin-list",children:zt.length===0?s.jsx("p",{style:{textAlign:"center",color:"var(--color-gray)",padding:"20px"},children:"No donations recorded yet."}):zt.map(y=>s.jsxs(ve,{className:"admin-item-card",style:{flexDirection:"column",alignItems:"flex-start",gap:"10px"},children:[s.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsxs("h4",{children:["",y.amount," ",s.jsxs("span",{style:{fontWeight:"normal",color:"var(--color-gray)"},children:["from ",y.name]})]}),s.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"0.8rem",marginTop:"4px",flexWrap:"wrap"},children:[s.jsx("span",{style:{color:"var(--color-accent)"},children:new Date(y.date).toLocaleDateString()}),y.sponsorship_type!=="general"&&s.jsxs(Nt,{variant:"secondary",children:["For ",y.sponsorship_type==="quest"?"Quest":"Event"]}),y.payment_method==="manual"&&s.jsx(Nt,{variant:"outline",children:"Manual"})]})]}),s.jsx("div",{className:"admin-item-actions",children:s.jsx("button",{onClick:()=>{var be,yt;const q=y.sponsorship_type==="general"?"General Fund":y.sponsorship_type==="quest"?((be=n.find(qt=>qt.id===y.sponsorship_id))==null?void 0:be.title)||"Unknown Quest":((yt=P.find(qt=>qt.id===y.sponsorship_id))==null?void 0:yt.title)||"Unknown Event";window.confirm(` DELETE DONATION?

Donor: ${y.name}
Amount: ${y.amount}
Target: ${q}

Deleting this will REMOVE the record and DEDUCT ${y.amount} from the target fundraiser.

Are you sure?`)&&(kt(y.id),me(!0))},title:"Delete & Refund",style:{color:"#ff6f61",fontSize:"1rem"},children:""})})]}),y.message&&s.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)",background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"4px",width:"100%"},children:['"',y.message,'"']})]},y.id))}),s.jsxs("div",{className:"admin-section-header",style:{marginTop:"40px",marginBottom:"20px"},children:[s.jsx("h3",{children:"Manage Active Funds"}),s.jsx("p",{style:{color:"var(--color-gray)"},children:"Adjust or correct funding totals for active quests and events."})]}),s.jsxs("div",{className:"admin-list",children:[n.filter(y=>y.amountNeeded&&parseFloat(y.amountNeeded)>0).map(y=>s.jsxs(ve,{className:"admin-item-card",style:{flexDirection:"column",alignItems:"flex-start",gap:"15px"},children:[s.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsxs("h4",{children:[y.title," ",s.jsx(Nt,{variant:"primary",children:"Quest"})]}),s.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--color-cyan)",marginTop:"5px"},children:["Raised: ",y.amountRaised||0," / ",y.amountNeeded]})]}),s.jsxs("div",{className:"admin-item-actions",children:[s.jsx("button",{onClick:()=>{const q=prompt(`Subtract amount from "${y.title}":
Current Total: ${y.amountRaised||0}`);if(q&&!isNaN(q)){const be=Math.max(0,parseFloat(y.amountRaised||0)-parseFloat(q));window.confirm(`Reduce by ${q}?
New Total will be: ${be}`)&&(c(y.id,{...y,amountRaised:be.toString()}),me(!0))}},title:"Subtract Funds",style:{fontSize:"0.9rem",marginRight:"10px"},children:" Subtract"}),s.jsx("button",{onClick:()=>{window.confirm(` CLEAR ALL FUNDS for "${y.title}"?

This will reset the amount raised to 0.
This action cannot be undone.`)&&(c(y.id,{...y,amountRaised:"0"}),me(!0))},title:"Reset to 0",style:{fontSize:"0.9rem",color:"#ff6f61"},children:" Clear"})]})]}),s.jsx("div",{className:"fund-progress-bar",style:{width:"100%",height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",overflow:"hidden"},children:s.jsx("div",{style:{width:`${Math.min(100,parseFloat(y.amountRaised||0)/parseFloat(y.amountNeeded)*100)}%`,height:"100%",background:"var(--color-gold)",transition:"width 0.3s ease"}})})]},y.id)),P.filter(y=>y.amountNeeded&&parseFloat(y.amountNeeded)>0).map(y=>s.jsxs(ve,{className:"admin-item-card",style:{flexDirection:"column",alignItems:"flex-start",gap:"15px"},children:[s.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsxs("h4",{children:[y.title," ",s.jsx(Nt,{variant:"secondary",children:"Event"})]}),s.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--color-cyan)",marginTop:"5px"},children:["Raised: ",y.amountRaised||0," / ",y.amountNeeded]})]}),s.jsxs("div",{className:"admin-item-actions",children:[s.jsx("button",{onClick:()=>{const q=prompt(`Subtract amount from "${y.title}":
Current Total: ${y.amountRaised||0}`);if(q&&!isNaN(q)){const be=Math.max(0,parseFloat(y.amountRaised||0)-parseFloat(q));window.confirm(`Reduce by ${q}?
New Total will be: ${be}`)&&(G(y.id,{...y,amountRaised:be.toString()}),me(!0))}},title:"Subtract Funds",style:{fontSize:"0.9rem",marginRight:"10px"},children:" Subtract"}),s.jsx("button",{onClick:()=>{window.confirm(` CLEAR ALL FUNDS for "${y.title}"?

This will reset the amount raised to 0.
This action cannot be undone.`)&&(G(y.id,{...y,amountRaised:"0"}),me(!0))},title:"Reset to 0",style:{fontSize:"0.9rem",color:"#ff6f61"},children:" Clear"})]})]}),s.jsx("div",{className:"fund-progress-bar",style:{width:"100%",height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",overflow:"hidden"},children:s.jsx("div",{style:{width:`${Math.min(100,parseFloat(y.amountRaised||0)/parseFloat(y.amountNeeded)*100)}%`,height:"100%",background:"var(--color-primary)",transition:"width 0.3s ease"}})})]},y.id)),n.filter(y=>y.amountNeeded&&parseFloat(y.amountNeeded)>0).length===0&&P.filter(y=>y.amountNeeded&&parseFloat(y.amountNeeded)>0).length===0&&s.jsx("p",{style:{textAlign:"center",color:"var(--color-gray)",padding:"20px"},children:'No active fundraisers found. Enable "Needs Funding" on a Quest or Event to see it here.'})]})]}),z==="acad-apps"&&s.jsxs("div",{className:"admin-section animate-fade",children:[s.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap"},children:["pending","accepted","declined"].map(y=>s.jsxs("button",{onClick:()=>vs(y),style:{padding:"6px 18px",borderRadius:"20px",border:"1px solid",cursor:"pointer",fontWeight:600,fontSize:"0.82rem",transition:"all 0.2s",borderColor:hr===y?"#4CA1AF":"rgba(76,161,175,0.3)",background:hr===y?"rgba(76,161,175,0.25)":"transparent",color:hr===y?"#7ec8e3":"rgba(255,255,255,0.55)"},children:[y==="pending"?"":y==="accepted"?"":""," ",y.charAt(0).toUpperCase()+y.slice(1)," ","(",Je.filter(q=>q.status===y).length,")"]},y))}),s.jsx("div",{className:"admin-list",children:Je.filter(y=>y.status===hr).length===0?s.jsxs("p",{style:{textAlign:"center",color:"var(--color-gray)",padding:"40px"},children:["No ",hr," applications."]}):Je.filter(y=>y.status===hr).map(y=>s.jsxs(ve,{style:{flexDirection:"column",gap:0,padding:"20px 22px",borderRadius:14,marginBottom:14},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:10,marginBottom:10},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{margin:0,fontSize:"1.05rem",fontWeight:700},children:y.name}),s.jsxs("p",{style:{margin:"3px 0 0",fontSize:"0.75rem",color:"rgba(255,255,255,0.3)"},children:["Submitted: ",new Date(y.created_at).toLocaleDateString()]})]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[y.status==="pending"?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:async()=>{window.confirm(` Accept ${y.name} into DreamWorld Academy?`)&&await Et(y.id)},style:{background:"rgba(100,200,100,0.18)",border:"1px solid rgba(100,200,100,0.4)",color:"#90e0a0",borderRadius:8,padding:"7px 16px",cursor:"pointer",fontWeight:700,fontSize:"0.83rem",whiteSpace:"nowrap"},children:" Accept"}),s.jsx("button",{onClick:async()=>{window.confirm(` Decline ${y.name}'s application?`)&&await it(y.id)},style:{background:"rgba(255,100,100,0.13)",border:"1px solid rgba(255,100,100,0.35)",color:"#ff9090",borderRadius:8,padding:"7px 16px",cursor:"pointer",fontWeight:700,fontSize:"0.83rem",whiteSpace:"nowrap"},children:" Decline"})]}):s.jsx(Nt,{variant:y.status==="accepted"?"active":"secondary",children:y.status==="accepted"?" Accepted":" Declined"}),s.jsx("button",{onClick:async()=>{window.confirm(` Permanently delete ${y.name}'s application?`)&&await Ie(y.id)},title:"Delete application",style:{background:"rgba(180,60,60,0.13)",border:"1px solid rgba(180,60,60,0.28)",color:"rgba(255,120,120,0.7)",borderRadius:8,padding:"7px 10px",cursor:"pointer",fontSize:"0.9rem"},children:""})]})]}),s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:[` ${y.class}`,y.school_name&&` ${y.school_name}`,` Age ${y.age}`,` ${y.gender}`].filter(Boolean).map((q,be)=>s.jsx("span",{style:{background:"rgba(76,161,175,0.1)",border:"1px solid rgba(76,161,175,0.18)",borderRadius:20,padding:"3px 11px",fontSize:"0.78rem",color:"rgba(255,255,255,0.65)"},children:q},be))}),(y.phone||y.email)&&s.jsxs("div",{style:{background:"rgba(76,161,175,0.06)",border:"1px solid rgba(76,161,175,0.15)",borderRadius:10,padding:"10px 14px",marginBottom:12,display:"flex",flexDirection:"column",gap:6},children:[s.jsx("span",{style:{fontSize:"0.68rem",textTransform:"uppercase",letterSpacing:"1px",color:"rgba(255,255,255,0.3)"},children:" Private Contact"}),s.jsxs("div",{style:{display:"flex",gap:20,flexWrap:"wrap"},children:[y.phone&&s.jsxs("a",{href:`tel:${y.phone}`,style:{color:"#7ec8e3",textDecoration:"none",fontSize:"0.88rem",fontWeight:600},children:[" ",y.phone]}),y.email&&s.jsxs("a",{href:`mailto:${y.email}`,style:{color:"#a8d8ea",textDecoration:"none",fontSize:"0.88rem",fontWeight:600},children:[" ",y.email]})]})]}),s.jsxs("div",{style:{display:"flex",gap:20,marginBottom:8,flexWrap:"wrap"},children:[s.jsxs("span",{style:{fontSize:"0.83rem",color:"rgba(255,255,255,0.55)"},children:[" ",s.jsx("strong",{style:{color:"rgba(255,255,255,0.8)"},children:y.favourite_colour})]}),s.jsxs("span",{style:{fontSize:"0.83rem",color:"rgba(255,255,255,0.55)"},children:[" ",s.jsx("strong",{style:{color:"rgba(255,255,255,0.8)"},children:y.favourite_animal})]})]}),y.hobbies&&s.jsxs("div",{style:{marginBottom:8},children:[s.jsx("span",{style:{fontSize:"0.72rem",textTransform:"uppercase",letterSpacing:"0.8px",color:"rgba(255,255,255,0.3)",display:"block",marginBottom:3},children:"Interests"}),s.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",lineHeight:1.5},children:[" ",y.hobbies]})]}),y.aim_in_life&&s.jsxs("div",{style:{background:"rgba(120,80,200,0.06)",border:"1px solid rgba(120,80,200,0.15)",borderRadius:10,padding:"10px 14px"},children:[s.jsx("span",{style:{fontSize:"0.68rem",textTransform:"uppercase",letterSpacing:"0.8px",color:"rgba(255,255,255,0.3)",display:"block",marginBottom:4},children:"Dream & Aim"}),s.jsxs("p",{style:{margin:0,fontSize:"0.88rem",color:"#c4b5f5",fontStyle:"italic",lineHeight:1.6},children:[' "',y.aim_in_life,'"']})]})]},y.id))})]}),z==="acad-students"&&s.jsx("div",{className:"admin-section animate-fade",children:s.jsxs("div",{className:"admin-split-layout",children:[s.jsxs(ve,{className:"admin-form-card",children:[s.jsx("h3",{children:gs?"Edit Student":"Academy Students"}),gs?s.jsxs("form",{className:"admin-form",onSubmit:async y=>{y.preventDefault(),await J(gs,vt),Tn(null)},children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Full Name"}),s.jsx("input",{type:"text",value:vt.name,onChange:y=>dr(q=>({...q,name:y.target.value})),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Class"}),s.jsx("input",{type:"text",value:vt.class,onChange:y=>dr(q=>({...q,class:y.target.value})),required:!0})]})]}),s.jsxs("div",{className:"form-group-full",children:[s.jsx("label",{children:"School Name"}),s.jsx("input",{type:"text",value:vt.school_name,onChange:y=>dr(q=>({...q,school_name:y.target.value}))})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Age"}),s.jsx("input",{type:"number",value:vt.age,onChange:y=>dr(q=>({...q,age:y.target.value}))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"XP Points"}),s.jsx("input",{type:"number",min:"0",value:vt.points,onChange:y=>dr(q=>({...q,points:y.target.value}))})]})]}),s.jsxs("div",{className:"form-row",style:{gap:"20px"},children:[s.jsx(as,{label:"Student Avatar",onUploadComplete:y=>dr(q=>({...q,avatar:y})),defaultImage:vt.avatar,folder:"academy/students"}),s.jsx(as,{label:"Cover Image",onUploadComplete:y=>dr(q=>({...q,coverImage:y})),defaultImage:vt.coverImage,folder:"academy/covers"})]}),s.jsxs("div",{className:"admin-member-visual-preview",style:{margin:"10px 0",padding:"12px",background:"rgba(0,0,0,0.2)",borderRadius:8,display:"flex",gap:16,alignItems:"center"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{fontSize:"0.7rem",color:"var(--color-gray)",marginBottom:4},children:"Avatar"}),s.jsx(Yt,{src:vt.avatar,name:vt.name,style:{width:50,height:50,borderRadius:"50%"}})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{fontSize:"0.7rem",color:"var(--color-gray)",marginBottom:4},children:"Cover"}),s.jsx("div",{style:{height:50,width:"100%",borderRadius:4,backgroundImage:vt.coverImage?`url("${vt.coverImage}")`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid rgba(76,161,175,0.3)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-gray)",fontSize:"0.8rem"},children:!vt.coverImage&&"No Cover"})]})]}),s.jsx(Ne,{type:"submit",variant:"primary",children:" Save Student"}),s.jsx(Ne,{type:"button",variant:"secondary",onClick:()=>Tn(null),children:"Cancel"})]}):s.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--color-gray)"},children:[s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"Academy",style:{width:60,marginBottom:12,opacity:.6}}),s.jsx("p",{children:"Select a student from the list to edit their profile."}),s.jsxs("p",{style:{fontSize:"0.8rem",marginTop:8,color:"rgba(255,255,255,0.3)"},children:[dt.length," student(s) enrolled"]})]})]}),s.jsx("div",{className:"admin-list",children:dt.length===0?s.jsx("p",{style:{textAlign:"center",color:"var(--color-gray)",padding:"40px"},children:"No students yet. Accept applications to see them here."}):dt.map(y=>s.jsxs(ve,{className:"admin-item-card",children:[s.jsxs("div",{className:"admin-member-preview",children:[s.jsx(Yt,{src:y.avatar,name:y.name,style:{width:40,height:40,borderRadius:"50%"}}),s.jsxs("div",{children:[s.jsx("h4",{children:y.name}),s.jsxs("div",{style:{display:"flex",gap:5,alignItems:"center",fontSize:"0.8rem"},children:[s.jsx("span",{style:{color:"var(--color-gray)"},children:y.class}),s.jsxs("span",{style:{color:"var(--color-accent)",fontWeight:"bold"},children:["Lvl ",y.level||0]})]})]})]}),s.jsxs("div",{className:"admin-item-actions",children:[s.jsx("button",{onClick:()=>{Tn(y.id),dr({...y,coverImage:y.cover_image||""})},children:""}),s.jsx("button",{onClick:()=>{window.confirm(`Remove ${y.name} from the Academy?`)&&le(y.id)},children:""}),s.jsx("button",{title:"Generate Student ID Card",style:{marginLeft:8},onClick:()=>{on(y),$r("id")},children:""}),s.jsx("button",{title:"Generate Enrollment Certificate",style:{marginLeft:4},onClick:()=>{on(y),$r("cert")},children:""})]})]},y.id))})]})}),z==="status"&&s.jsx("div",{className:"admin-section animate-fade",children:s.jsxs("div",{className:"status-grid",children:[s.jsxs(ve,{className:"status-card",children:[s.jsx("h3",{children:" Layer 1: App Cache"}),s.jsx("p",{className:"status-desc",children:"This is what your browser is currenty holding in memory."}),s.jsx("div",{className:"status-data",children:s.jsx("pre",{children:JSON.stringify({announcement:oe.title||"EMPTY",quests:n.length,roles:h.length,members:w.length},null,2)})})]}),s.jsxs(ve,{className:"status-card highlight",children:[s.jsx("h3",{children:" Layer 2: Supabase DB"}),s.jsx("p",{className:"status-desc",children:"This is your permanent, unlimited cloud database."}),s.jsx("div",{className:"status-data",children:Me==="error"?s.jsx("p",{style:{color:"#ff6f61"},children:" Supabase Connection Error. Check your Anon Key."}):Me?s.jsxs("div",{children:[s.jsx("p",{style:{color:"var(--color-primary)",fontWeight:"bold"},children:" All Systems Operational"}),s.jsx("pre",{children:JSON.stringify({"Database Type":Me.type,Connection:"Direct SQL",Status:"Online"},null,2)})]}):s.jsx("p",{children:" Checking connection..."})})]}),s.jsxs(ve,{className:"status-card",children:[s.jsx("h3",{children:" Layer 3: Live Site"}),s.jsx("p",{className:"status-desc",children:"All changes are now real-time! No manual production sync needed."}),s.jsx(Ne,{onClick:An,variant:"secondary",disabled:Or,children:Or?" Refreshing...":" Refresh UI"})]})]})})]}),at&&Dt==="id"&&Ra.createPortal(s.jsx(cx,{dreamer:at,onClose:()=>re(null)}),document.body),at&&Dt==="cert"&&Ra.createPortal(s.jsx(ux,{dreamer:at,onClose:()=>re(null)}),document.body),jr&&Dr==="id"&&Ra.createPortal(s.jsx(dx,{student:jr,onClose:()=>on(null)}),document.body),jr&&Dr==="cert"&&Ra.createPortal(s.jsx(hx,{student:jr,onClose:()=>on(null)}),document.body)]})}function mx(){const{sponsors:i}=ut(),r=i.filter(o=>o.themes&&o.themes.includes("Royal")||o.name.toLowerCase().includes("peter saam")),n=i.filter(o=>!r.some(c=>c.id===o.id));return s.jsxs("div",{className:"special-thanks",children:[s.jsxs("div",{className:"thanks-hero animate-fade",children:[s.jsx("h1",{children:"Wall of Gratitude"}),s.jsx("p",{children:"Honoring the visionaries who fuel the dream."})]}),s.jsx("div",{className:"royal-section animate-slide-up",children:r.length>0?r.map(o=>s.jsxs("div",{className:"royal-card",children:[s.jsxs("div",{className:"royal-header",children:[s.jsx("span",{className:"crown-icon",children:""}),s.jsx("h2",{children:"Royal Guardian"})]}),s.jsxs("div",{className:"royal-content",children:[s.jsx("div",{className:"royal-image-frame",children:s.jsx(Yt,{src:o.avatar,name:o.name,style:{width:"100%",height:"100%",borderRadius:"50%"}})}),s.jsxs("div",{className:"royal-info",children:[s.jsx("h3",{children:o.name}),s.jsx("span",{className:"royal-title",children:o.title||"Patron"}),s.jsx("p",{className:"royal-bio",children:o.bio||"A beacon of hope and support."}),s.jsx("div",{className:"royal-quote",children:'"Standing with DreamWorld since the beginning."'})]})]})]},o.id)):s.jsx("div",{style:{textAlign:"center",color:"var(--color-text-sub)"},children:s.jsx("p",{children:"No Royal Tributes yet."})})}),n.length>0&&s.jsxs("div",{className:"sponsors-section animate-fade",children:[s.jsxs("div",{className:"section-title-divider",children:[s.jsx("div",{className:"divider-line"}),s.jsx("span",{children:"Pillars of DreamWorld"}),s.jsx("div",{className:"divider-line"})]}),s.jsx("div",{className:"sponsors-grid",children:n.map(o=>s.jsxs("div",{className:"sponsor-card",children:[s.jsx(Yt,{src:o.avatar,name:o.name,className:"sponsor-avatar"}),s.jsx("h4",{className:"sponsor-name",children:o.name}),s.jsx("div",{className:"sponsor-role",children:o.title||"Sponsor"}),s.jsx("p",{className:"sponsor-bio",children:o.bio})]},o.id))})]})]})}function px(){const{academyStudents:i,loading:r}=ut();return s.jsxs("div",{className:"academy page",children:[s.jsxs("section",{className:"academy-hero",children:[s.jsx("div",{className:"academy-hero-bg"}),s.jsxs("div",{className:"container academy-hero-content",children:[s.jsx("p",{className:"academy-hero-tagline",children:"A Beautiful Dream presents"}),s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"DreamWorld Academy",className:"academy-hero-logo"}),s.jsx("h1",{className:"academy-hero-title",children:"DreamWorld Academy"}),s.jsxs("p",{className:"academy-hero-desc",children:["A mystical school where every young dreamer discovers their unique gifts and begins their journey to shape a better world.",s.jsx("br",{}),s.jsx("br",{}),"Ancient knowledge. Character growth. Honour & community. Your legend starts here."]}),s.jsxs("div",{className:"academy-hero-btns",children:[s.jsx(je,{to:"/academy/enroll",children:s.jsx(Ne,{variant:"primary",children:" Apply Now"})}),s.jsx(je,{to:"/academy/students",children:s.jsx(Ne,{variant:"secondary",children:" Meet Our Students"})})]})]})]}),s.jsxs("section",{className:"academy-about container",children:[s.jsx(wr,{title:"What is the Academy?",subtitle:"A place where young minds are awakened and destinies are forged"}),s.jsxs("div",{className:"academy-pillars-grid",children:[s.jsxs("div",{className:"academy-pillar",children:[s.jsx("div",{className:"pillar-icon",children:""}),s.jsx("h3",{children:"Ancient Knowledge"}),s.jsx("p",{children:"Dive into subjects that blend curiosity, creativity, and the timeless wisdom of the world."})]}),s.jsxs("div",{className:"academy-pillar",children:[s.jsx("div",{className:"pillar-icon",children:""}),s.jsx("h3",{children:"Character Growth"}),s.jsx("p",{children:"Earn XP, level up your character, and build a profile that reflects who you truly are."})]}),s.jsxs("div",{className:"academy-pillar",children:[s.jsx("div",{className:"pillar-icon",children:""}),s.jsx("h3",{children:"Honours & Certificates"}),s.jsx("p",{children:"Receive your official DreamWorld Academy ID card and certificate of enrollment."})]}),s.jsxs("div",{className:"academy-pillar",children:[s.jsx("div",{className:"pillar-icon",children:""}),s.jsx("h3",{children:"A Community of Dreamers"}),s.jsx("p",{children:"Join a fellowship of young changemakers guided by the Dreamers of DreamWorld."})]})]})]}),s.jsxs("section",{className:"container academy-students-section",children:[s.jsx(wr,{title:" Our Students",subtitle:r?"Loading...":`${i.length} student${i.length!==1?"s":""} currently enrolled`}),!r&&i.length===0?s.jsxs("div",{className:"academy-empty",children:[s.jsx("p",{children:" No students yet  be the first to enroll!"}),s.jsx(je,{to:"/academy/enroll",className:"academy-enroll-link",children:" Apply Now"})]}):s.jsx("div",{className:"academy-students-grid",children:i.map(n=>{const o=Math.floor((n.points||0)/100);return s.jsx(je,{to:`/academy/students/${n.id}`,className:"student-card-link",children:s.jsxs("div",{className:"student-card",children:[s.jsx("div",{className:"student-card-cover",style:{backgroundImage:"url(/AcademyBackground.png)"}}),s.jsx("div",{className:"student-card-avatar-wrap",children:s.jsx("img",{src:n.avatar||"/DreamWorldAcademy.png",alt:n.name,className:"student-card-avatar",onError:c=>{c.target.src="/DreamWorldAcademy.png"}})}),s.jsxs("div",{className:"student-card-body",children:[s.jsx("h3",{className:"student-card-name",children:n.name}),s.jsx("p",{className:"student-card-class",children:n.class}),n.school_name&&s.jsxs("p",{className:"student-card-school",children:[" ",n.school_name]}),s.jsxs("div",{className:"student-card-badges",children:[s.jsxs("span",{className:"student-badge colour-badge",children:[" ",n.favourite_colour]}),s.jsxs("span",{className:"student-badge animal-badge",children:[" ",n.favourite_animal]})]}),s.jsxs("div",{className:"student-level-bar",children:[s.jsxs("div",{className:"level-label",children:[s.jsxs("span",{children:["Dream Level ",o]}),s.jsxs("span",{children:[n.points||0," XP"]})]}),s.jsx("div",{className:"level-track",children:s.jsx("div",{className:"level-fill",style:{width:`${(n.points||0)%100}%`}})})]})]}),s.jsx("div",{className:"student-card-footer",children:s.jsx("span",{className:"view-profile",children:"View Profile "})})]})},n.id)})})]})]})}function gx(){const{academyStudents:i,loading:r}=ut();return r?s.jsx("div",{className:"loading-state",children:"Summoning the Academy Scrolls..."}):s.jsx("div",{className:"academy-students page",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"academy-students-hero",children:[s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"DreamWorld Academy",className:"academy-students-badge"}),s.jsx("h1",{children:"Academy Students"}),s.jsx("p",{children:"Meet the young dreamers enrolled in DreamWorld Academy  each forging their own destiny."})]}),s.jsx(wr,{title:"The Roll of Honor",subtitle:`${i.length} student${i.length!==1?"s":""} currently enrolled`}),i.length===0?s.jsxs("div",{className:"academy-empty",children:[s.jsx("p",{children:" No students yet. Be the first to enroll!"}),s.jsx(je,{to:"/academy",className:"academy-enroll-link",children:" Enroll Now"})]}):s.jsx("div",{className:"academy-students-grid",children:i.map(n=>{const o=Math.floor((n.points||0)/100);return s.jsx(je,{to:`/academy/students/${n.id}`,className:"student-card-link",children:s.jsxs("div",{className:"student-card",children:[s.jsx("div",{className:"student-card-cover",style:{backgroundImage:"url(/AcademyBackground.png)"}}),s.jsx("div",{className:"student-card-avatar-wrap",children:s.jsx("img",{src:n.avatar||"/DreamWorldAcademy.png",alt:n.name,className:"student-card-avatar",onError:c=>{c.target.src="/DreamWorldAcademy.png"}})}),s.jsxs("div",{className:"student-card-body",children:[s.jsx("h3",{className:"student-card-name",children:n.name}),s.jsx("p",{className:"student-card-class",children:n.class}),n.school_name&&s.jsxs("p",{className:"student-card-school",children:[" ",n.school_name]}),s.jsxs("div",{className:"student-card-badges",children:[s.jsxs("span",{className:"student-badge colour-badge",children:[" ",n.favourite_colour]}),s.jsxs("span",{className:"student-badge animal-badge",children:[" ",n.favourite_animal]})]}),s.jsxs("div",{className:"student-level-bar",children:[s.jsxs("div",{className:"level-label",children:[s.jsxs("span",{children:["Dream Level ",o]}),s.jsxs("span",{children:[n.points||0," XP"]})]}),s.jsx("div",{className:"level-track",children:s.jsx("div",{className:"level-fill",style:{width:`${(n.points||0)%100}%`}})})]})]}),s.jsx("div",{className:"student-card-footer",children:s.jsx("span",{className:"view-profile",children:"View Profile "})})]})},n.id)})}),s.jsx("div",{className:"academy-cta",children:s.jsx(je,{to:"/academy",children:s.jsx("button",{className:"academy-join-btn",children:" Apply to the Academy"})})})]})})}function vx(){const{id:i}=ac(),{academyStudents:r,loading:n}=ut();if(n)return s.jsx("div",{className:"loading-state",children:"Loading student profile..."});const o=r.find(h=>h.id===i);if(!o)return s.jsx("div",{className:"not-found page",children:s.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"80px"},children:[s.jsx("h2",{children:"Student not found"}),s.jsx("p",{children:"This student may no longer be in the Academy."}),s.jsx(je,{to:"/academy/students",children:s.jsx(Ne,{variant:"primary",children:" Back to Students"})})]})});const c=Math.floor((o.points||0)/100),u=(o.points||0)%100;return s.jsxs("div",{className:"academy-detail page",children:[s.jsx("div",{className:"academy-detail-cover",style:{backgroundImage:"url(/AcademyBackground.png)"},children:s.jsx("div",{className:"cover-overlay"})}),s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"academy-detail-header",children:[s.jsxs("div",{className:"academy-detail-avatar-wrap",children:[s.jsx("img",{src:o.avatar||"/DreamWorldAcademy.png",alt:o.name,className:"academy-detail-avatar",onError:h=>{h.target.src="/DreamWorldAcademy.png"}}),s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"Academy",className:"academy-detail-badge-icon"})]}),s.jsxs("div",{className:"academy-detail-info",children:[s.jsx("p",{className:"detail-academy-label",children:"DreamWorld Academy"}),s.jsx("h1",{className:"detail-name",children:o.name}),s.jsxs("p",{className:"detail-class",children:[o.class,o.school_name?`  ${o.school_name}`:""]}),s.jsxs("p",{className:"detail-joined",children:["Enrolled: ",o.joined_date?new Date(o.joined_date).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"Recently"]})]})]}),s.jsxs("div",{className:"detail-level-card",children:[s.jsxs("div",{className:"level-number",children:["Dream Level ",c]}),s.jsx("div",{className:"level-xp-bar",children:s.jsx("div",{className:"level-xp-fill",style:{width:`${u}%`}})}),s.jsxs("p",{className:"level-xp-text",children:[o.points||0," XP total  ",u," / 100 XP to next level"]})]}),s.jsxs("div",{className:"detail-facts-grid",children:[s.jsxs("div",{className:"detail-fact-card",children:[s.jsx("div",{className:"fact-icon",children:""}),s.jsx("div",{className:"fact-label",children:"Age"}),s.jsx("div",{className:"fact-value",children:o.age||""})]}),s.jsxs("div",{className:"detail-fact-card",children:[s.jsx("div",{className:"fact-icon",children:""}),s.jsx("div",{className:"fact-label",children:"Gender"}),s.jsx("div",{className:"fact-value",children:o.gender||""})]}),s.jsxs("div",{className:"detail-fact-card",children:[s.jsx("div",{className:"fact-icon",children:""}),s.jsx("div",{className:"fact-label",children:"Favourite Colour"}),s.jsx("div",{className:"fact-value",children:o.favourite_colour||""})]}),s.jsxs("div",{className:"detail-fact-card",children:[s.jsx("div",{className:"fact-icon",children:""}),s.jsx("div",{className:"fact-label",children:"Favourite Animal"}),s.jsx("div",{className:"fact-value",children:o.favourite_animal||""})]})]}),o.hobbies&&s.jsxs("div",{className:"detail-section",children:[s.jsx("h2",{className:"detail-section-title",children:" Interests & Hobbies"}),s.jsx("p",{className:"detail-section-text",children:o.hobbies})]}),o.aim_in_life&&s.jsxs("div",{className:"detail-section detail-aim",children:[s.jsx("h2",{className:"detail-section-title",children:" Dream & Aim in Life"}),s.jsxs("blockquote",{className:"aim-quote",children:['"',o.aim_in_life,'"']})]}),s.jsx("div",{className:"detail-back-link",children:s.jsx(je,{to:"/academy/students",children:s.jsx(Ne,{variant:"secondary",children:" Back to Academy"})})})]})]})}function yx(){const{submitAcademyApplication:i}=ut(),[r,n]=S.useState({name:"",class:"",schoolName:"",age:"",gender:"",phone:"",email:"",hobbies:"",favouriteColour:"",favouriteAnimal:"",aimInLife:""}),[o,c]=S.useState({}),[u,h]=S.useState(!1),[m,p]=S.useState(!1),[g,w]=S.useState(""),[x,j]=S.useState(!1),N=C=>{const{name:$,value:U}=C.target;n(P=>({...P,[$]:U})),o[$]&&c(P=>({...P,[$]:""})),g&&w("")},b=()=>{const C={};return r.name.trim()||(C.name="Name is required"),r.class||(C.class="Class is required"),r.age||(C.age="Age is required"),r.gender||(C.gender="Gender is required"),r.hobbies.trim()||(C.hobbies="Please share your interests"),r.favouriteColour.trim()||(C.favouriteColour="Required"),r.favouriteAnimal.trim()||(C.favouriteAnimal="Required"),r.aimInLife.trim()||(C.aimInLife="Please share your dream"),C},R=async C=>{C.preventDefault(),w(""),j(!1);const $=localStorage.getItem("dw_academy_last_submission");if($&&Date.now()-parseInt($)<1440*60*1e3){j(!0);return}const U=b();if(Object.keys(U).length>0){c(U);return}p(!0);try{await i(r),localStorage.setItem("dw_academy_last_submission",Date.now().toString()),h(!0)}catch(P){w("Failed to submit your application. Please try again. ("+P.message+")")}finally{p(!1)}};return u?s.jsx("div",{className:"acad-enroll page",children:s.jsx("div",{className:"enroll-success-page",children:s.jsxs("div",{className:"enroll-success-inner",children:[s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"Academy",className:"success-badge-img"}),s.jsx("h2",{children:"Your Scroll Has Been Received!"}),s.jsxs("p",{children:["Welcome to the gates of ",s.jsx("strong",{children:"DreamWorld Academy"}),", young dreamer.",s.jsx("br",{}),"The Council will review your enrollment scroll with great care."]}),s.jsx("p",{className:"success-note-sub",children:"Await a formal decree regarding your acceptance. "}),s.jsxs("div",{className:"success-actions",children:[s.jsx(je,{to:"/academy",children:s.jsx(Ne,{variant:"primary",children:" Back to Academy"})}),s.jsx(je,{to:"/academy/students",children:s.jsx(Ne,{variant:"secondary",children:"Meet Our Students"})})]})]})})}):s.jsxs("div",{className:"acad-enroll page",children:[s.jsx("div",{className:"acad-enroll-header",children:s.jsxs("div",{className:"container acad-enroll-header-inner",children:[s.jsx("img",{src:"/DreamWorldAcademy.png",alt:"Academy",className:"enroll-badge"}),s.jsx("p",{className:"enroll-tagline",children:"DreamWorld Academy"}),s.jsx("h1",{className:"enroll-title",children:"Enrollment Scroll"}),s.jsx("p",{className:"enroll-desc",children:"Fill in the scroll below to begin your Academy journey. The Council will review your application."})]})}),s.jsx("div",{className:"container acad-enroll-body",children:s.jsxs("div",{className:"acad-enroll-layout",children:[s.jsxs(ve,{className:"enroll-form-card",hover:!1,children:[x&&s.jsx("div",{className:"ef-inline-warn",children:" The Academy Scrolls require patience. You have already applied recently. Please wait 24 hours before applying again."}),g&&s.jsxs("div",{className:"ef-inline-error",children:[" ",g]}),s.jsxs("form",{onSubmit:R,className:"enroll-form",children:[s.jsxs("div",{className:"ef-row",children:[s.jsxs("div",{className:"ef-group",children:[s.jsx("label",{htmlFor:"e-name",children:"Full Name *"}),s.jsx("input",{id:"e-name",type:"text",name:"name",value:r.name,onChange:N,placeholder:"Your full name",className:o.name?"ef-error":""}),o.name&&s.jsx("span",{className:"ef-err-msg",children:o.name})]}),s.jsxs("div",{className:"ef-group",children:[s.jsx("label",{htmlFor:"e-class",children:"Class / Grade *"}),s.jsxs("select",{id:"e-class",name:"class",value:r.class,onChange:N,className:o.class?"ef-error":"",children:[s.jsx("option",{value:"",children:"Select class..."}),["Class 1","Class 2","Class 3","Class 4","Class 5","Class 6","Class 7","Class 8","Class 9","Class 10","Class 11","Class 12","College / University","Other"].map(C=>s.jsx("option",{value:C,children:C},C))]}),o.class&&s.jsx("span",{className:"ef-err-msg",children:o.class})]})]}),s.jsxs("div",{className:"ef-group",children:[s.jsxs("label",{htmlFor:"e-school",children:["School / Institution ",s.jsx("span",{className:"ef-optional",children:"(Optional)"})]}),s.jsx("input",{id:"e-school",type:"text",name:"schoolName",value:r.schoolName,onChange:N,placeholder:"Name of your school or college"})]}),s.jsxs("div",{className:"ef-row",children:[s.jsxs("div",{className:"ef-group",children:[s.jsx("label",{htmlFor:"e-age",children:"Age *"}),s.jsx("input",{id:"e-age",type:"number",name:"age",value:r.age,onChange:N,placeholder:"Your age",min:"5",max:"25",className:o.age?"ef-error":""}),o.age&&s.jsx("span",{className:"ef-err-msg",children:o.age})]}),s.jsxs("div",{className:"ef-group",children:[s.jsx("label",{htmlFor:"e-gender",children:"Gender *"}),s.jsxs("select",{id:"e-gender",name:"gender",value:r.gender,onChange:N,className:o.gender?"ef-error":"",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Other",children:"Other"})]}),o.gender&&s.jsx("span",{className:"ef-err-msg",children:o.gender})]})]}),s.jsxs("div",{className:"ef-contact-section",children:[s.jsx("p",{className:"ef-contact-note",children:" Contact details are private  only the Academy admin can see them."}),s.jsxs("div",{className:"ef-row",children:[s.jsxs("div",{className:"ef-group",children:[s.jsxs("label",{htmlFor:"e-phone",children:["Phone Number ",s.jsx("span",{className:"ef-optional",children:"(Optional)"})]}),s.jsx("input",{id:"e-phone",type:"tel",name:"phone",value:r.phone,onChange:N,placeholder:"e.g. +91 98765 43210"})]}),s.jsxs("div",{className:"ef-group",children:[s.jsxs("label",{htmlFor:"e-email",children:["Email Address ",s.jsx("span",{className:"ef-optional",children:"(Optional)"})]}),s.jsx("input",{id:"e-email",type:"email",name:"email",value:r.email,onChange:N,placeholder:"your@email.com"})]})]})]}),s.jsxs("div",{className:"ef-group",children:[s.jsx("label",{htmlFor:"e-hobbies",children:"Interests & Hobbies *"}),s.jsx("textarea",{id:"e-hobbies",name:"hobbies",value:r.hobbies,onChange:N,rows:"3",placeholder:"e.g. Drawing, reading, coding, football...",className:o.hobbies?"ef-error":""}),o.hobbies&&s.jsx("span",{className:"ef-err-msg",children:o.hobbies})]}),s.jsxs("div",{className:"ef-row",children:[s.jsxs("div",{className:"ef-group",children:[s.jsx("label",{htmlFor:"e-colour",children:"Favourite Colour *"}),s.jsx("input",{id:"e-colour",type:"text",name:"favouriteColour",value:r.favouriteColour,onChange:N,placeholder:"e.g. Deep Blue, Violet",className:o.favouriteColour?"ef-error":""}),o.favouriteColour&&s.jsx("span",{className:"ef-err-msg",children:o.favouriteColour})]}),s.jsxs("div",{className:"ef-group",children:[s.jsx("label",{htmlFor:"e-animal",children:"Favourite Animal *"}),s.jsx("input",{id:"e-animal",type:"text",name:"favouriteAnimal",value:r.favouriteAnimal,onChange:N,placeholder:"e.g. Wolf, Owl, Dragon",className:o.favouriteAnimal?"ef-error":""}),o.favouriteAnimal&&s.jsx("span",{className:"ef-err-msg",children:o.favouriteAnimal})]})]}),s.jsxs("div",{className:"ef-group",children:[s.jsx("label",{htmlFor:"e-aim",children:"Your Aim in Life / Dream *"}),s.jsx("textarea",{id:"e-aim",name:"aimInLife",value:r.aimInLife,onChange:N,rows:"3",placeholder:"What do you want to be? What change do you want to bring to the world?",className:o.aimInLife?"ef-error":""}),o.aimInLife&&s.jsx("span",{className:"ef-err-msg",children:o.aimInLife})]}),s.jsx(Ne,{type:"submit",variant:"primary",disabled:m||x,children:m?" Submitting Scroll...":" Submit My Enrollment"})]})]}),s.jsxs("div",{className:"enroll-sidebar",children:[s.jsxs(ve,{className:"enroll-info-card",hover:!1,children:[s.jsx("h3",{children:" Why Join?"}),s.jsxs("div",{className:"enroll-benefit",children:[s.jsx("span",{className:"benefit-icon",children:""}),s.jsxs("div",{children:[s.jsx("h4",{children:"Learning & Growth"}),s.jsx("p",{children:"Discover your unique gifts and begin your journey."})]})]}),s.jsxs("div",{className:"enroll-benefit",children:[s.jsx("span",{className:"benefit-icon",children:""}),s.jsxs("div",{children:[s.jsx("h4",{children:"ID Card & Certificate"}),s.jsx("p",{children:"Receive your official Academy documents on acceptance."})]})]}),s.jsxs("div",{className:"enroll-benefit",children:[s.jsx("span",{className:"benefit-icon",children:""}),s.jsxs("div",{children:[s.jsx("h4",{children:"Dream Level System"}),s.jsx("p",{children:"Earn XP and watch your character grow."})]})]}),s.jsxs("div",{className:"enroll-benefit",children:[s.jsx("span",{className:"benefit-icon",children:""}),s.jsxs("div",{children:[s.jsx("h4",{children:"A Dreamer Community"}),s.jsx("p",{children:"Be part of a fellowship of young changemakers."})]})]})]}),s.jsxs(ve,{className:"enroll-note-card",hover:!1,children:[s.jsx("h4",{children:" What happens next?"}),s.jsxs("ol",{className:"enroll-steps",children:[s.jsx("li",{children:"Submit your enrollment scroll"}),s.jsx("li",{children:"The Academy Council reviews your application"}),s.jsx("li",{children:"You receive a decision"}),s.jsx("li",{children:"Accepted students get their ID card & certificate"})]})]})]})]})})]})}S.createContext();function wx(){const r=ur().pathname==="/",[n,o]=S.useState(!1),[c,u]=S.useState(!1),{isSoundMuted:h}=ef(),m=()=>{o(!0),u(!0)};return S.useEffect(()=>{const p=g=>{if(h)return;if(g.target.closest('a, button, [role="button"], .card, .character-link, .role-card')){const x=new Audio("/ButtonAudio.mp3");x.volume=.7,x.play().catch(j=>console.log("Audio play failed:",j))}};return document.addEventListener("click",p),()=>document.removeEventListener("click",p)},[h]),s.jsx(Kw,{children:s.jsxs("div",{className:"app",children:[s.jsx(ox,{}),!n&&s.jsx(ov,{onEnter:m}),s.jsx(lv,{}),s.jsxs("div",{className:`main-app-content ${n?"fade-in":""}`,children:[s.jsx(sv,{}),s.jsx("main",{className:"main-content",children:s.jsxs(wg,{children:[s.jsx(nt,{path:"/",element:s.jsx(Qw,{})}),s.jsx(nt,{path:"/about",element:s.jsx(Yw,{})}),s.jsx(nt,{path:"/characters",element:s.jsx(Xw,{})}),s.jsx(nt,{path:"/characters/:id",element:s.jsx(Zw,{})}),s.jsx(nt,{path:"/roles",element:s.jsx(ex,{})}),s.jsx(nt,{path:"/roles/:id",element:s.jsx(tx,{})}),s.jsx(nt,{path:"/creator",element:s.jsx(rx,{})}),s.jsx(nt,{path:"/quests",element:s.jsx(nx,{})}),s.jsx(nt,{path:"/events",element:s.jsx(sx,{})}),s.jsx(nt,{path:"/join",element:s.jsx(ix,{})}),s.jsx(nt,{path:"/funders",element:s.jsx(ax,{})}),s.jsx(nt,{path:"/admin",element:s.jsx(lx,{})}),s.jsx(nt,{path:"/admin/dashboard",element:s.jsx(fx,{})}),s.jsx(nt,{path:"/thanks",element:s.jsx(mx,{})}),s.jsx(nt,{path:"/academy",element:s.jsx(px,{})}),s.jsx(nt,{path:"/academy/enroll",element:s.jsx(yx,{})}),s.jsx(nt,{path:"/academy/students",element:s.jsx(gx,{})}),s.jsx(nt,{path:"/academy/students/:id",element:s.jsx(vx,{})})]})}),!r&&s.jsx(iv,{})]}),s.jsx(av,{shouldStart:c})]})})}_p.createRoot(document.getElementById("root")).render(s.jsx(gp.StrictMode,{children:s.jsx(qg,{children:s.jsx(tv,{children:s.jsx(wx,{})})})}));
